(window.webpackJsonp=window.webpackJsonp||[]).push([["settings"],{"1EJ0":function(e,t,r){"use strict";var n=r("vOnD").default.p.withConfig({displayName:"Notice",componentId:"sc-1qon07p-0"})(["background:",";color:",";padding:10px 12px;border-radius:4px;position:relative;"],(function(e){return e.theme.sidebarBackground}),(function(e){return e.theme.sidebarText}));t.a=n},"1duS":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return SettingsRoutes}));var n=r("q1tI"),a=r("Ty5D"),o=(r("sMBO"),r("ls82"),r("TyAF")),i=r("tsqv"),l=r("9Koi"),c=r("3k8n"),u=r("vOnD"),s=r("eJ2A"),p=r("bgvO"),m=r("XvPW"),f=r("ml7e"),d=r("8lVk"),y=r("0LAK"),h=r("W6JG"),b=r("1fUH"),v=r("0gVK"),g=r("AfkI"),_=r("6elG");function asyncGeneratorStep(e,t,r,n,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function _slicedToArray(e,t){return function _arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||function _unsupportedIterableToArray(e,t){if(!e)return;if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(e,t)}(e,t)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var w=Object(u.default)(p.a).withConfig({displayName:"Details__ProfilePicture",componentId:"sc-1wjrznt-0"})(["margin-bottom:24px;"]),E="\n  width: 80px;\n  height: 80px;\n  border-radius: 8px;\n",O=Object(u.default)(p.a).withConfig({displayName:"Details__AvatarContainer",componentId:"sc-1wjrznt-1"})(["",";position:relative;box-shadow:0 0 0 1px #dae1e9;background:",";div div{",";position:absolute;top:0;right:0;bottom:0;left:0;opacity:0;cursor:pointer;transition:all 250ms;}&:hover div{opacity:1;background:rgba(0,0,0,0.75);color:",";}"],E,(function(e){return e.theme.white}),E,(function(e){return e.theme.white})),k=u.default.img.withConfig({displayName:"Details__Avatar",componentId:"sc-1wjrznt-2"})(["",";"],E),x=Object(o.d)((function Details(){var e=Object(g.a)().auth,t=Object(_.a)().showToast,r=Object(v.a)(),a=Object(l.a)().t,o=Object(n.useRef)(),u=_slicedToArray(Object(n.useState)(r.name),2),E=u[0],x=u[1],S=_slicedToArray(Object(n.useState)(r.subdomain),2),A=S[0],j=S[1],C=_slicedToArray(Object(n.useState)(),2),P=C[0],T=C[1],I=n.useCallback(function(){var r=function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function _next(e){asyncGeneratorStep(o,n,a,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(o,n,a,_next,_throw,"throw",e)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(r){return regeneratorRuntime.wrap((function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return r&&r.preventDefault(),n.prev=1,n.next=4,e.updateTeam({name:E,avatarUrl:P,subdomain:A});case 4:t(a("Settings saved"),{type:"success"}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),t(n.t0.message,{type:"error"});case 10:case"end":return n.stop()}}),_callee,null,[[1,7]])})));return function(e){return r.apply(this,arguments)}}(),[e,t,E,P,A,a]),D=n.useCallback((function(e){x(e.target.value)}),[]),G=n.useCallback((function(e){j(e.target.value.toLowerCase())}),[]),R=n.useCallback((function(e){T(e),I()}),[I]),N=n.useCallback((function(e){t(e||a("Unable to upload new logo"))}),[t,a]),U=o.current&&o.current.checkValidity();return n.createElement(y.a,{title:a("Details"),icon:n.createElement(i.TeamIcon,{color:"currentColor"})},n.createElement(m.a,null,a("Details")),n.createElement(f.a,null,n.createElement(c.a,null,"These details affect the way that your Outline appears to everyone on the team.")),n.createElement(w,{column:!0},n.createElement(d.a,null,a("Logo")),n.createElement(O,null,n.createElement(h.a,{onSuccess:R,onError:N,submitText:a("Crop logo"),borderRadius:0},n.createElement(k,{src:P}),n.createElement(p.a,{auto:!0,align:"center",justify:"center"},n.createElement(c.a,null,"Upload"))))),n.createElement("form",{onSubmit:I,ref:o},n.createElement(d.c,{label:a("Name"),name:"name",autoComplete:"organization",value:E,onChange:D,required:!0,short:!0}),b.a.SUBDOMAINS_ENABLED&&n.createElement(n.Fragment,null,n.createElement(d.c,{label:a("Subdomain"),name:"subdomain",value:A||"",onChange:G,autoComplete:"off",minLength:4,maxLength:32,short:!0}),A&&n.createElement(f.a,{small:!0},n.createElement(c.a,null,"Your knowledge base will be accessible at")," ",n.createElement("strong",null,A,".getoutline.com"))),n.createElement(s.b,{type:"submit",disabled:e.isSaving||!U},e.isSaving?"".concat(a("Saving"),"…"):a("Save"))))})),S=r("NXpP"),A=r("VmCM"),j=r("uoFF"),C=r("VGjU"),P=r("rOyr"),T=r("Rcen"),I=r("w/EL"),D=r("UkNe"),G=r("LU5X"),R=(r("6Lqc"),r("xqIG"));function GroupDelete_asyncGeneratorStep(e,t,r,n,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function GroupDelete_slicedToArray(e,t){return function GroupDelete_arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function GroupDelete_iterableToArrayLimit(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||function GroupDelete_unsupportedIterableToArray(e,t){if(!e)return;if("string"==typeof e)return GroupDelete_arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GroupDelete_arrayLikeToArray(e,t)}(e,t)||function GroupDelete_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GroupDelete_arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var N=Object(o.d)((function GroupDelete(e){var t=e.group,r=e.onSubmit,o=Object(l.a)().t,i=Object(_.a)().showToast,u=Object(a.h)(),m=GroupDelete_slicedToArray(n.useState(),2),d=m[0],y=m[1],h=function(){var e=function GroupDelete_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function _next(e){GroupDelete_asyncGeneratorStep(o,n,a,_next,_throw,"next",e)}function _throw(e){GroupDelete_asyncGeneratorStep(o,n,a,_next,_throw,"throw",e)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(e){return regeneratorRuntime.wrap((function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),y(!0),n.prev=2,n.next=5,t.delete();case 5:u.push(Object(R.d)()),r(),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),i(n.t0.message,{type:"error"});case 12:return n.prev=12,y(!1),n.finish(12);case 15:case"end":return n.stop()}}),_callee,null,[[2,9,12,15]])})));return function handleSubmit(t){return e.apply(this,arguments)}}();return n.createElement(p.a,{column:!0},n.createElement("form",{onSubmit:h},n.createElement(f.a,null,n.createElement(c.a,{defaults:"Are you sure about that? Deleting the <em>{{groupName}}</em> group will cause its members to lose access to collections and documents that it is associated with.",values:{groupName:t.name},components:{em:n.createElement("strong",null)}})),n.createElement(s.b,{type:"submit",danger:!0},d?"".concat(o("Deleting"),"…"):o("I’m sure – Delete"))))}));function GroupEdit_asyncGeneratorStep(e,t,r,n,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function GroupEdit_slicedToArray(e,t){return function GroupEdit_arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function GroupEdit_iterableToArrayLimit(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||function GroupEdit_unsupportedIterableToArray(e,t){if(!e)return;if("string"==typeof e)return GroupEdit_arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GroupEdit_arrayLikeToArray(e,t)}(e,t)||function GroupEdit_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GroupEdit_arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var U=Object(o.d)((function GroupEdit(e){var t=e.group,r=e.onSubmit,a=Object(_.a)().showToast,o=Object(l.a)().t,i=GroupEdit_slicedToArray(n.useState(t.name),2),u=i[0],m=i[1],y=GroupEdit_slicedToArray(n.useState(),2),h=y[0],b=y[1],v=n.useCallback(function(){var e=function GroupEdit_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function _next(e){GroupEdit_asyncGeneratorStep(o,n,a,_next,_throw,"next",e)}function _throw(e){GroupEdit_asyncGeneratorStep(o,n,a,_next,_throw,"throw",e)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(e){return regeneratorRuntime.wrap((function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),b(!0),n.prev=2,n.next=5,t.save({name:u});case 5:r(),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(2),a(n.t0.message,{type:"error"});case 11:return n.prev=11,b(!1),n.finish(11);case 14:case"end":return n.stop()}}),_callee,null,[[2,8,11,14]])})));return function(t){return e.apply(this,arguments)}}(),[t,r,a,u]),g=n.useCallback((function(e){m(e.target.value)}),[]);return n.createElement("form",{onSubmit:v},n.createElement(f.a,null,n.createElement(c.a,null,"You can edit the name of this group at any time, however doing so too often might confuse your team mates.")),n.createElement(p.a,null,n.createElement(d.c,{type:"text",label:o("Name"),onChange:g,value:u,required:!0,autoFocus:!0,flex:!0})),n.createElement(s.b,{type:"submit",disabled:h||!u},h?"".concat(o("Saving"),"…"):o("Save")))})),L=r("W4FJ"),z=r("hQKh"),M=r("NOt+");function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function GroupMenu_slicedToArray(e,t){return function GroupMenu_arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function GroupMenu_iterableToArrayLimit(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||function GroupMenu_unsupportedIterableToArray(e,t){if(!e)return;if("string"==typeof e)return GroupMenu_arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GroupMenu_arrayLikeToArray(e,t)}(e,t)||function GroupMenu_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GroupMenu_arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var W=Object(o.d)((function GroupMenu(e){var t=e.group,r=e.onMembers,a=Object(l.a)().t,o=Object(g.a)().policies,i=Object(G.a)({modal:!0}),c=GroupMenu_slicedToArray(n.useState(!1),2),u=c[0],s=c[1],p=GroupMenu_slicedToArray(n.useState(!1),2),m=p[0],f=p[1],d=o.abilities(t.id);return n.createElement(n.Fragment,null,n.createElement(P.a,{title:a("Edit group"),onRequestClose:function onRequestClose(){return s(!1)},isOpen:u},n.createElement(U,{group:t,onSubmit:function onSubmit(){return s(!1)}})),n.createElement(P.a,{title:a("Delete group"),onRequestClose:function onRequestClose(){return f(!1)},isOpen:m},n.createElement(N,{group:t,onSubmit:function onSubmit(){return f(!1)}})),n.createElement(z.a,_extends({"aria-label":a("Show menu")},i)),n.createElement(L.a,_extends({},i,{"aria-label":a("Group options")}),n.createElement(M.a,_extends({},i,{items:[{title:"".concat(a("Members"),"…"),onClick:r,visible:!(!t||!d.read)},{type:"separator"},{title:"".concat(a("Edit"),"…"),onClick:function onClick(){return s(!0)},visible:!(!t||!d.update)},{title:"".concat(a("Delete"),"…"),onClick:function onClick(){return f(!0)},visible:!(!t||!d.delete)}]}))))}));function Groups_slicedToArray(e,t){return function Groups_arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function Groups_iterableToArrayLimit(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||function Groups_unsupportedIterableToArray(e,t){if(!e)return;if("string"==typeof e)return Groups_arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Groups_arrayLikeToArray(e,t)}(e,t)||function Groups_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Groups_arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var F=Object(o.d)((function Groups(){var e=Object(l.a)().t,t=Object(g.a)(),r=t.policies,a=t.groups,o=Object(v.a)(),u=r.abilities(o.id),p=Groups_slicedToArray(Object(D.a)(),3),d=p[0],h=p[1],b=p[2];return n.createElement(y.a,{title:e("Groups"),icon:n.createElement(i.GroupIcon,{color:"currentColor"}),actions:n.createElement(n.Fragment,null,u.createGroup&&n.createElement(A.a,null,n.createElement(s.b,{type:"button",onClick:h,icon:n.createElement(i.PlusIcon,null)},"".concat(e("New group"),"…"))))},n.createElement(m.a,null,e("Groups")),n.createElement(f.a,null,n.createElement(c.a,null,"Groups can be used to organize and manage the people on your team.")),n.createElement(I.a,null,e("All groups")),n.createElement(T.a,{items:a.orderedData,empty:n.createElement(j.a,null,e("No groups have been created yet")),fetch:a.fetchPage,renderItem:function renderItem(e){return n.createElement(C.a,{key:e.id,group:e,renderActions:function renderActions(t){var r=t.openMembersModal;return n.createElement(W,{group:e,onMembers:r})},showFacepile:!0})}}),n.createElement(P.a,{title:e("Create a group"),onRequestClose:b,isOpen:d},n.createElement(S.a,{onSubmit:b})))})),q=(r("ma9I"),r("TeQF"),r("2B1R"),r("QLaP")),$=r.n(q),H=r("s2m+"),K=(r("yq1k"),r("07d7"),r("5s+n"),r("rB9j"),r("inlA"),r("JTJg"),r("UxlC"),r("EnZy"),r("LKBx"),r("FZtP"),r("33yf")),B=r.n(K),J=r("xOOu"),V=r.n(J);function zip_asyncGeneratorStep(e,t,r,n,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function zip_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function _next(e){zip_asyncGeneratorStep(o,n,a,_next,_throw,"next",e)}function _throw(e){zip_asyncGeneratorStep(o,n,a,_next,_throw,"throw",e)}_next(void 0)}))}}function parseOutlineExport(e){return _parseOutlineExport.apply(this,arguments)}function _parseOutlineExport(){return(_parseOutlineExport=zip_asyncToGenerator(regeneratorRuntime.mark((function _callee2(e){var t,r;return regeneratorRuntime.wrap((function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,V.a.loadAsync(e);case 2:return t=n.sent,r=[],t.forEach(function(){var e=zip_asyncToGenerator(regeneratorRuntime.mark((function _callee(e,t){var n,a,o,i,l,c;return regeneratorRuntime.wrap((function _callee$(u){for(;;)switch(u.prev=u.next){case 0:if(n=e.replace(/\/$/,""),a=B.a.dirname(n),o=B.a.basename(t.name),i=n.split("/").length-1,!n.startsWith("__MACOSX")&&!n.endsWith(".DS_Store")){u.next=6;break}return u.abrupt("return");case 6:l={};try{l=t.comment?JSON.parse(t.comment):{}}catch(e){console.log("ZIP comment found for ".concat(t.name,", but could not be parsed as metadata: ").concat(t.comment))}if(0!==i||t.dir){u.next=10;break}throw new Error("Root of zip file must only contain folders representing collections");case 10:if(0===i&&t.dir&&o&&(c="collection"),i>0&&!t.dir&&t.name.endsWith(".md")&&(c="document"),i>0&&!t.dir&&n.includes("uploads")&&(c="attachment"),c){u.next=15;break}return u.abrupt("return");case 15:r.push({path:n,dir:a,name:o,depth:i,type:c,metadata:l,item:t});case 16:case"end":return u.stop()}}),_callee)})));return function(t,r){return e.apply(this,arguments)}}()),n.abrupt("return",r);case 6:case"end":return n.stop()}}),_callee2)})))).apply(this,arguments)}var Z=r("1EJ0"),Q=r("h+Ab"),Y=r("axc+"),X=r("vKeC");function ImportExport_asyncGeneratorStep(e,t,r,n,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function ImportExport_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function _next(e){ImportExport_asyncGeneratorStep(o,n,a,_next,_throw,"next",e)}function _throw(e){ImportExport_asyncGeneratorStep(o,n,a,_next,_throw,"throw",e)}_next(void 0)}))}}function ImportExport_slicedToArray(e,t){return function ImportExport_arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function ImportExport_iterableToArrayLimit(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||function ImportExport_unsupportedIterableToArray(e,t){if(!e)return;if("string"==typeof e)return ImportExport_arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ImportExport_arrayLikeToArray(e,t)}(e,t)||function ImportExport_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ImportExport_arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ee=u.default.ul.withConfig({displayName:"ImportExport__List",componentId:"sc-1ovope6-0"})(["padding:0;margin:8px 0 0;"]),te=Object(u.default)(Z.a).withConfig({displayName:"ImportExport__ImportPreview",componentId:"sc-1ovope6-1"})(["margin-bottom:16px;"]),re=u.default.li.withConfig({displayName:"ImportExport__ImportPreviewItem",componentId:"sc-1ovope6-2"})(["display:flex;align-items:center;list-style:none;"]),ne=u.default.span.withConfig({displayName:"ImportExport__CollectionName",componentId:"sc-1ovope6-3"})(["font-weight:500;margin-left:4px;"]),ae=Object(o.d)((function ImportExport(){var e=Object(l.a)().t,t=Object(Q.a)(),r=n.useRef(),a=Object(g.a)().collections,o=Object(_.a)().showToast,u=ImportExport_slicedToArray(n.useState(!1),2),p=u[0],d=u[1],h=ImportExport_slicedToArray(n.useState(!1),2),b=h[0],v=h[1],w=ImportExport_slicedToArray(n.useState(!1),2),E=w[0],O=w[1],k=ImportExport_slicedToArray(n.useState(!1),2),x=k[0],S=k[1],A=ImportExport_slicedToArray(n.useState(),2),j=A[0],C=A[1],P=ImportExport_slicedToArray(n.useState(),2),T=P[0],I=P[1],D=n.useCallback(function(){var t=ImportExport_asyncToGenerator(regeneratorRuntime.mark((function _callee(t){var n;return regeneratorRuntime.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return O(void 0),v(!0),t.prev=2,$()(j,"File must exist to upload"),t.next=6,Object(X.b)(j,{name:j.name});case 6:return n=t.sent,t.next=9,a.import(n.id);case 9:o(e("Import started")),O(!0),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),o(t.t0.message);case 16:return t.prev=16,r.current&&(r.current.value=""),v(!1),C(void 0),I(void 0),t.finish(16);case 22:case"end":return t.stop()}}),_callee,null,[[2,13,16,22]])})));return function(e){return t.apply(this,arguments)}}(),[e,j,a,o]),G=n.useCallback(function(){var e=ImportExport_asyncToGenerator(regeneratorRuntime.mark((function _callee2(e){var t,r;return regeneratorRuntime.wrap((function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),t=Object(Y.a)(e),r=t[0],C(r),n.prev=4,n.t0=I,n.next=8,parseOutlineExport(r);case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=15;break;case 12:n.prev=12,n.t2=n.catch(4),I([]);case 15:case"end":return n.stop()}}),_callee2,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}(),[]),R=n.useCallback((function(e){e.preventDefault(),r.current&&r.current.click()}),[r]),N=n.useCallback(function(){var t=ImportExport_asyncToGenerator(regeneratorRuntime.mark((function _callee3(t){return regeneratorRuntime.wrap((function _callee3$(r){for(;;)switch(r.prev=r.next){case 0:return t.preventDefault(),d(!0),r.prev=2,r.next=5,a.export();case 5:S(!0),o(e("Export in progress…"));case 7:return r.prev=7,d(!1),r.finish(7);case 10:case"end":return r.stop()}}),_callee3,null,[[2,,7,10]])})));return function(e){return t.apply(this,arguments)}}(),[e,a,o]),U=!!T&&!!T.filter((function(e){return"collection"===e.type})).length,L=!!T&&!!T.filter((function(e){return"document"===e.type})).length,z=U&&L;return n.createElement(y.a,{title:"".concat(e("Import")," / ").concat(e("Export")),icon:n.createElement(i.DocumentIcon,{color:"currentColor"})},n.createElement(m.a,null,e("Import")),n.createElement(f.a,null,n.createElement(c.a,null,"It is possible to import a zip file of folders and Markdown files previously exported from an Outline instance. Support will soon be added for importing from other services.")),n.createElement(H.a,null,n.createElement("input",{type:"file",ref:r,onChange:G,accept:"application/zip"})),E&&n.createElement(Z.a,null,n.createElement(c.a,null,"Your file has been uploaded and the import is currently being processed, you can safely leave this page while it completes.")),j&&!z&&n.createElement(te,null,n.createElement(c.a,{defaults:"Sorry, the file <em>{{ fileName }}</em> is missing valid collections or documents.",values:{fileName:j.name},components:{em:n.createElement("strong",null)}})),j&&T&&z?n.createElement(n.Fragment,null,n.createElement(te,{as:"div"},n.createElement(c.a,{defaults:"<em>{{ fileName }}</em> looks good, the following collections and their documents will be imported:",values:{fileName:j.name},components:{em:n.createElement("strong",null)}}),n.createElement(ee,null,T.filter((function(e){return"collection"===e.type})).map((function(e){return n.createElement(re,{key:e.path},n.createElement(i.CollectionIcon,null),n.createElement(ne,null,e.name))})))),n.createElement(s.b,{type:"submit",onClick:D,disabled:b,primary:!0},b?"".concat(e("Uploading"),"…"):e("Confirm & Import"))):n.createElement(s.b,{type:"submit",onClick:R,primary:!0},e("Choose File"),"…"),n.createElement(m.a,null,e("Export")),n.createElement(f.a,null,n.createElement(c.a,{defaults:"A full export might take some time, consider exporting a single document or collection if possible. We’ll put together a zip of all your documents in Markdown format and email it to <em>{{ userEmail }}</em>.",values:{userEmail:t.email},components:{em:n.createElement("strong",null)}})),n.createElement(s.b,{type:"submit",onClick:N,disabled:p||x,primary:!0},x?e("Export Requested"):p?"".concat(e("Requesting Export"),"…"):e("Export Data")))})),oe=(r("hByQ"),r("sEfC")),ie=r.n(oe);r("pNMO"),r("4Brf"),r("7xsJ"),r("tkto"),r("yWo2");function Checkbox_extends(){return(Checkbox_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _objectWithoutProperties(e,t){if(null==e)return{};var r,n,a=function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var le=u.default.span.withConfig({displayName:"Checkbox__LabelText",componentId:"sc-18lvfrc-0"})(["font-weight:500;margin-left:",";",";"],(function(e){return e.small?"6px":"10px"}),(function(e){return e.small?"color: ".concat(e.theme.textSecondary):""})),ce=u.default.div.withConfig({displayName:"Checkbox__Wrapper",componentId:"sc-18lvfrc-1"})(["padding-bottom:8px;",";width:100%;"],(function(e){return e.small?"font-size: 14px":""})),ue=u.default.label.withConfig({displayName:"Checkbox__Label",componentId:"sc-18lvfrc-2"})(["display:flex;align-items:center;user-select:none;"]);function Checkbox(e){var t=e.label,r=e.labelHidden,a=e.note,o=(e.className,e.small),i=(e.short,_objectWithoutProperties(e,["label","labelHidden","note","className","small","short"])),l=n.createElement(le,{small:o},t);return n.createElement(n.Fragment,null,n.createElement(ce,{small:o},n.createElement(ue,null,n.createElement("input",Checkbox_extends({type:"checkbox"},i)),t&&(r?n.createElement(H.a,null,l):l)),a&&n.createElement(f.a,{small:!0},a)))}var se=function NotificationListItem(e){var t=e.setting,r=e.title,a=e.event,o=e.onChange,i=e.disabled,l=e.description;return n.createElement(Checkbox,{label:r,name:a,checked:!!t,onChange:o,note:l,disabled:i})};function Notifications_extends(){return(Notifications_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Notifications_asyncGeneratorStep(e,t,r,n,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}var pe=u.default.hr.withConfig({displayName:"Notifications__Separator",componentId:"i17pmk-0"})(["padding-bottom:12px;"]),me=Object(o.d)((function Notifications(){var e=Object(g.a)().notificationSettings,t=Object(_.a)().showToast,r=Object(Q.a)(),a=Object(l.a)().t,o=[{event:"documents.publish",title:a("Document published"),description:a("Receive a notification whenever a new document is published")},{event:"documents.update",title:a("Document updated"),description:a("Receive a notification when a document you created is edited")},{event:"collections.create",title:a("Collection created"),description:a("Receive a notification whenever a new collection is created")},{separator:!0},{event:"emails.onboarding",title:a("Getting started"),description:a("Tips on getting started with Outline`s features and functionality")},{event:"emails.features",title:a("New features"),description:a("Receive an email when new features of note are added")}];n.useEffect((function(){e.fetchPage()}),[e]);var u=ie()((function(){t(a("Notifications saved"),{type:"success"})}),500),s=n.useCallback(function(){var t=function Notifications_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function _next(e){Notifications_asyncGeneratorStep(o,n,a,_next,_throw,"next",e)}function _throw(e){Notifications_asyncGeneratorStep(o,n,a,_next,_throw,"throw",e)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(t){var r;return regeneratorRuntime.wrap((function _callee$(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.getByEvent(t.target.name),!t.target.checked){n.next=6;break}return n.next=4,e.save({event:t.target.name});case 4:n.next=9;break;case 6:if(!r){n.next=9;break}return n.next=9,e.delete(r);case 9:u();case 10:case"end":return n.stop()}}),_callee)})));return function(e){return t.apply(this,arguments)}}(),[e,u]),p="?success"===window.location.search;return n.createElement(y.a,{title:a("Notifications"),icon:n.createElement(i.EmailIcon,{color:"currentColor"})},p&&n.createElement(Z.a,null,n.createElement(c.a,null,"Unsubscription successful. Your notification settings were updated")),n.createElement(m.a,null,a("Notifications")),n.createElement(f.a,null,n.createElement(c.a,null,"Manage when and where you receive email notifications from Outline. Your email address can be updated in your SSO provider.")),n.createElement(d.c,{type:"email",value:r.email,label:a("Email address"),readOnly:!0,short:!0}),n.createElement(I.a,null,a("Notifications")),o.map((function(t,r){if(t.separator)return n.createElement(pe,{key:"separator-".concat(r)});var a=e.getByEvent(t.event);return n.createElement(se,Notifications_extends({key:t.event,onChange:s,setting:a,disabled:a&&a.isSaving||e.isFetching},t))})))})),fe=(r("JfAA"),r("xweI")),de=r.n(fe),ye=r("HIsj"),he=r("9OQN"),be=r("e8aU"),ve=r("5in0"),ge=(r("2XaB"),r("fV9F")),_e=r("DdE7"),we=r("Oqof");r("zKZe");function UserMenu_extends(){return(UserMenu_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Ee=Object(o.d)((function UserMenu(e){var t=e.user,r=Object(g.a)(),a=r.users,o=r.policies,i=Object(l.a)().t,c=Object(G.a)({modal:!0}),u=o.abilities(t.id),s=n.useCallback((function(e){e.preventDefault(),window.confirm(i("Are you sure you want to make {{ userName }} an admin? Admins can modify team and billing information.",{userName:t.name}))&&a.promote(t)}),[a,t,i]),p=n.useCallback((function(e){e.preventDefault(),window.confirm(i("Are you sure you want to make {{ userName }} a member?",{userName:t.name}))&&a.demote(t,"Member")}),[a,t,i]),m=n.useCallback((function(e){e.preventDefault(),window.confirm(i("Are you sure you want to make {{ userName }} a read-only viewer? They will not be able to edit any content",{userName:t.name}))&&a.demote(t,"Viewer")}),[a,t,i]),f=n.useCallback((function(e){e.preventDefault(),window.confirm(i("Are you sure you want to suspend this account? Suspended users will be prevented from logging in."))&&a.suspend(t)}),[a,t,i]),d=n.useCallback((function(e){e.preventDefault(),a.delete(t,{confirmation:!0})}),[a,t]),y=n.useCallback((function(e){e.preventDefault(),a.activate(t)}),[a,t]);return n.createElement(n.Fragment,null,n.createElement(z.a,UserMenu_extends({"aria-label":i("Show menu")},c)),n.createElement(L.a,UserMenu_extends({},c,{"aria-label":i("User options")}),n.createElement(M.a,UserMenu_extends({},c,{items:[{title:i("Make {{ userName }} a member",{userName:t.name}),onClick:p,visible:u.demote&&"Member"!==t.rank},{title:i("Make {{ userName }} a viewer",{userName:t.name}),onClick:m,visible:u.demote&&"Viewer"!==t.rank},{title:i("Make {{ userName }} an admin…",{userName:t.name}),onClick:s,visible:u.promote&&"Admin"!==t.rank},{type:"separator"},{title:"".concat(i("Revoke invite"),"…"),onClick:d,visible:t.isInvited},{title:i("Activate account"),onClick:y,visible:!t.isInvited&&t.isSuspended},{title:"".concat(i("Suspend account"),"…"),onClick:f,visible:!t.isInvited&&!t.isSuspended}]}))))}));function PeopleTable_extends(){return(PeopleTable_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function PeopleTable_objectWithoutProperties(e,t){if(null==e)return{};var r,n,a=function PeopleTable_objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Oe=n.lazy((function(){return Promise.all([r.e("vendors~table"),r.e("table")]).then(r.bind(null,"jxuR"))}));var ke=u.default.div.withConfig({displayName:"PeopleTable__Badges",componentId:"k3geuj-0"})(["margin-left:-10px;"]),xe=function PeopleTable(e){var t=e.canManage,r=PeopleTable_objectWithoutProperties(e,["canManage"]),a=Object(l.a)().t,i=Object(Q.a)(),c=n.useMemo((function(){return[{id:"name",Header:a("Name"),accessor:"name",Cell:Object(o.d)((function(e){var t=e.value,r=e.row;return n.createElement(p.a,{align:"center",gap:8},n.createElement(ge.b,{src:r.original.avatarUrl,size:32})," ",t," ",i.id===r.original.id&&"(".concat(a("You"),")"))}))},t?{id:"email",Header:a("Email"),accessor:"email",Cell:Object(o.d)((function(e){return e.value}))}:void 0,{id:"lastActiveAt",Header:a("Last active"),accessor:"lastActiveAt",Cell:Object(o.d)((function(e){var t=e.value;return t&&n.createElement(we.a,{dateTime:t,addSuffix:!0})}))},{id:"isAdmin",Header:a("Role"),accessor:"rank",Cell:Object(o.d)((function(e){var t=e.row;return n.createElement(ke,null,!t.original.lastActiveAt&&n.createElement(_e.a,null,a("Invited")),t.original.isAdmin&&n.createElement(_e.a,{primary:!0},a("Admin")),t.original.isViewer&&n.createElement(_e.a,null,a("Viewer")),t.original.isSuspended&&n.createElement(_e.a,null,a("Suspended")))}))},t?{Header:" ",accessor:"id",className:"actions",Cell:Object(o.d)((function(e){var t=e.row,r=e.value;return i.id!==r&&n.createElement(Ee,{user:t.original})}))}:void 0].filter((function(e){return e}))}),[a,t,i]);return n.createElement(Oe,PeopleTable_extends({columns:c},r))},Se=r("PU5o"),Ae=function UserStatusFilter(e){var t=e.activeKey,r=e.onSelect,a=Object(l.a)().t,o=n.useMemo((function(){return[{key:"",label:a("Active")},{key:"all",label:a("Everyone")},{key:"admins",label:a("Admins")},{key:"suspended",label:a("Suspended")},{key:"invited",label:a("Invited")},{key:"viewers",label:a("Viewers")}]}),[a]);return n.createElement(Se.a,{options:o,activeKey:t,onSelect:r,defaultLabel:a("Active")})},je=r("G3hQ");function People_asyncGeneratorStep(e,t,r,n,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function People_slicedToArray(e,t){return function People_arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function People_iterableToArrayLimit(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||function People_unsupportedIterableToArray(e,t){if(!e)return;if("string"==typeof e)return People_arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return People_arrayLikeToArray(e,t)}(e,t)||function People_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function People_arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ce=Object(o.d)((function People(e){var t=n.useRef(),r=Object(a.i)(),o=Object(a.h)(),u=People_slicedToArray(Object(D.a)(),3),d=u[0],h=u[1],b=u[2],_=Object(v.a)(),w=Object(g.a)(),E=w.users,O=w.policies,k=Object(l.a)().t,x=Object(je.a)(),S=People_slicedToArray(n.useState(!1),2),j=S[0],C=S[1],T=People_slicedToArray(n.useState([]),2),I=T[0],G=T[1],R=People_slicedToArray(n.useState(0),2),N=R[0],U=R[1],L=People_slicedToArray(n.useState([]),2),z=L[0],M=L[1],W=O.abilities(_.id),F=x.get("query")||"",q=x.get("filter")||"",$=x.get("sort")||"name",H=(x.get("direction")||"asc").toUpperCase(),K=parseInt(x.get("page")||0,10);n.useEffect((function(){(function(){var e=function People_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function _next(e){People_asyncGeneratorStep(o,n,a,_next,_throw,"next",e)}function _throw(e){People_asyncGeneratorStep(o,n,a,_next,_throw,"throw",e)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(){var e;return regeneratorRuntime.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return C(!0),t.prev=1,t.next=4,E.fetchPage({offset:25*K,limit:25,sort:$,direction:H,query:F,filter:q});case 4:e=t.sent,U(Math.ceil(e[he.b].total/25)),M(e.map((function(e){return e.id})));case 7:return t.prev=7,C(!1),t.finish(7);case 10:case"end":return t.stop()}}),_callee,null,[[1,,7,10]])})));return function fetchData(){return e.apply(this,arguments)}})()()}),[F,$,q,K,H,E]),n.useEffect((function(){var e=E.orderedData;q?"all"===q?e=E.orderedData.filter((function(e){return z.includes(e.id)})):"admins"===q?e=E.admins.filter((function(e){return z.includes(e.id)})):"suspended"===q?e=E.suspended.filter((function(e){return z.includes(e.id)})):"invited"===q?e=E.invited.filter((function(e){return z.includes(e.id)})):"viewers"===q&&(e=E.viewers.filter((function(e){return z.includes(e.id)}))):e=E.active.filter((function(e){return z.includes(e.id)})),G(de()(e,(function(e){return z.indexOf(e.id)})))}),[q,E.active,E.admins,E.orderedData,E.suspended,E.invited,E.viewers,z]);var B=n.useCallback((function(e){e?(x.set("filter",e),x.delete("page")):x.delete("filter"),o.replace({pathname:r.pathname,search:x.toString()})}),[x,o,r.pathname]),J=n.useCallback((function(e){e.target.value?(x.set("query",e.target.value),x.delete("page")):x.delete("query"),o.replace({pathname:r.pathname,search:x.toString()})}),[x,o,r.pathname]),V=n.useCallback((function(e,t){e?x.set("sort",e):x.delete("sort"),"DESC"===t?x.set("direction",t.toLowerCase()):x.delete("direction"),o.replace({pathname:r.pathname,search:x.toString()})}),[x,o,r.pathname]),Z=n.useCallback((function(e){e?x.set("page",e.toString()):x.delete("page"),o.replace({pathname:r.pathname,search:x.toString()}),t.current&&Object(ye.default)(t.current,{scrollMode:"if-needed",behavior:"instant",block:"start"})}),[x,o,r.pathname]);return n.createElement(y.a,{title:k("Members"),icon:n.createElement(i.UserIcon,{color:"currentColor"}),actions:n.createElement(n.Fragment,null,W.inviteUser&&n.createElement(A.a,null,n.createElement(s.b,{type:"button","data-on":"click","data-event-category":"invite","data-event-action":"peoplePage",onClick:h,icon:n.createElement(i.PlusIcon,null)},k("Invite people"),"…")))},n.createElement(m.a,null,k("Members")),n.createElement(f.a,null,n.createElement(c.a,null,"Everyone that has signed into Outline appears here. It’s possible that there are other users who have access through ",_.signinMethods," but haven’t signed in yet.")),n.createElement(p.a,{gap:8},n.createElement(ve.a,{short:!0,value:F,placeholder:"".concat(k("Filter"),"…"),onChange:J}),n.createElement(Ae,{activeKey:q,onSelect:B})),n.createElement(xe,{topRef:t,data:I,canManage:W.manage,isLoading:j,onChangeSort:V,onChangePage:Z,page:K,totalPages:N}),W.inviteUser&&n.createElement(P.a,{title:k("Invite people"),onRequestClose:b,isOpen:d},n.createElement(be.a,{onSubmit:b})))})),Pe=r("2vnA"),Te=r("LCzB"),Ie=r("Hf8r");r("7W2O"),r("s6PH");function UserDelete_asyncGeneratorStep(e,t,r,n,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function UserDelete_slicedToArray(e,t){return function UserDelete_arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function UserDelete_iterableToArrayLimit(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||function UserDelete_unsupportedIterableToArray(e,t){if(!e)return;if("string"==typeof e)return UserDelete_arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UserDelete_arrayLikeToArray(e,t)}(e,t)||function UserDelete_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function UserDelete_arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var De,Ge,Re,Ne,Ue,Le,ze=Object(o.d)((function UserDelete(e){var t=e.onRequestClose,r=UserDelete_slicedToArray(n.useState(),2),a=r[0],o=r[1],i=Object(g.a)().auth,u=Object(_.a)().showToast,m=Object(l.a)().t,d=n.useCallback(function(){var e=function UserDelete_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function _next(e){UserDelete_asyncGeneratorStep(o,n,a,_next,_throw,"next",e)}function _throw(e){UserDelete_asyncGeneratorStep(o,n,a,_next,_throw,"throw",e)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(e){return regeneratorRuntime.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),o(!0),t.prev=2,t.next=5,i.deleteUser();case 5:i.logout(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),u(t.t0.message,{type:"error"});case 11:return t.prev=11,o(!1),t.finish(11);case 14:case"end":return t.stop()}}),_callee,null,[[2,8,11,14]])})));return function(t){return e.apply(this,arguments)}}(),[i,u]);return n.createElement(P.a,{isOpen:!0,title:m("Delete Account"),onRequestClose:t},n.createElement(p.a,{column:!0},n.createElement("form",{onSubmit:d},n.createElement(f.a,null,n.createElement(c.a,null,"Are you sure? Deleting your account will destroy identifying data associated with your user and cannot be undone. You will be immediately logged out of Outline and all your API tokens will be revoked.")),n.createElement(f.a,null,n.createElement(c.a,{defaults:"<em>Note:</em> Signing back in will cause a new account to be automatically reprovisioned.",components:{em:n.createElement("strong",null)}})),n.createElement(s.b,{type:"submit",danger:!0},a?"".concat(m("Deleting"),"…"):m("Delete My Account")))))})),Me=r("Jpyz");function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Profile_asyncGeneratorStep(e,t,r,n,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function Profile_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function _next(e){Profile_asyncGeneratorStep(o,n,a,_next,_throw,"next",e)}function _throw(e){Profile_asyncGeneratorStep(o,n,a,_next,_throw,"throw",e)}_next(void 0)}))}}function _initializerDefineProperty(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=_getPrototypeOf(e);if(t){var a=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _applyDecoratedDescriptor(e,t,r,n,a){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var We=Object(o.d)((Ge=function(e){!function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(Profile,e);var t=_createSuper(Profile);function Profile(){var e,r;_classCallCheck(this,Profile);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return _possibleConstructorReturn(r,(e=r=t.call.apply(t,[this].concat(a)),_initializerDefineProperty(r,"name",Re,_assertThisInitialized(r)),_initializerDefineProperty(r,"avatarUrl",Ne,_assertThisInitialized(r)),_initializerDefineProperty(r,"showDeleteModal",Ue,_assertThisInitialized(r)),_initializerDefineProperty(r,"language",Le,_assertThisInitialized(r)),r.handleSubmit=function(){var e=Profile_asyncToGenerator(regeneratorRuntime.mark((function _callee(e){var t;return regeneratorRuntime.wrap((function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return t=r.props.t,e.preventDefault(),n.next=4,r.props.auth.updateUser({name:r.name,avatarUrl:r.avatarUrl,language:r.language});case 4:r.props.toasts.showToast(t("Profile saved"),{type:"success"});case 5:case"end":return n.stop()}}),_callee)})));return function(t){return e.apply(this,arguments)}}(),r.handleNameChange=function(e){r.name=e.target.value},r.handleAvatarUpload=function(){var e=Profile_asyncToGenerator(regeneratorRuntime.mark((function _callee2(e){var t;return regeneratorRuntime.wrap((function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:return t=r.props.t,r.avatarUrl=e,n.next=4,r.props.auth.updateUser({avatarUrl:r.avatarUrl});case 4:r.props.toasts.showToast(t("Profile picture updated"),{type:"success"});case 5:case"end":return n.stop()}}),_callee2)})));return function(t){return e.apply(this,arguments)}}(),r.handleAvatarError=function(e){var t=r.props.t;r.props.toasts.showToast(e||t("Unable to upload new profile picture"),{type:"error"})},r.handleLanguageChange=function(e){r.language=e.target.value},r.toggleDeleteAccount=function(){r.showDeleteModal=!r.showDeleteModal},e))}return function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(Profile,[{key:"componentDidMount",value:function componentDidMount(){this.props.auth.user&&(this.name=this.props.auth.user.name,this.language=this.props.auth.user.language)}},{key:"componentWillUnmount",value:function componentWillUnmount(){clearTimeout(this.timeout)}},{key:"render",value:function render(){var e=this,t=this.props.t,r=this.props.auth,a=r.user,o=r.isSaving;if(!a)return null;var l=this.avatarUrl||a.avatarUrl;return n.createElement(y.a,{title:t("Profile"),icon:n.createElement(i.ProfileIcon,{color:"currentColor"})},n.createElement(m.a,null,t("Profile")),n.createElement(qe,{column:!0},n.createElement(d.a,null,t("Photo")),n.createElement(He,null,n.createElement(h.a,{onSuccess:this.handleAvatarUpload,onError:this.handleAvatarError},n.createElement(Ke,{src:l}),n.createElement(p.a,{auto:!0,align:"center",justify:"center"},t("Upload"))))),n.createElement("form",{onSubmit:this.handleSubmit,ref:function ref(t){return e.form=t}},n.createElement(d.c,{label:t("Full name"),autoComplete:"name",value:this.name,onChange:this.handleNameChange,required:!0,short:!0}),n.createElement("br",null),n.createElement(Me.a,{label:t("Language"),options:Ie.b,value:this.language,onChange:this.handleLanguageChange,short:!0}),n.createElement(f.a,{small:!0},n.createElement(c.a,null,"Please note that translations are currently in early access.",n.createElement("br",null),"Community contributions are accepted though our"," ",n.createElement("a",{href:"https://translate.getoutline.com",target:"_blank",rel:"noreferrer"},"translation portal")),"."),n.createElement(s.b,{type:"submit",disabled:o||!this.isValid},o?"".concat(t("Saving"),"…"):t("Save"))),n.createElement(Fe,null,n.createElement("h2",null,t("Delete Account")),n.createElement(f.a,{small:!0},n.createElement(c.a,null,"You may delete your account at any time, note that this is unrecoverable")),n.createElement(s.b,{onClick:this.toggleDeleteAccount,neutral:!0},t("Delete account"),"…")),this.showDeleteModal&&n.createElement(ze,{onRequestClose:this.toggleDeleteAccount}))}},{key:"isValid",get:function get(){return this.form&&this.form.checkValidity()}}]),Profile}(n.Component),Re=_applyDecoratedDescriptor(Ge.prototype,"name",[Pe.p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ne=_applyDecoratedDescriptor(Ge.prototype,"avatarUrl",[Pe.p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ue=_applyDecoratedDescriptor(Ge.prototype,"showDeleteModal",[Pe.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),Le=_applyDecoratedDescriptor(Ge.prototype,"language",[Pe.p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),De=Ge))||De,Fe=u.default.div.withConfig({displayName:"Profile__DangerZone",componentId:"sc-15e713r-0"})(["margin-top:60px;"]),qe=Object(u.default)(p.a).withConfig({displayName:"Profile__ProfilePicture",componentId:"sc-15e713r-1"})(["margin-bottom:24px;"]),$e="\n  width: 80px;\n  height: 80px;\n  border-radius: 8px;\n",He=Object(u.default)(p.a).withConfig({displayName:"Profile__AvatarContainer",componentId:"sc-15e713r-2"})(["",";position:relative;div div{",";position:absolute;top:0;right:0;bottom:0;left:0;opacity:0;cursor:pointer;transition:all 250ms;}&:hover div{opacity:1;background:rgba(0,0,0,0.75);color:",";}"],$e,$e,(function(e){return e.theme.white})),Ke=u.default.img.withConfig({displayName:"Profile__Avatar",componentId:"sc-15e713r-3"})(["",";"],$e),Be=Object(Te.a)()(Object(o.c)("auth","toasts")(We));function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Security_asyncGeneratorStep(e,t,r,n,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function Security_slicedToArray(e,t){return function Security_arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function Security_iterableToArrayLimit(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||function Security_unsupportedIterableToArray(e,t){if(!e)return;if("string"==typeof e)return Security_arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Security_arrayLikeToArray(e,t)}(e,t)||function Security_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Security_arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Je=Object(o.d)((function Security(){var e=Object(g.a)().auth,t=Object(v.a)(),r=Object(l.a)().t,a=Object(_.a)().showToast,o=Security_slicedToArray(Object(n.useState)({sharing:t.sharing,documentEmbeds:t.documentEmbeds,guestSignin:t.guestSignin}),2),u=o[0],s=o[1],p=n.useCallback(ie()((function(){a(r("Settings saved"),{type:"success"})}),250),[r,a]),d=n.useCallback(function(){var t=function Security_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function _next(e){Security_asyncGeneratorStep(o,n,a,_next,_throw,"next",e)}function _throw(e){Security_asyncGeneratorStep(o,n,a,_next,_throw,"throw",e)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(t){var r;return regeneratorRuntime.wrap((function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return r=_objectSpread(_objectSpread({},u),{},_defineProperty({},t.target.name,t.target.checked)),s(r),n.next=4,e.updateTeam(r);case 4:p();case 5:case"end":return n.stop()}}),_callee)})));return function(e){return t.apply(this,arguments)}}(),[e,u,p]);return n.createElement(y.a,{title:r("Security"),icon:n.createElement(i.PadlockIcon,{color:"currentColor"})},n.createElement(m.a,null,n.createElement(c.a,null,"Security")),n.createElement(f.a,null,n.createElement(c.a,null,"Settings that impact the access, security, and content of your knowledge base.")),n.createElement(Checkbox,{label:r("Allow email authentication"),name:"guestSignin",checked:u.guestSignin,onChange:d,note:r("When enabled, users can sign-in using their email address")}),n.createElement(Checkbox,{label:r("Public document sharing"),name:"sharing",checked:u.sharing,onChange:d,note:r("When enabled, documents can be shared publicly on the internet by any team member")}),n.createElement(Checkbox,{label:r("Rich service embeds"),name:"documentEmbeds",checked:u.documentEmbeds,onChange:d,note:r("Links to supported services are shown as rich embeds within your documents")}))})),Ve=r("55Ip"),Ze=(r("06tf"),r("0166")),Qe=r("np2L"),Ye=r("Z5Gl");function ShareMenu_extends(){return(ShareMenu_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ShareMenu_asyncGeneratorStep(e,t,r,n,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}var Xe=Object(o.d)((function ShareMenu(e){var t=e.share,r=Object(G.a)({modal:!0}),o=Object(g.a)(),i=o.shares,c=o.policies,u=Object(_.a)().showToast,s=Object(l.a)().t,p=Object(a.h)(),m=c.abilities(t.id),f=n.useCallback((function(e){e.preventDefault(),p.push(t.documentUrl)}),[p,t]),d=n.useCallback(function(){var e=function ShareMenu_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function _next(e){ShareMenu_asyncGeneratorStep(o,n,a,_next,_throw,"next",e)}function _throw(e){ShareMenu_asyncGeneratorStep(o,n,a,_next,_throw,"throw",e)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(e){return regeneratorRuntime.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return e.preventDefault(),r.prev=1,r.next=4,i.revoke(t);case 4:u(s("Share link revoked"),{type:"info"}),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(1),u(r.t0.message,{type:"error"});case 10:case"end":return r.stop()}}),_callee,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),[s,i,t,u]),y=n.useCallback((function(){u(s("Share link copied"),{type:"info"})}),[s,u]);return n.createElement(n.Fragment,null,n.createElement(z.a,ShareMenu_extends({"aria-label":s("Show menu")},r)),n.createElement(L.a,ShareMenu_extends({},r,{"aria-label":s("Share options")}),n.createElement(Ye.a,{text:t.url,onCopy:y},n.createElement(Qe.b,r,s("Copy link"))),n.createElement(Qe.b,ShareMenu_extends({},r,{onClick:f}),s("Go to document")),m.revoke&&n.createElement(n.Fragment,null,n.createElement("hr",null),n.createElement(Qe.b,ShareMenu_extends({},r,{onClick:d}),s("Revoke link")))))})),et=function ShareListItem(e){var t=e.share,r=Object(l.a)().t,a=t.lastAccessedAt;return n.createElement(Ze.a,{title:t.documentTitle,subtitle:n.createElement(n.Fragment,null,r("Shared")," ",n.createElement(we.a,{dateTime:t.createdAt,addSuffix:!0})," ",r("by {{ name }}",{name:t.createdBy.name})," ",a&&n.createElement(n.Fragment,null," ","· ",r("Last accessed")," ",n.createElement(we.a,{dateTime:a,addSuffix:!0}))),actions:n.createElement(Xe,{share:t})})};var tt=Object(o.d)((function Shares(){var e=Object(v.a)(),t=Object(l.a)().t,r=Object(g.a)(),a=r.shares,o=r.auth,u=r.policies,s=o.team&&o.team.sharing,p=u.abilities(e.id);return n.createElement(y.a,{title:t("Share Links"),icon:n.createElement(i.LinkIcon,{color:"currentColor"})},n.createElement(m.a,null,t("Share Links")),n.createElement(f.a,null,n.createElement(c.a,null,"Documents that have been shared are listed below. Anyone that has the public link can access a read-only version of the document until the link has been revoked.")),p.manage&&n.createElement(f.a,null,!s&&n.createElement("strong",null,t("Sharing is currently disabled."))," ",n.createElement(c.a,{defaults:"You can globally enable and disable public document sharing in the <em>security settings</em>.",components:{em:n.createElement(Ve.a,{to:"/settings/security"})}})),n.createElement(I.a,null,t("Shared documents")),n.createElement(T.a,{items:a.published,empty:n.createElement(j.a,null,t("No share links, yet.")),fetch:a.fetchPage,renderItem:function renderItem(e){return n.createElement(et,{key:e.id,share:e})}}))})),rt=r("J2m7"),nt=r.n(rt),at=r("3M3T"),ot=u.default.ol.withConfig({displayName:"List",componentId:"ccusc7-0"})(["margin:0;padding:0;list-style:none;"]),it=r("tclj");var lt=function SlackButton(e){var t=e.state,r=void 0===t?"":t,a=e.scopes,o=e.redirectUri,i=e.label,c=Object(l.a)().t;return n.createElement(s.b,{onClick:function handleClick(){return window.location.href=Object(R.g)(r,a,b.a.SLACK_KEY,o)},icon:n.createElement(it.a,{fill:"currentColor"}),neutral:!0},i||c("Add to Slack"))};var ct=u.default.code.withConfig({displayName:"Slack__Code",componentId:"xogks-0"})(["padding:4px 6px;margin:0 2px;background:",";border-radius:4px;"],(function(e){return e.theme.codeBackground})),ut=Object(o.d)((function Slack(){var e=Object(v.a)(),t=Object(g.a)(),r=t.collections,a=t.integrations,o=Object(l.a)().t,i=Object(je.a)().get("error");n.useEffect((function(){r.fetchPage({limit:100}),a.fetchPage({limit:100})}),[r,a]);var u=nt()(a.slackIntegrations,{type:"command"});return n.createElement(y.a,{title:"Slack",icon:n.createElement(it.a,{color:"currentColor"})},n.createElement(m.a,null,"Slack"),"access_denied"===i&&n.createElement(Z.a,null,n.createElement(c.a,null,"Whoops, you need to accept the permissions in Slack to connect Outline to your team. Try again?")),"unauthenticated"===i&&n.createElement(Z.a,null,n.createElement(c.a,null,"Something went wrong while authenticating your request. Please try logging in again?")),n.createElement(f.a,null,n.createElement(c.a,{defaults:"Get rich previews of Outline links shared in Slack and use the <em>{{ command }}</em> slash command to search for documents without leaving your chat.",values:{command:"/outline"},components:{em:n.createElement(ct,null)}})),n.createElement("p",null,u?n.createElement(s.b,{onClick:u.delete},o("Disconnect")):n.createElement(lt,{scopes:["commands","links:read","links:write"],redirectUri:"".concat(b.a.URL,"/auth/slack.commands"),state:e.id})),n.createElement("p",null," "),n.createElement("h2",null,o("Collections")),n.createElement(f.a,null,n.createElement(c.a,null,"Connect Outline collections to Slack channels and messages will be automatically posted to Slack when documents are published or updated.")),n.createElement(ot,null,r.orderedData.map((function(e){var t=nt()(a.slackIntegrations,{collectionId:e.id});return t?n.createElement(Ze.a,{key:t.id,title:e.name,image:n.createElement(at.a,{collection:e}),subtitle:n.createElement(c.a,{defaults:"Connected to the <em>{{ channelName }}</em> channel",values:{channelName:t.settings.channel},components:{em:n.createElement("strong",null)}}),actions:n.createElement(s.b,{onClick:t.delete},o("Disconnect"))}):n.createElement(Ze.a,{key:e.id,title:e.name,image:n.createElement(at.a,{collection:e}),actions:n.createElement(lt,{scopes:["incoming-webhook"],redirectUri:"".concat(b.a.URL,"/auth/slack.post"),state:e.id,label:o("Connect")})})}))))}));function APITokenNew_asyncGeneratorStep(e,t,r,n,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function APITokenNew_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function _next(e){APITokenNew_asyncGeneratorStep(o,n,a,_next,_throw,"next",e)}function _throw(e){APITokenNew_asyncGeneratorStep(o,n,a,_next,_throw,"throw",e)}_next(void 0)}))}}function APITokenNew_slicedToArray(e,t){return function APITokenNew_arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function APITokenNew_iterableToArrayLimit(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||function APITokenNew_unsupportedIterableToArray(e,t){if(!e)return;if("string"==typeof e)return APITokenNew_arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return APITokenNew_arrayLikeToArray(e,t)}(e,t)||function APITokenNew_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function APITokenNew_arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var st=function APITokenNew(e){var t=e.onSubmit,r=APITokenNew_slicedToArray(n.useState(""),2),a=r[0],o=r[1],i=APITokenNew_slicedToArray(n.useState(!1),2),u=i[0],m=i[1],y=Object(g.a)().apiKeys,h=Object(_.a)().showToast,b=Object(l.a)().t,v=n.useCallback(APITokenNew_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,y.create({name:a});case 4:h(b("API token created",{type:"success"})),t(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),h(e.t0.message,{type:"error"});case 11:return e.prev=11,m(!1),e.finish(11);case 14:case"end":return e.stop()}}),_callee,null,[[1,8,11,14]])}))),[b,h,a,t,y]),w=n.useCallback((function(e){o(e.target.value)}),[]);return n.createElement("form",{onSubmit:v},n.createElement(f.a,null,n.createElement(c.a,null,'Name your token something that will help you to remember it\'s use in the future, for example "local development", "production", or "continuous integration".')),n.createElement(p.a,null,n.createElement(d.c,{type:"text",label:"Name",onChange:w,value:a,required:!0,autoFocus:!0,flex:!0})),n.createElement(s.b,{type:"submit",disabled:u||!a},u?"Creating…":"Create"))},pt=(r("iaxK"),function TokenListItem(e){var t=e.token,r=e.onDelete;return n.createElement(Ze.a,{key:t.id,title:n.createElement(n.Fragment,null,t.name," – ",n.createElement("code",null,t.secret)),actions:n.createElement(s.b,{onClick:function onClick(){return r(t.id)},neutral:!0},"Revoke")})});function Tokens_slicedToArray(e,t){return function Tokens_arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function Tokens_iterableToArrayLimit(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||function Tokens_unsupportedIterableToArray(e,t){if(!e)return;if("string"==typeof e)return Tokens_arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tokens_arrayLikeToArray(e,t)}(e,t)||function Tokens_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tokens_arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var mt=Object(o.d)((function Tokens(){var e=Object(v.a)(),t=Object(l.a)().t,r=Object(g.a)(),a=r.apiKeys,o=r.policies,u=Tokens_slicedToArray(Object(D.a)(),3),p=u[0],d=u[1],h=u[2],b=o.abilities(e.id);return n.createElement(y.a,{title:t("API Tokens"),icon:n.createElement(i.CodeIcon,{color:"currentColor"}),actions:n.createElement(n.Fragment,null,b.createApiKey&&n.createElement(A.a,null,n.createElement(s.b,{type:"submit",value:"".concat(t("New token"),"…"),onClick:d})))},n.createElement(m.a,null,t("API Tokens")),n.createElement(f.a,null,n.createElement(c.a,{defaults:"You can create an unlimited amount of personal tokens to authenticate with the API. Tokens have the same permissions as your user account. For more details see the <em>developer documentation</em>.",components:{em:n.createElement("a",{href:"https://www.getoutline.com/developers",target:"_blank"})}})),n.createElement(T.a,{fetch:a.fetchPage,items:a.orderedData,heading:n.createElement(I.a,{sticky:!0},t("Tokens")),renderItem:function renderItem(e){return n.createElement(pt,{key:e.id,token:e,onDelete:e.delete})}}),n.createElement(P.a,{title:t("Create a token"),onRequestClose:h,isOpen:p},n.createElement(st,{onSubmit:h})))})),ft=r("uAYR");var dt=function Zapier(){var e=Object(l.a)().t;return n.createElement(y.a,{title:e("Zapier"),icon:n.createElement(ft.a,{color:"currentColor"})},n.createElement(m.a,null,e("Zapier")),n.createElement(f.a,null,n.createElement(c.a,null,'Zapier is a platform that allows Outline to easily integrate with thousands of other business tools. Head over to Zapier to setup a "Zap" and start programmatically interacting with Outline.\'')),n.createElement("p",null,n.createElement(s.b,{onClick:function onClick(){return window.location.href="https://zapier.com/apps/outline"}},e("Open Zapier")," →")))},yt=r("xOVo");function SettingsRoutes(){return n.createElement(a.e,null,n.createElement(yt.a,{exact:!0,path:"/settings",component:Be}),n.createElement(yt.a,{exact:!0,path:"/settings/details",component:x}),n.createElement(yt.a,{exact:!0,path:"/settings/security",component:Je}),n.createElement(yt.a,{exact:!0,path:"/settings/members",component:Ce}),n.createElement(yt.a,{exact:!0,path:"/settings/groups",component:F}),n.createElement(yt.a,{exact:!0,path:"/settings/shares",component:tt}),n.createElement(yt.a,{exact:!0,path:"/settings/tokens",component:mt}),n.createElement(yt.a,{exact:!0,path:"/settings/notifications",component:me}),n.createElement(yt.a,{exact:!0,path:"/settings/integrations/slack",component:ut}),n.createElement(yt.a,{exact:!0,path:"/settings/integrations/zapier",component:dt}),n.createElement(yt.a,{exact:!0,path:"/settings/import-export",component:ae}),n.createElement(a.b,{from:"/settings/people",to:"/settings/members"}))}},CbgB:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));r("07d7"),r("5s+n"),r("ls82");var n=r("fI17"),a=r.n(n);function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function asyncGeneratorStep(e,t,r,n,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}var o=function(){var e=function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function _next(e){asyncGeneratorStep(o,n,a,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(o,n,a,_next,_throw,"throw",e)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(e,t){return regeneratorRuntime.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise((function(r,n){new a.a(e,_objectSpread(_objectSpread({},t),{},{success:r,error:n}))})));case 1:case"end":return r.stop()}}),_callee)})));return function compressImage(t,r){return e.apply(this,arguments)}}()},G3hQ:function(e,t,r){"use strict";r.d(t,"a",(function(){return useQuery}));r("4mDm"),r("07d7"),r("rB9j"),r("PKPk"),r("hByQ"),r("3bBZ"),r("Kz25");var n=r("Ty5D");function useQuery(){return new URLSearchParams(Object(n.i)().search)}},W6JG:function(e,t,r){"use strict";(function(e){r("ma9I"),r("sMBO"),r("Ew+T"),r("ls82");var n,a,o,i,l,c,u,s,p=r("2vnA"),m=r("TyAF"),f=r("q1tI"),d=r("VQJT"),y=r.n(d),h=r("yzbm"),b=r("vOnD"),v=(r("QLeJ"),r("eJ2A")),g=r("bgvO"),_=r("qU9s"),w=r("rOyr"),E=r("CbgB"),O=r("vKeC");function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function asyncGeneratorStep(e,t,r,n,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function _next(e){asyncGeneratorStep(o,n,a,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(o,n,a,_next,_throw,"throw",e)}_next(void 0)}))}}function _initializerDefineProperty(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=_getPrototypeOf(e);if(t){var a=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _applyDecoratedDescriptor(e,t,r,n,a){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var k={},x=Object(m.d)((s=u=function(t){!function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(ImageUpload,t);var r=_createSuper(ImageUpload);function ImageUpload(){var t,n;_classCallCheck(this,ImageUpload);for(var a=arguments.length,u=new Array(a),s=0;s<a;s++)u[s]=arguments[s];return _possibleConstructorReturn(n,(t=n=r.call.apply(r,[this].concat(u)),_initializerDefineProperty(n,"isUploading",o,_assertThisInitialized(n)),_initializerDefineProperty(n,"isCropping",i,_assertThisInitialized(n)),_initializerDefineProperty(n,"zoom",l,_assertThisInitialized(n)),_initializerDefineProperty(n,"file",c,_assertThisInitialized(n)),n.onDropAccepted=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function _callee(e){return regeneratorRuntime.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:n.isCropping=!0,n.file=e[0];case 2:case"end":return t.stop()}}),_callee)})));return function(t){return e.apply(this,arguments)}}(),n.handleCrop=function(){n.isUploading=!0,e(n.uploadImage)},n.uploadImage=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var e,t,r,a;return regeneratorRuntime.wrap((function _callee2$(o){for(;;)switch(o.prev=o.next){case 0:return e=n.avatarEditorRef.getImage(),t=Object(O.a)(e.toDataURL()),o.prev=2,o.next=5,Object(E.a)(t,{maxHeight:512,maxWidth:512});case 5:return r=o.sent,o.next=8,Object(O.b)(r,{name:n.file.name,public:!0});case 8:a=o.sent,n.props.onSuccess(a.url),o.next=15;break;case 12:o.prev=12,o.t0=o.catch(2),n.props.onError(o.t0.message);case 15:return o.prev=15,n.isUploading=!1,n.isCropping=!1,o.finish(15);case 19:case"end":return o.stop()}}),_callee2,null,[[2,12,15,19]])}))),n.handleClose=function(){n.isUploading=!1,n.isCropping=!1},n.handleZoom=function(e){var t=e.target;t instanceof HTMLInputElement&&(n.zoom=parseFloat(t.value))},t))}return function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(ImageUpload,[{key:"renderCropping",value:function renderCropping(){var e=this,t=this.props,r=t.ui,n=t.submitText;return f.createElement(w.a,{isOpen:!0,onRequestClose:this.handleClose,title:""},f.createElement(g.a,{auto:!0,column:!0,align:"center",justify:"center"},this.isUploading&&f.createElement(_.b,null),f.createElement(S,null,f.createElement(y.a,{ref:function ref(t){return e.avatarEditorRef=t},image:this.file,width:250,height:250,border:25,borderRadius:this.props.borderRadius,color:"light"===r.theme?[255,255,255,.6]:[0,0,0,.6],scale:this.zoom,rotate:0})),f.createElement(A,{type:"range",min:"0.1",max:"2",step:"0.01",defaultValue:"1",onChange:this.handleZoom}),f.createElement(j,{onClick:this.handleCrop,disabled:this.isUploading},this.isUploading?"Uploading…":n)))}},{key:"render",value:function render(){var e=this;return this.isCropping?this.renderCropping():f.createElement(h.a,{accept:"image/png, image/jpeg",onDropAccepted:this.onDropAccepted,style:k,disablePreview:!0},(function(t){var r=t.getRootProps,n=t.getInputProps,a=t.isDragActive;return f.createElement("div",_extends({},r(),{isDragActive:a}),f.createElement("input",n()),e.props.children)}))}}]),ImageUpload}(f.Component),u.defaultProps={submitText:"Crop Picture",borderRadius:150},o=_applyDecoratedDescriptor((a=s).prototype,"isUploading",[p.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),i=_applyDecoratedDescriptor(a.prototype,"isCropping",[p.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),l=_applyDecoratedDescriptor(a.prototype,"zoom",[p.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return 1}}),c=_applyDecoratedDescriptor(a.prototype,"file",[p.p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),n=a))||n,S=Object(b.default)(g.a).withConfig({displayName:"ImageUpload__AvatarEditorContainer",componentId:"sc-1vrydv6-0"})(["margin-bottom:30px;"]),A=b.default.input.withConfig({displayName:"ImageUpload__RangeInput",componentId:"sc-1vrydv6-1"})(["display:block;width:300px;margin-bottom:30px;height:4px;cursor:pointer;color:inherit;border-radius:99999px;background-color:#dee1e3;appearance:none;&::-webkit-slider-thumb{-webkit-appearance:none;height:16px;width:16px;border-radius:50%;background:",";cursor:pointer;}&:focus{outline:none;}"],(function(e){return e.theme.text})),j=Object(b.default)(v.b).withConfig({displayName:"ImageUpload__CropButton",componentId:"sc-1vrydv6-2"})(["width:300px;"]);t.a=Object(m.c)("ui")(x)}).call(this,r("URgk").setImmediate)}}]);
//# sourceMappingURL=settings.25a516770b4b346b2a8f.js.map