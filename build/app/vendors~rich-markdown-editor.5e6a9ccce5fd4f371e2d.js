/*! For license information please see vendors~rich-markdown-editor.5e6a9ccce5fd4f371e2d.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([["vendors~rich-markdown-editor"],{"+80P":function(o,i,s){"use strict";function assign(o){var i=Array.prototype.slice.call(arguments,1);return i.forEach((function(i){i&&Object.keys(i).forEach((function(s){o[s]=i[s]}))})),o}function _class(o){return Object.prototype.toString.call(o)}function isFunction(o){return"[object Function]"===_class(o)}function escapeRE(o){return o.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var a={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};var l={"http:":{validate:function(o,i,s){var a=o.slice(i);return s.re.http||(s.re.http=new RegExp("^\\/\\/"+s.re.src_auth+s.re.src_host_port_strict+s.re.src_path,"i")),s.re.http.test(a)?a.match(s.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(o,i,s){var a=o.slice(i);return s.re.no_http||(s.re.no_http=new RegExp("^"+s.re.src_auth+"(?:localhost|(?:(?:"+s.re.src_domain+")\\.)+"+s.re.src_domain_root+")"+s.re.src_port+s.re.src_host_terminator+s.re.src_path,"i")),s.re.no_http.test(a)?i>=3&&":"===o[i-3]||i>=3&&"/"===o[i-3]?0:a.match(s.re.no_http)[0].length:0}},"mailto:":{validate:function(o,i,s){var a=o.slice(i);return s.re.mailto||(s.re.mailto=new RegExp("^"+s.re.src_email_name+"@"+s.re.src_host_strict,"i")),s.re.mailto.test(a)?a.match(s.re.mailto)[0].length:0}}},c="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function compile(o){var i=o.re=s("sRdV")(o.__opts__),a=o.__tlds__.slice();function untpl(o){return o.replace("%TLDS%",i.src_tlds)}o.onCompile(),o.__tlds_replaced__||a.push("a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),a.push(i.src_xn),i.src_tlds=a.join("|"),i.email_fuzzy=RegExp(untpl(i.tpl_email_fuzzy),"i"),i.link_fuzzy=RegExp(untpl(i.tpl_link_fuzzy),"i"),i.link_no_ip_fuzzy=RegExp(untpl(i.tpl_link_no_ip_fuzzy),"i"),i.host_fuzzy_test=RegExp(untpl(i.tpl_host_fuzzy_test),"i");var l=[];function schemaError(o,i){throw new Error('(LinkifyIt) Invalid schema "'+o+'": '+i)}o.__compiled__={},Object.keys(o.__schemas__).forEach((function(i){var s=o.__schemas__[i];if(null!==s){var a={validate:null,link:null};if(o.__compiled__[i]=a,function isObject(o){return"[object Object]"===_class(o)}(s))return!function isRegExp(o){return"[object RegExp]"===_class(o)}(s.validate)?isFunction(s.validate)?a.validate=s.validate:schemaError(i,s):a.validate=function createValidator(o){return function(i,s){var a=i.slice(s);return o.test(a)?a.match(o)[0].length:0}}(s.validate),void(isFunction(s.normalize)?a.normalize=s.normalize:s.normalize?schemaError(i,s):a.normalize=function(o,i){i.normalize(o)});!function isString(o){return"[object String]"===_class(o)}(s)?schemaError(i,s):l.push(i)}})),l.forEach((function(i){o.__compiled__[o.__schemas__[i]]&&(o.__compiled__[i].validate=o.__compiled__[o.__schemas__[i]].validate,o.__compiled__[i].normalize=o.__compiled__[o.__schemas__[i]].normalize)})),o.__compiled__[""]={validate:null,normalize:function(o,i){i.normalize(o)}};var c=Object.keys(o.__compiled__).filter((function(i){return i.length>0&&o.__compiled__[i]})).map(escapeRE).join("|");o.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+i.src_ZPCc+"))("+c+")","i"),o.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+i.src_ZPCc+"))("+c+")","ig"),o.re.pretest=RegExp("("+o.re.schema_test.source+")|("+o.re.host_fuzzy_test.source+")|@","i"),function resetScanCache(o){o.__index__=-1,o.__text_cache__=""}(o)}function Match(o,i){var s=o.__index__,a=o.__last_index__,l=o.__text_cache__.slice(s,a);this.schema=o.__schema__.toLowerCase(),this.index=s+i,this.lastIndex=a+i,this.raw=l,this.text=l,this.url=l}function createMatch(o,i){var s=new Match(o,i);return o.__compiled__[s.schema].normalize(s,o),s}function LinkifyIt(o,i){if(!(this instanceof LinkifyIt))return new LinkifyIt(o,i);i||function isOptionsObj(o){return Object.keys(o||{}).reduce((function(o,i){return o||a.hasOwnProperty(i)}),!1)}(o)&&(i=o,o={}),this.__opts__=assign({},a,i),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=assign({},l,o),this.__compiled__={},this.__tlds__=c,this.__tlds_replaced__=!1,this.re={},compile(this)}LinkifyIt.prototype.add=function add(o,i){return this.__schemas__[o]=i,compile(this),this},LinkifyIt.prototype.set=function set(o){return this.__opts__=assign(this.__opts__,o),this},LinkifyIt.prototype.test=function test(o){if(this.__text_cache__=o,this.__index__=-1,!o.length)return!1;var i,s,a,l,c,u,d,p;if(this.re.schema_test.test(o))for((d=this.re.schema_search).lastIndex=0;null!==(i=d.exec(o));)if(l=this.testSchemaAt(o,i[2],d.lastIndex)){this.__schema__=i[2],this.__index__=i.index+i[1].length,this.__last_index__=i.index+i[0].length+l;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(p=o.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||p<this.__index__)&&null!==(s=o.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(c=s.index+s[1].length,(this.__index__<0||c<this.__index__)&&(this.__schema__="",this.__index__=c,this.__last_index__=s.index+s[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&o.indexOf("@")>=0&&null!==(a=o.match(this.re.email_fuzzy))&&(c=a.index+a[1].length,u=a.index+a[0].length,(this.__index__<0||c<this.__index__||c===this.__index__&&u>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=c,this.__last_index__=u)),this.__index__>=0},LinkifyIt.prototype.pretest=function pretest(o){return this.re.pretest.test(o)},LinkifyIt.prototype.testSchemaAt=function testSchemaAt(o,i,s){return this.__compiled__[i.toLowerCase()]?this.__compiled__[i.toLowerCase()].validate(o,s,this):0},LinkifyIt.prototype.match=function match(o){var i=0,s=[];this.__index__>=0&&this.__text_cache__===o&&(s.push(createMatch(this,i)),i=this.__last_index__);for(var a=i?o.slice(i):o;this.test(a);)s.push(createMatch(this,i)),a=a.slice(this.__last_index__),i+=this.__last_index__;return s.length?s:null},LinkifyIt.prototype.tlds=function tlds(o,i){return o=Array.isArray(o)?o:[o],i?(this.__tlds__=this.__tlds__.concat(o).sort().filter((function(o,i,s){return o!==s[i-1]})).reverse(),compile(this),this):(this.__tlds__=o.slice(),this.__tlds_replaced__=!0,compile(this),this)},LinkifyIt.prototype.normalize=function normalize(o){o.schema||(o.url="http://"+o.url),"mailto:"!==o.schema||/^mailto:/i.test(o.url)||(o.url="mailto:"+o.url)},LinkifyIt.prototype.onCompile=function onCompile(){},o.exports=LinkifyIt},"+BFG":function(o,i,s){"use strict";var a=this&&this.__createBinding||(Object.create?function(o,i,s,a){void 0===a&&(a=s),Object.defineProperty(o,a,{enumerable:!0,get:function(){return i[s]}})}:function(o,i,s,a){void 0===a&&(a=s),o[a]=i[s]}),l=this&&this.__setModuleDefault||(Object.create?function(o,i){Object.defineProperty(o,"default",{enumerable:!0,value:i})}:function(o,i){o.default=i}),c=this&&this.__importStar||function(o){if(o&&o.__esModule)return o;var i={};if(null!=o)for(var s in o)"default"!==s&&Object.prototype.hasOwnProperty.call(o,s)&&a(i,o,s);return l(i,o),i},u=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const d=u(s("5YM3")),p=u(s("RoP8")),f=u(s("fwF+")),m=u(s("amLO")),g=u(s("EGRD")),v=u(s("cbKp")),y=u(s("DPa0")),b=u(s("H4ZV")),k=u(s("Qg97")),w=u(s("Ox1z")),S=u(s("1MdW")),x=u(s("piw0")),C=u(s("3vSn")),_=u(s("SVLc")),O=u(s("uFsh")),M=u(s("WUdu")),A=u(s("uBZG")),E=s("ABBN"),T=s("+V57"),D=u(s("+QRC")),I=c(s("OOJR")),N=u(s("b8t9")),R=u(s("S5OW")),P=s("rQ0s"),L="rme-code-language",F="javascript";[p.default,f.default,m.default,g.default,v.default,y.default,b.default,k.default,w.default,S.default,x.default,C.default,_.default,O.default,M.default,A.default].forEach(d.default.register);class CodeFence extends R.default{constructor(){super(...arguments),this.handleCopyToClipboard=o=>{const{view:i}=this.editor,s=o.target,{top:a,left:l}=s.getBoundingClientRect(),c=i.posAtCoords({top:a,left:l});if(c){const o=i.state.doc.nodeAt(c.pos);o&&(D.default(o.textContent),this.options.onShowToast&&this.options.onShowToast(this.options.dictionary.codeCopied,P.ToastType.Info))}},this.handleLanguageChange=o=>{const{view:i}=this.editor,{tr:s}=i.state,a=o.target,{top:l,left:c}=a.getBoundingClientRect(),u=i.posAtCoords({top:l,left:c});if(u){const o=a.value,l=s.setNodeMarkup(u.inside,void 0,{language:o});i.dispatch(l),null===localStorage||void 0===localStorage||localStorage.setItem(L,o)}}}get languageOptions(){return Object.entries(I.LANGUAGES)}get name(){return"code_fence"}get schema(){return{attrs:{language:{default:F}},content:"text*",marks:"",group:"block",code:!0,defining:!0,draggable:!1,parseDOM:[{tag:"pre",preserveWhitespace:"full"},{tag:".code-block",preserveWhitespace:"full",contentElement:"code",getAttrs:o=>({language:o.dataset.language})}],toDOM:o=>{const i=document.createElement("button");i.innerText="Copy",i.type="button",i.addEventListener("click",this.handleCopyToClipboard);const s=document.createElement("select");return s.addEventListener("change",this.handleLanguageChange),this.languageOptions.forEach((([i,a])=>{const l=document.createElement("option"),c="none"===i?"":i;l.value=c,l.innerText=a,l.selected=o.attrs.language===c,s.appendChild(l)})),["div",{class:"code-block","data-language":o.attrs.language},["div",{contentEditable:!1},s,i],["pre",["code",{spellCheck:!1},0]]]}}}commands({type:o}){return()=>E.setBlockType(o,{language:(null===localStorage||void 0===localStorage?void 0:localStorage.getItem(L))||F})}keys({type:o}){return{"Shift-Ctrl-\\":E.setBlockType(o),"Shift-Enter":(o,i)=>{if(!N.default(o))return!1;const{tr:s,selection:a}=o;return i(s.insertText("\n",a.from,a.to)),!0},Tab:(o,i)=>{if(!N.default(o))return!1;const{tr:s,selection:a}=o;return i(s.insertText("  ",a.from,a.to)),!0}}}get plugins(){return[I.default({name:this.name})]}inputRules({type:o}){return[T.textblockTypeInputRule(/^```$/,o)]}toMarkdown(o,i){o.write("```"+(i.attrs.language||"")+"\n"),o.text(i.textContent,!1),o.ensureNewLine(),o.write("```"),o.closeBlock(i)}get markdownToken(){return"fence"}parseMarkdown(){return{block:"code_block",getAttrs:o=>({language:o.info})}}}i.default=CodeFence},"+Uon":function(o,i,s){"use strict";var a=this&&this.__createBinding||(Object.create?function(o,i,s,a){void 0===a&&(a=s),Object.defineProperty(o,a,{enumerable:!0,get:function(){return i[s]}})}:function(o,i,s,a){void 0===a&&(a=s),o[a]=i[s]}),l=this&&this.__setModuleDefault||(Object.create?function(o,i){Object.defineProperty(o,"default",{enumerable:!0,value:i})}:function(o,i){o.default=i}),c=this&&this.__importStar||function(o){if(o&&o.__esModule)return o;var i={};if(null!=o)for(var s in o)"default"!==s&&Object.prototype.hasOwnProperty.call(o,s)&&a(i,o,s);return l(i,o),i};Object.defineProperty(i,"__esModule",{value:!0});const u=c(s("q1tI"));i.default=function Tooltip({tooltip:o,children:i}){return u.createElement("span",{title:o},i)}},"+V57":function(o,i,s){"use strict";s.r(i),s.d(i,"InputRule",(function(){return c})),s.d(i,"closeDoubleQuote",(function(){return f})),s.d(i,"closeSingleQuote",(function(){return g})),s.d(i,"ellipsis",(function(){return d})),s.d(i,"emDash",(function(){return u})),s.d(i,"inputRules",(function(){return inputRules})),s.d(i,"openDoubleQuote",(function(){return p})),s.d(i,"openSingleQuote",(function(){return m})),s.d(i,"smartQuotes",(function(){return v})),s.d(i,"textblockTypeInputRule",(function(){return textblockTypeInputRule})),s.d(i,"undoInputRule",(function(){return undoInputRule})),s.d(i,"wrappingInputRule",(function(){return wrappingInputRule}));var a=s("UxO+"),l=s("CsC6"),c=function InputRule(o,i){this.match=o,this.handler="string"==typeof i?function stringHandler(o){return function(i,s,a,l){var c=o;if(s[1]){var u=s[0].lastIndexOf(s[1]);c+=s[0].slice(u+s[1].length);var d=(a+=u)-l;d>0&&(c=s[0].slice(u-d,u)+c,a=l)}return i.tr.insertText(c,a,l)}}(i):i};function inputRules(o){var i=o.rules,s=new a.Plugin({state:{init:function init(){return null},apply:function apply(o,i){var s=o.getMeta(this);return s||(o.selectionSet||o.docChanged?null:i)}},props:{handleTextInput:function handleTextInput(o,a,l,c){return run(o,a,l,c,i,s)},handleDOMEvents:{compositionend:function(o){setTimeout((function(){var a=o.state.selection.$cursor;a&&run(o,a.pos,a.pos,"",i,s)}))}}},isInputRules:!0});return s}function run(o,i,s,a,l,c){if(o.composing)return!1;var u=o.state,d=u.doc.resolve(i);if(d.parent.type.spec.code)return!1;for(var p=d.parent.textBetween(Math.max(0,d.parentOffset-500),d.parentOffset,null,"￼")+a,f=0;f<l.length;f++){var m=l[f].match.exec(p),g=m&&l[f].handler(u,m,i-(m[0].length-a.length),s);if(g)return o.dispatch(g.setMeta(c,{transform:g,from:i,to:s,text:a})),!0}return!1}function undoInputRule(o,i){for(var s=o.plugins,a=0;a<s.length;a++){var l=s[a],c=void 0;if(l.spec.isInputRules&&(c=l.getState(o))){if(i){for(var u=o.tr,d=c.transform,p=d.steps.length-1;p>=0;p--)u.step(d.steps[p].invert(d.docs[p]));if(c.text){var f=u.doc.resolve(c.from).marks();u.replaceWith(c.from,c.to,o.schema.text(c.text,f))}else u.delete(c.from,c.to);i(u)}return!0}}return!1}var u=new c(/--$/,"—"),d=new c(/\.\.\.$/,"…"),p=new c(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"“"),f=new c(/"$/,"”"),m=new c(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"‘"),g=new c(/'$/,"’"),v=[p,f,m,g];function wrappingInputRule(o,i,s,a){return new c(o,(function(o,c,u,d){var p=s instanceof Function?s(c):s,f=o.tr.delete(u,d),m=f.doc.resolve(u).blockRange(),g=m&&Object(l.h)(m,i,p);if(!g)return null;f.wrap(m,g);var v=f.doc.resolve(u-1).nodeBefore;return v&&v.type==i&&Object(l.e)(f.doc,u-1)&&(!a||a(c,v))&&f.join(u-1),f}))}function textblockTypeInputRule(o,i,s){return new c(o,(function(o,a,l,c){var u=o.doc.resolve(l),d=s instanceof Function?s(a):s;return u.node(-1).canReplaceWith(u.index(-1),u.indexAfter(-1),i)?o.tr.delete(l,c).setBlockType(l,l,i,d):null}))}},"+Ypz":function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=s("UxO+"),c=s("Vb5C"),u=s("ABBN"),d=a(s("xqCI")),p=a(s("jQOk")),f=a(s("Kj7D")),m=a(s("b8t9")),g=s("OOJR");class PasteHandler extends d.default{get name(){return"markdown-paste"}get plugins(){return[new l.Plugin({props:{handlePaste:(o,i)=>{if(o.props.editable&&!o.props.editable(o.state))return!1;if(!i.clipboardData)return!1;const s=i.clipboardData.getData("text/plain"),a=i.clipboardData.getData("text/html"),l=i.clipboardData.getData("vscode-editor-data"),{state:d,dispatch:v}=o;if(p.default(s)){if(!d.selection.empty)return u.toggleMark(this.editor.schema.marks.link,{href:s})(d,v),!0;const{embeds:i}=this.editor.props;if(i&&!c.isInTable(d))for(const o of i){const i=o.matcher(s);if(i)return this.editor.commands.embed({href:s,component:o.component,matches:i}),!0}const a=o.state.tr.insertText(s,d.selection.from,d.selection.to).addMark(d.selection.from,d.selection.to+s.length,d.schema.marks.link.create({href:s}));return o.dispatch(a),!0}if(m.default(o.state))return i.preventDefault(),o.dispatch(o.state.tr.insertText(s)),!0;const y=l?JSON.parse(l):void 0,b=null==y?void 0:y.mode;if(b&&"markdown"!==b)return i.preventDefault(),o.dispatch(o.state.tr.replaceSelectionWith(o.state.schema.nodes.code_fence.create({language:Object.keys(g.LANGUAGES).includes(y.mode)?y.mode:null})).insertText(s)),!0;if(f.default(s)||0===a.length||"markdown"===b){i.preventDefault();const a=this.editor.parser.parse(function normalizePastedMarkdown(o){const i=/^\s?(\[(X|\s|_|-)\]\s(.*)?)/gim;for(;o.match(i);)o=o.replace(i,(o=>`- ${o.trim()}`));return o}(s)).slice(0),l=o.state.tr.replaceSelection(a);return o.dispatch(l),!0}return!1}}})]}}i.default=PasteHandler},"+iOW":function(o,i,s){"use strict";var a=this&&this.__createBinding||(Object.create?function(o,i,s,a){void 0===a&&(a=s),Object.defineProperty(o,a,{enumerable:!0,get:function(){return i[s]}})}:function(o,i,s,a){void 0===a&&(a=s),o[a]=i[s]}),l=this&&this.__setModuleDefault||(Object.create?function(o,i){Object.defineProperty(o,"default",{enumerable:!0,value:i})}:function(o,i){o.default=i}),c=this&&this.__importStar||function(o){if(o&&o.__esModule)return o;var i={};if(null!=o)for(var s in o)"default"!==s&&Object.prototype.hasOwnProperty.call(o,s)&&a(i,o,s);return l(i,o),i},u=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const d=c(s("q1tI")),p=u(s("S5OW")),f={};class Embed extends p.default{get name(){return"embed"}get schema(){return{content:"inline*",group:"block",atom:!0,attrs:{href:{},matches:{}},parseDOM:[{tag:"iframe[class=embed]",getAttrs:o=>{const{embeds:i}=this.editor.props,s=o.getAttribute("src")||"";if(i)for(const o of i){const i=o.matcher(s);if(i)return{href:s,matches:i}}return{}}}],toDOM:o=>["iframe",{class:"embed",src:o.attrs.href,contentEditable:!1},0]}}component({isEditable:o,isSelected:i,theme:s,node:a}){const{embeds:l}=this.editor.props;let c=f[a.attrs.href];if(!c)for(const o of l){o.matcher(a.attrs.href)&&(c=f[a.attrs.href]=o.component)}return c?d.createElement(c,{attrs:a.attrs,isEditable:o,isSelected:i,theme:s}):null}commands({type:o}){return i=>(s,a)=>(a(s.tr.replaceSelectionWith(o.create(i)).scrollIntoView()),!0)}toMarkdown(o,i){o.ensureNewLine(),o.write("["+o.esc(i.attrs.href)+"]("+o.esc(i.attrs.href)+")"),o.write("\n\n")}parseMarkdown(){return{node:"embed",getAttrs:o=>({href:o.attrGet("href"),matches:o.attrGet("matches")})}}}i.default=Embed},"+sm8":function(o,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.base=void 0,i.base={addColumnAfter:"Insert column after",addColumnBefore:"Insert column before",addRowAfter:"Insert row after",addRowBefore:"Insert row before",alignCenter:"Align center",alignLeft:"Align left",alignRight:"Align right",bulletList:"Bulleted list",checkboxList:"Todo list",codeBlock:"Code block",codeCopied:"Copied to clipboard",codeInline:"Code",createLink:"Create link",createLinkError:"Sorry, an error occurred creating the link",createNewDoc:"Create a new doc",deleteColumn:"Delete column",deleteRow:"Delete row",deleteTable:"Delete table",deleteImage:"Delete image",downloadImage:"Download image",alignImageLeft:"Float left half width",alignImageRight:"Float right half width",alignImageDefault:"Center large",em:"Italic",embedInvalidLink:"Sorry, that link won’t work for this embed type",findOrCreateDoc:"Find or create a doc…",h1:"Big heading",h2:"Medium heading",h3:"Small heading",heading:"Heading",hr:"Divider",image:"Image",imageUploadError:"Sorry, an error occurred uploading the image",imageCaptionPlaceholder:"Write a caption",info:"Info",infoNotice:"Info notice",link:"Link",linkCopied:"Link copied to clipboard",mark:"Highlight",newLineEmpty:"Type '/' to insert…",newLineWithSlash:"Keep typing to filter…",noResults:"No results",openLink:"Open link",orderedList:"Ordered list",pageBreak:"Page break",pasteLink:"Paste a link…",pasteLinkWithTitle:o=>`Paste a ${o} link…`,placeholder:"Placeholder",quote:"Quote",removeLink:"Remove link",searchOrPasteLink:"Search or paste a link…",strikethrough:"Strikethrough",strong:"Bold",subheading:"Subheading",table:"Table",tip:"Tip",tipNotice:"Tip notice",warning:"Warning",warningNotice:"Warning notice"},i.default=i.base},"/Bf7":function(o,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const a=!("undefined"==typeof window)&&"MacIntel"===window.navigator.platform;i.default=function isModKey(o){return a?o.metaKey:o.ctrlKey}},"/f6Q":function(o,i,s){"use strict";var a=s("AGgm").isSpace;o.exports=function hr(o,i,s,l){var c,u,d,p,f=o.bMarks[i]+o.tShift[i],m=o.eMarks[i];if(o.sCount[i]-o.blkIndent>=4)return!1;if(42!==(c=o.src.charCodeAt(f++))&&45!==c&&95!==c)return!1;for(u=1;f<m;){if((d=o.src.charCodeAt(f++))!==c&&!a(d))return!1;d===c&&u++}return!(u<3)&&(l||(o.line=i+1,(p=o.push("hr","hr",0)).map=[i,o.line],p.markup=Array(u+1).join(String.fromCharCode(c))),!0)}},"/kAC":function(o,i,s){var a=s("3cYt")({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});o.exports=a},"0639":function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=s("tsqv"),c=a(s("K0ly"));i.default=function imageMenuItems(o,i){const{schema:s}=o,a=c.default(s.nodes.image,{layoutClass:"left-50"}),u=c.default(s.nodes.image,{layoutClass:"right-50"});return[{name:"alignLeft",tooltip:i.alignLeft,icon:l.AlignImageLeftIcon,visible:!0,active:a},{name:"alignCenter",tooltip:i.alignCenter,icon:l.AlignImageCenterIcon,visible:!0,active:o=>c.default(s.nodes.image)(o)&&!a(o)&&!u(o)},{name:"alignRight",tooltip:i.alignRight,icon:l.AlignImageRightIcon,visible:!0,active:u},{name:"separator",visible:!0},{name:"downloadImage",tooltip:i.downloadImage,icon:l.DownloadIcon,visible:!!fetch,active:()=>!1},{name:"deleteImage",tooltip:i.deleteImage,icon:l.TrashIcon,visible:!0,active:()=>!1}]}},"0ZTe":function(o,i,s){var a=s("wy8a"),l=s("quyA"),c=s("Em2t"),u=s("dt0z");o.exports=function createCaseFirst(o){return function(i){i=u(i);var s=l(i)?c(i):void 0,d=s?s[0]:i.charAt(0),p=s?a(s,1).join(""):i.slice(1);return d[o]()+p}}},"0iGP":function(o,i,s){"use strict";function markupTemplating(o){!function(o){function getPlaceholder(o,i){return"___"+o.toUpperCase()+i+"___"}Object.defineProperties(o.languages["markup-templating"]={},{buildPlaceholders:{value:function(i,s,a,l){if(i.language===s){var c=i.tokenStack=[];i.code=i.code.replace(a,(function(o){if("function"==typeof l&&!l(o))return o;for(var a,u=c.length;-1!==i.code.indexOf(a=getPlaceholder(s,u));)++u;return c[u]=o,a})),i.grammar=o.languages.markup}}},tokenizePlaceholders:{value:function(i,s){if(i.language===s&&i.tokenStack){i.grammar=o.languages[s];var a=0,l=Object.keys(i.tokenStack);!function walkTokens(c){for(var u=0;u<c.length&&!(a>=l.length);u++){var d=c[u];if("string"==typeof d||d.content&&"string"==typeof d.content){var p=l[a],f=i.tokenStack[p],m="string"==typeof d?d:d.content,g=getPlaceholder(s,p),v=m.indexOf(g);if(v>-1){++a;var y=m.substring(0,v),b=new o.Token(s,o.tokenize(f,i.grammar),"language-"+s,f),k=m.substring(v+g.length),w=[];y&&w.push.apply(w,walkTokens([y])),w.push(b),k&&w.push.apply(w,walkTokens([k])),"string"==typeof d?c.splice.apply(c,[u,1].concat(w)):d.content=w}}else d.content&&walkTokens(d.content)}return c}(i.tokens)}}}})}(o)}o.exports=markupTemplating,markupTemplating.displayName="markupTemplating",markupTemplating.aliases=[]},"1M3H":function(o,i,s){"use strict";o.exports=s("CK61")},"1MdW":function(o,i,s){"use strict";var a=s("0iGP");function php(o){o.register(a),function(o){var i=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,s=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/,/\b(?:null)\b/i],a=/\b0b[01]+\b|\b0x[\da-f]+\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+)(?:e[+-]?\d+)?/i,l=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,c=/[{}\[\](),:;]/;o.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:i,variable:/\$+(?:\w+\b|(?={))/i,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},keyword:[{pattern:/(\(\s*)\b(?:bool|boolean|int|integer|float|string|object|array)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:bool|int|float|string|object|array(?!\s*\()|mixed|self|static|callable|iterable|(?:null|false)(?=\s*\|))\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*[a-z0-9_|]\|\s*)(?:null|false)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:bool|int|float|string|object|void|array(?!\s*\()|mixed|self|static|callable|iterable|(?:null|false)(?=\s*\|))\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?[a-z0-9_|]\|\s*)(?:null|false)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:bool|int|float|string|object|void|array(?!\s*\()|mixed|iterable|(?:null|false)(?=\s*\|))\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:null|false)\b/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},/\b(?:__halt_compiler|abstract|and|array|as|break|callable|case|catch|class|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|eval|exit|extends|final|finally|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|namespace|match|new|or|parent|print|private|protected|public|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield)\b/i],"argument-name":/\b[a-z_]\w*(?=\s*:(?!:))/i,"class-name":[{pattern:/(\b(?:class|interface|extends|implements|trait|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:s,function:/\w+\s*(?=\()/,property:{pattern:/(->)[\w]+/,lookbehind:!0},number:a,operator:l,punctuation:c};var u={pattern:/{\$(?:{(?:{[^{}]+}|[^{}]+)}|[^{}])+}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)*)/,lookbehind:!0,inside:o.languages.php},d=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:u}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:u}}];o.languages.insertBefore("php","variable",{string:d}),o.languages.insertBefore("php","variable",{attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=]$)/,lookbehind:!0,inside:{comment:i,string:d,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:s,number:a,operator:l,punctuation:c}},delimiter:{pattern:/^#\[|]$/,alias:"punctuation"}}}}),o.hooks.add("before-tokenize",(function(i){if(/<\?/.test(i.code)){o.languages["markup-templating"].buildPlaceholders(i,"php",/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/gi)}})),o.hooks.add("after-tokenize",(function(i){o.languages["markup-templating"].tokenizePlaceholders(i,"php")}))}(o)}o.exports=php,php.displayName="php",php.aliases=[]},"1dGX":function(o,i,s){"use strict";i.Any=s("y8fO"),i.Cc=s("p7ys"),i.Cf=s("b9EY"),i.P=s("fKCf"),i.Z=s("T8I8")},"1gqn":function(o,i){o.exports=function isBuffer(o){return o&&"object"==typeof o&&"function"==typeof o.copy&&"function"==typeof o.fill&&"function"==typeof o.readUInt8}},"1iAE":function(o,i,s){"use strict";o.exports=function alphabetical(o){var i="string"==typeof o?o.charCodeAt(0):o;return i>=97&&i<=122||i>=65&&i<=90}},"1ll3":function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=s("fwbU"),c=s("LgcO"),u=s("ljbA"),d=a(s("pCDR"));i.default=class ExtensionManager{constructor(o=[],i){i&&o.forEach((o=>{o.bindEditor(i)})),this.extensions=o,this.embeds=i?i.props.embeds:void 0}get nodes(){return this.extensions.filter((o=>"node"===o.type)).reduce(((o,i)=>Object.assign(Object.assign({},o),{[i.name]:i.schema})),{})}serializer(){const o=this.extensions.filter((o=>"node"===o.type)).reduce(((o,i)=>Object.assign(Object.assign({},o),{[i.name]:i.toMarkdown})),{}),i=this.extensions.filter((o=>"mark"===o.type)).reduce(((o,i)=>Object.assign(Object.assign({},o),{[i.name]:i.toMarkdown})),{});return new u.MarkdownSerializer(o,i)}parser({schema:o}){const i=this.extensions.filter((o=>"mark"===o.type||"node"===o.type)).reduce(((o,i)=>{const s=i.parseMarkdown();return s?Object.assign(Object.assign({},o),{[i.markdownToken||i.name]:s}):o}),{});return new c.MarkdownParser(o,d.default({embeds:this.embeds}),i)}get marks(){return this.extensions.filter((o=>"mark"===o.type)).reduce(((o,{name:i,schema:s})=>Object.assign(Object.assign({},o),{[i]:s})),{})}get plugins(){return this.extensions.filter((o=>o.plugins)).reduce(((o,{plugins:i})=>[...o,...i]),[])}keymaps({schema:o}){return[...this.extensions.filter((o=>["extension"].includes(o.type))).filter((o=>o.keys)).map((i=>i.keys({schema:o}))),...this.extensions.filter((o=>["node","mark"].includes(o.type))).filter((o=>o.keys)).map((i=>i.keys({type:o[`${i.type}s`][i.name],schema:o})))].map((o=>l.keymap(o)))}inputRules({schema:o}){return[...this.extensions.filter((o=>["extension"].includes(o.type))).filter((o=>o.inputRules)).map((i=>i.inputRules({schema:o}))),...this.extensions.filter((o=>["node","mark"].includes(o.type))).filter((o=>o.inputRules)).map((i=>i.inputRules({type:o[`${i.type}s`][i.name],schema:o})))].reduce(((o,i)=>[...o,...i]),[])}commands({schema:o,view:i}){return this.extensions.filter((o=>o.commands)).reduce(((s,a)=>{const{name:l,type:c}=a,u={},d=a.commands(Object.assign({schema:o},["node","mark"].includes(c)?{type:o[`${c}s`][l]}:{})),apply=(o,s)=>!!i.editable&&(i.focus(),o(s)(i.state,i.dispatch,i)),handle=(o,i)=>{Array.isArray(i)?u[o]=o=>i.forEach((i=>apply(i,o))):"function"==typeof i&&(u[o]=o=>apply(i,o))};return"object"==typeof d?Object.entries(d).forEach((([o,i])=>{handle(o,i)})):handle(l,d),Object.assign(Object.assign({},s),u)}),{})}}},"1nBO":function(o,i,s){"use strict";var a=s("AGgm").normalizeReference,l=s("AGgm").isSpace;o.exports=function reference(o,i,s,c){var u,d,p,f,m,g,v,y,b,k,w,S,x,C,_,O,M=0,A=o.bMarks[i]+o.tShift[i],E=o.eMarks[i],T=i+1;if(o.sCount[i]-o.blkIndent>=4)return!1;if(91!==o.src.charCodeAt(A))return!1;for(;++A<E;)if(93===o.src.charCodeAt(A)&&92!==o.src.charCodeAt(A-1)){if(A+1===E)return!1;if(58!==o.src.charCodeAt(A+1))return!1;break}for(f=o.lineMax,_=o.md.block.ruler.getRules("reference"),k=o.parentType,o.parentType="reference";T<f&&!o.isEmpty(T);T++)if(!(o.sCount[T]-o.blkIndent>3||o.sCount[T]<0)){for(C=!1,g=0,v=_.length;g<v;g++)if(_[g](o,T,f,!0)){C=!0;break}if(C)break}for(E=(x=o.getLines(i,T,o.blkIndent,!1).trim()).length,A=1;A<E;A++){if(91===(u=x.charCodeAt(A)))return!1;if(93===u){b=A;break}(10===u||92===u&&++A<E&&10===x.charCodeAt(A))&&M++}if(b<0||58!==x.charCodeAt(b+1))return!1;for(A=b+2;A<E;A++)if(10===(u=x.charCodeAt(A)))M++;else if(!l(u))break;if(!(w=o.md.helpers.parseLinkDestination(x,A,E)).ok)return!1;if(m=o.md.normalizeLink(w.str),!o.md.validateLink(m))return!1;for(d=A=w.pos,p=M+=w.lines,S=A;A<E;A++)if(10===(u=x.charCodeAt(A)))M++;else if(!l(u))break;for(w=o.md.helpers.parseLinkTitle(x,A,E),A<E&&S!==A&&w.ok?(O=w.str,A=w.pos,M+=w.lines):(O="",A=d,M=p);A<E&&(u=x.charCodeAt(A),l(u));)A++;if(A<E&&10!==x.charCodeAt(A)&&O)for(O="",A=d,M=p;A<E&&(u=x.charCodeAt(A),l(u));)A++;return!(A<E&&10!==x.charCodeAt(A))&&(!!(y=a(x.slice(1,b)))&&(c||(void 0===o.env.references&&(o.env.references={}),void 0===o.env.references[y]&&(o.env.references[y]={title:O,href:m}),o.parentType=k,o.line=i+M+1),!0))}},"2KYT":function(o,i,s){"use strict";o.exports.encode=s("xGQ6"),o.exports.decode=s("jzd5"),o.exports.format=s("Q+CF"),o.exports.parse=s("2l+C")},"2l+C":function(o,i,s){"use strict";function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var a=/^([a-z0-9.+-]+:)/i,l=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),d=["'"].concat(u),p=["%","/","?",";","#"].concat(d),f=["/","?","#"],m=/^[+a-z0-9A-Z_-]{0,63}$/,g=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};Url.prototype.parse=function(o,i){var s,l,u,d,b,k=o;if(k=k.trim(),!i&&1===o.split("#").length){var w=c.exec(k);if(w)return this.pathname=w[1],w[2]&&(this.search=w[2]),this}var S=a.exec(k);if(S&&(u=(S=S[0]).toLowerCase(),this.protocol=S,k=k.substr(S.length)),(i||S||k.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(b="//"===k.substr(0,2))||S&&v[S]||(k=k.substr(2),this.slashes=!0)),!v[S]&&(b||S&&!y[S])){var x,C,_=-1;for(s=0;s<f.length;s++)-1!==(d=k.indexOf(f[s]))&&(-1===_||d<_)&&(_=d);for(-1!==(C=-1===_?k.lastIndexOf("@"):k.lastIndexOf("@",_))&&(x=k.slice(0,C),k=k.slice(C+1),this.auth=x),_=-1,s=0;s<p.length;s++)-1!==(d=k.indexOf(p[s]))&&(-1===_||d<_)&&(_=d);-1===_&&(_=k.length),":"===k[_-1]&&_--;var O=k.slice(0,_);k=k.slice(_),this.parseHost(O),this.hostname=this.hostname||"";var M="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!M){var A=this.hostname.split(/\./);for(s=0,l=A.length;s<l;s++){var E=A[s];if(E&&!E.match(m)){for(var T="",D=0,I=E.length;D<I;D++)E.charCodeAt(D)>127?T+="x":T+=E[D];if(!T.match(m)){var N=A.slice(0,s),R=A.slice(s+1),P=E.match(g);P&&(N.push(P[1]),R.unshift(P[2])),R.length&&(k=R.join(".")+k),this.hostname=N.join(".");break}}}}this.hostname.length>255&&(this.hostname=""),M&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var L=k.indexOf("#");-1!==L&&(this.hash=k.substr(L),k=k.slice(0,L));var F=k.indexOf("?");return-1!==F&&(this.search=k.substr(F),k=k.slice(0,F)),k&&(this.pathname=k),y[u]&&this.hostname&&!this.pathname&&(this.pathname=""),this},Url.prototype.parseHost=function(o){var i=l.exec(o);i&&(":"!==(i=i[0])&&(this.port=i.substr(1)),o=o.substr(0,o.length-i.length)),o&&(this.hostname=o)},o.exports=function urlParse(o,i){if(o&&o instanceof Url)return o;var s=new Url;return s.parse(o,i),s}},"31bW":function(o,i,s){"use strict";o.exports=function parseLinkLabel(o,i,s){var a,l,c,u,d=-1,p=o.posMax,f=o.pos;for(o.pos=i+1,a=1;o.pos<p;){if(93===(c=o.src.charCodeAt(o.pos))&&0===--a){l=!0;break}if(u=o.pos,o.md.inline.skipToken(o),91===c)if(u===o.pos-1)a++;else if(s)return o.pos=f,-1}return l&&(d=o.pos),o.pos=f,d}},"3Ef1":function(o,i,s){"use strict";var a=this&&this.__createBinding||(Object.create?function(o,i,s,a){void 0===a&&(a=s),Object.defineProperty(o,a,{enumerable:!0,get:function(){return i[s]}})}:function(o,i,s,a){void 0===a&&(a=s),o[a]=i[s]}),l=this&&this.__setModuleDefault||(Object.create?function(o,i){Object.defineProperty(o,"default",{enumerable:!0,value:i})}:function(o,i){o.default=i}),c=this&&this.__importStar||function(o){if(o&&o.__esModule)return o;var i={};if(null!=o)for(var s in o)"default"!==s&&Object.prototype.hasOwnProperty.call(o,s)&&a(i,o,s);return l(i,o),i},u=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0}),i.theme=i.Extension=i.renderToHtml=i.serializer=i.parser=i.schema=void 0;const d=c(s("q1tI")),p=u(s("44Ds")),f=s("UxO+"),m=s("I/Hh"),g=s("GhYw"),v=s("V2qZ"),y=s("MEpN"),b=s("+V57"),k=s("fwbU"),w=s("ABBN"),S=s("mG1W"),x=c(s("vOnD")),C=s("U/YG"),_=u(s("+sm8")),O=u(s("HUrV")),M=u(s("JUC8")),A=u(s("BMon")),E=u(s("m29f")),T=u(s("+Uon")),D=u(s("1ll3")),I=u(s("nBof")),N=u(s("S+IR")),R=u(s("qbOK")),P=u(s("Vy+z")),L=u(s("6xFH")),F=u(s("ZvBK")),B=u(s("U1So")),z=u(s("+BFG")),j=u(s("rzgJ")),$=u(s("F5ym")),q=u(s("+iOW")),V=u(s("xnS6")),U=u(s("lkDC")),W=u(s("PCxZ")),H=u(s("MdNu")),G=u(s("Ok6U")),K=u(s("UIsr")),J=u(s("jAMM")),Z=u(s("l0hw")),Y=u(s("VUPH")),X=u(s("ZzaS")),Q=u(s("w4kd")),ee=u(s("bFz+")),te=u(s("Qd3+")),ne=u(s("IXBT")),oe=u(s("AL7K")),ie=u(s("Ogsv")),se=u(s("jMYz")),ae=u(s("xUGs")),le=u(s("LzEb")),ce=u(s("S14j")),ue=u(s("4uyI")),de=u(s("tZow")),pe=u(s("T6B/")),fe=u(s("rqsu")),he=u(s("5Xwi")),me=u(s("3GFy")),ge=u(s("LTnM")),ve=u(s("PqgG")),ye=u(s("+Ypz"));var be=s("JPSe");Object.defineProperty(i,"schema",{enumerable:!0,get:function(){return be.schema}}),Object.defineProperty(i,"parser",{enumerable:!0,get:function(){return be.parser}}),Object.defineProperty(i,"serializer",{enumerable:!0,get:function(){return be.serializer}}),Object.defineProperty(i,"renderToHtml",{enumerable:!0,get:function(){return be.renderToHtml}});var ke=s("xqCI");Object.defineProperty(i,"Extension",{enumerable:!0,get:function(){return u(ke).default}}),i.theme=C.light;class RichMarkdownEditor extends d.PureComponent{constructor(){super(...arguments),this.state={isRTL:!1,isEditorFocused:!1,selectionMenuOpen:!1,blockMenuOpen:!1,linkMenuOpen:!1,blockMenuSearch:""},this.calculateDir=()=>{if(!this.element)return;const o="rtl"===this.props.dir||"rtl"===getComputedStyle(this.element).direction;this.state.isRTL!==o&&this.setState({isRTL:o})},this.value=()=>this.serializer.serialize(this.view.state.doc),this.handleChange=()=>{this.props.onChange&&this.props.onChange((()=>this.value()))},this.handleSave=()=>{const{onSave:o}=this.props;o&&o({done:!1})},this.handleSaveAndExit=()=>{const{onSave:o}=this.props;o&&o({done:!0})},this.handleEditorBlur=()=>{this.setState({isEditorFocused:!1})},this.handleEditorFocus=()=>{this.setState({isEditorFocused:!0})},this.handleOpenSelectionMenu=()=>{this.setState({blockMenuOpen:!1,selectionMenuOpen:!0})},this.handleCloseSelectionMenu=()=>{this.setState({selectionMenuOpen:!1})},this.handleOpenLinkMenu=()=>{this.setState({blockMenuOpen:!1,linkMenuOpen:!0})},this.handleCloseLinkMenu=()=>{this.setState({linkMenuOpen:!1})},this.handleOpenBlockMenu=o=>{this.setState({blockMenuOpen:!0,blockMenuSearch:o})},this.handleCloseBlockMenu=()=>{this.state.blockMenuOpen&&this.setState({blockMenuOpen:!1})},this.handleSelectRow=(o,i)=>{this.view.dispatch(S.selectRow(o)(i.tr))},this.handleSelectColumn=(o,i)=>{this.view.dispatch(S.selectColumn(o)(i.tr))},this.handleSelectTable=o=>{this.view.dispatch(S.selectTable(o.tr))},this.focusAtStart=()=>{const o=f.Selection.atStart(this.view.state.doc),i=this.view.state.tr.setSelection(o);this.view.dispatch(i),this.view.focus()},this.focusAtEnd=()=>{const o=f.Selection.atEnd(this.view.state.doc),i=this.view.state.tr.setSelection(o);this.view.dispatch(i),this.view.focus()},this.getHeadings=()=>{const o=[],i={};return this.view.state.doc.forEach((s=>{if("heading"===s.type.name){const a=N.default(s);let l=a;i[a]>0&&(l=N.default(s,i[a])),i[a]=void 0!==i[a]?i[a]+1:1,o.push({title:s.textContent,level:s.attrs.level,id:l})}})),o},this.theme=()=>this.props.theme||(this.props.dark?C.dark:C.light),this.dictionary=p.default((o=>Object.assign(Object.assign({},_.default),o)))}componentDidMount(){this.init(),this.props.scrollTo&&this.scrollToAnchor(this.props.scrollTo),this.calculateDir(),this.props.readOnly||this.props.autoFocus&&this.focusAtEnd()}componentDidUpdate(o){if(this.props.value&&o.value!==this.props.value){const o=this.createState(this.props.value);this.view.updateState(o)}o.readOnly!==this.props.readOnly&&this.view.update(Object.assign(Object.assign({},this.view.props),{editable:()=>!this.props.readOnly})),this.props.scrollTo&&this.props.scrollTo!==o.scrollTo&&this.scrollToAnchor(this.props.scrollTo),o.readOnly&&!this.props.readOnly&&this.props.autoFocus&&this.focusAtEnd(),o.dir!==this.props.dir&&this.calculateDir(),this.isBlurred||this.state.isEditorFocused||this.state.blockMenuOpen||this.state.linkMenuOpen||this.state.selectionMenuOpen||(this.isBlurred=!0,this.props.onBlur&&this.props.onBlur()),this.isBlurred&&(this.state.isEditorFocused||this.state.blockMenuOpen||this.state.linkMenuOpen||this.state.selectionMenuOpen)&&(this.isBlurred=!1,this.props.onFocus&&this.props.onFocus())}init(){this.extensions=this.createExtensions(),this.nodes=this.createNodes(),this.marks=this.createMarks(),this.schema=this.createSchema(),this.plugins=this.createPlugins(),this.keymaps=this.createKeymaps(),this.serializer=this.createSerializer(),this.parser=this.createParser(),this.inputRules=this.createInputRules(),this.nodeViews=this.createNodeViews(),this.view=this.createView(),this.commands=this.createCommands()}createExtensions(){const o=this.dictionary(this.props.dictionary);return new D.default([...[new R.default,new P.default,new V.default,new Z.default,new L.default,new B.default({dictionary:o,onShowToast:this.props.onShowToast}),new z.default({dictionary:o,onShowToast:this.props.onShowToast}),new j.default,new $.default,new F.default,new q.default,new G.default,new K.default({dictionary:o}),new U.default({dictionary:o,onShowToast:this.props.onShowToast,offset:this.props.headingsOffset}),new W.default,new H.default({dictionary:o,uploadImage:this.props.uploadImage,onImageUploadStart:this.props.onImageUploadStart,onImageUploadStop:this.props.onImageUploadStop,onShowToast:this.props.onShowToast}),new Y.default,new X.default({onSelectTable:this.handleSelectTable,onSelectRow:this.handleSelectRow}),new Q.default({onSelectColumn:this.handleSelectColumn}),new ee.default,new te.default,new ne.default,new oe.default,new ie.default,new le.default,new ce.default,new se.default({onKeyboardShortcut:this.handleOpenLinkMenu,onClickLink:this.props.onClickLink,onClickHashtag:this.props.onClickHashtag,onHoverLink:this.props.onHoverLink}),new ae.default,new J.default,new pe.default,new de.default,new ge.default,new ve.default,new ye.default,new fe.default({onBlur:this.handleEditorBlur,onFocus:this.handleEditorFocus,onSave:this.handleSave,onSaveAndExit:this.handleSaveAndExit,onCancel:this.props.onCancel}),new ue.default({dictionary:o,onOpen:this.handleOpenBlockMenu,onClose:this.handleCloseBlockMenu}),new me.default({placeholder:this.props.placeholder}),new he.default({maxLength:this.props.maxLength})].filter((o=>!this.props.disableExtensions||!this.props.disableExtensions.includes(o.name))),...this.props.extensions],this)}createPlugins(){return this.extensions.plugins}createKeymaps(){return this.extensions.keymaps({schema:this.schema})}createInputRules(){return this.extensions.inputRules({schema:this.schema})}createNodeViews(){return this.extensions.extensions.filter((o=>o.component)).reduce(((o,i)=>Object.assign(Object.assign({},o),{[i.name]:(o,s,a,l)=>new I.default(i.component,{editor:this,extension:i,node:o,view:s,getPos:a,decorations:l})})),{})}createCommands(){return this.extensions.commands({schema:this.schema,view:this.view})}createNodes(){return this.extensions.nodes}createMarks(){return this.extensions.marks}createSchema(){return new y.Schema({nodes:this.nodes,marks:this.marks})}createSerializer(){return this.extensions.serializer()}createParser(){return this.extensions.parser({schema:this.schema})}createState(o){const i=this.createDocument(o||this.props.defaultValue);return f.EditorState.create({schema:this.schema,doc:i,plugins:[...this.plugins,...this.keymaps,m.dropCursor({color:this.theme().cursor}),g.gapCursor(),b.inputRules({rules:this.inputRules}),k.keymap(w.baseKeymap)]})}createDocument(o){return this.parser.parse(o)}createView(){if(!this.element)throw new Error("createView called before ref available");const isEditingCheckbox=o=>o.steps.some((o=>{var i,s,a;return(null===(a=null===(s=null===(i=o.slice)||void 0===i?void 0:i.content)||void 0===s?void 0:s.firstChild)||void 0===a?void 0:a.type.name)===this.schema.nodes.checkbox_item.name})),o=this,i=new v.EditorView(this.element,{state:this.createState(this.props.value),editable:()=>!this.props.readOnly,nodeViews:this.nodeViews,handleDOMEvents:this.props.handleDOMEvents,dispatchTransaction:function(i){const{state:s,transactions:a}=this.state.applyTransaction(i);this.updateState(s),a.some((o=>o.docChanged))&&(!o.props.readOnly||o.props.readOnlyWriteCheckboxes&&a.some(isEditingCheckbox))&&o.handleChange(),o.calculateDir(),o.forceUpdate()}});return i.dom.setAttribute("role","textbox"),i}scrollToAnchor(o){if(o)try{const i=document.querySelector(o);i&&i.scrollIntoView({behavior:"smooth"})}catch(i){console.warn(`Attempted to scroll to invalid hash: ${o}`,i)}}render(){const{dir:o,readOnly:i,readOnlyWriteCheckboxes:s,style:a,tooltip:l,className:c,onKeyDown:u}=this.props,{isRTL:p}=this.state,f=this.dictionary(this.props.dictionary);return d.createElement(O.default,{onKeyDown:u,style:a,className:c,align:"flex-start",justify:"center",dir:o,column:!0},d.createElement(x.ThemeProvider,{theme:this.theme()},d.createElement(d.Fragment,null,d.createElement(we,{dir:o,rtl:p,readOnly:i,readOnlyWriteCheckboxes:s,ref:o=>this.element=o}),!i&&this.view&&d.createElement(d.Fragment,null,d.createElement(M.default,{view:this.view,dictionary:f,commands:this.commands,rtl:p,isTemplate:!0===this.props.template,onOpen:this.handleOpenSelectionMenu,onClose:this.handleCloseSelectionMenu,onSearchLink:this.props.onSearchLink,onClickLink:this.props.onClickLink,onCreateLink:this.props.onCreateLink,tooltip:l}),d.createElement(E.default,{view:this.view,dictionary:f,isActive:this.state.linkMenuOpen,onCreateLink:this.props.onCreateLink,onSearchLink:this.props.onSearchLink,onClickLink:this.props.onClickLink,onShowToast:this.props.onShowToast,onClose:this.handleCloseLinkMenu,tooltip:l}),d.createElement(A.default,{view:this.view,commands:this.commands,dictionary:f,rtl:p,isActive:this.state.blockMenuOpen,search:this.state.blockMenuSearch,onClose:this.handleCloseBlockMenu,uploadImage:this.props.uploadImage,onLinkToolbarOpen:this.handleOpenLinkMenu,onImageUploadStart:this.props.onImageUploadStart,onImageUploadStop:this.props.onImageUploadStop,onShowToast:this.props.onShowToast,embeds:this.props.embeds})))))}}RichMarkdownEditor.defaultProps={defaultValue:"",dir:"auto",placeholder:"Write something nice…",onImageUploadStart:()=>{},onImageUploadStop:()=>{},onClickLink:o=>{window.open(o,"_blank")},embeds:[],extensions:[],tooltip:T.default};const we=x.default("div")`
  color: ${o=>o.theme.text};
  background: ${o=>o.theme.background};
  font-family: ${o=>o.theme.fontFamily};
  font-weight: ${o=>o.theme.fontWeight};
  font-size: 1em;
  line-height: 1.7em;
  width: 100%;

  .ProseMirror {
    position: relative;
    outline: none;
    word-wrap: break-word;
    white-space: pre-wrap;
    white-space: break-spaces;
    -webkit-font-variant-ligatures: none;
    font-variant-ligatures: none;
    font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
  }

  pre {
    white-space: pre-wrap;
  }

  li {
    position: relative;
  }

  .image {
    text-align: center;
    max-width: 100%;
    clear: both;

    img {
      pointer-events: ${o=>o.readOnly?"initial":"none"};
      display: inline-block;
      max-width: 100%;
      max-height: 75vh;
    }
  }

  .image.placeholder {
    position: relative;
    background: ${o=>o.theme.background};
    margin-bottom: calc(28px + 1.2em);

    img {
      opacity: 0.5;
    }
  }

  .image-right-50 {
    float: right;
    width: 50%;
    margin-left: 2em;
    margin-bottom: 1em;
    clear: initial;
  }

  .image-left-50 {
    float: left;
    width: 50%;
    margin-right: 2em;
    margin-bottom: 1em;
    clear: initial;
  }

  .ProseMirror-hideselection *::selection {
    background: transparent;
  }
  .ProseMirror-hideselection *::-moz-selection {
    background: transparent;
  }
  .ProseMirror-hideselection {
    caret-color: transparent;
  }

  .ProseMirror-selectednode {
    outline: 2px solid
      ${o=>o.readOnly?"transparent":o.theme.selected};
  }

  /* Make sure li selections wrap around markers */

  li.ProseMirror-selectednode {
    outline: none;
  }

  li.ProseMirror-selectednode:after {
    content: "";
    position: absolute;
    left: ${o=>o.rtl?"-2px":"-32px"};
    right: ${o=>o.rtl?"-32px":"-2px"};
    top: -2px;
    bottom: -2px;
    border: 2px solid ${o=>o.theme.selected};
    pointer-events: none;
  }

  .ProseMirror[contenteditable="false"] {
    .caption {
      pointer-events: none;
    }
    .caption:empty {
      visibility: hidden;
    }
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    margin: 1em 0 0.5em;
    font-weight: 500;
    cursor: default;

    &:not(.placeholder):before {
      display: ${o=>o.readOnly?"none":"inline-block"};
      font-family: ${o=>o.theme.fontFamilyMono};
      color: ${o=>o.theme.textSecondary};
      font-size: 13px;
      line-height: 0;
      margin-${o=>o.rtl?"right":"left"}: -24px;
      width: 24px;
    }

    &:hover,
    &:focus-within {
      .heading-actions {
        opacity: 1;
      }
    }
  }

  .heading-content {
    &:before {
      content: "​";
      display: inline;
    }
  }

  .heading-name {
    color: ${o=>o.theme.text};

    &:hover {
      text-decoration: none;
    }
  }

  a:first-child {
    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      margin-top: 0;
    }
  }

  h1:not(.placeholder):before {
    content: "H1";
  }
  h2:not(.placeholder):before {
    content: "H2";
  }
  h3:not(.placeholder):before {
    content: "H3";
  }
  h4:not(.placeholder):before {
    content: "H4";
  }
  h5:not(.placeholder):before {
    content: "H5";
  }
  h6:not(.placeholder):before {
    content: "H6";
  }

  .with-emoji {
    margin-${o=>o.rtl?"right":"left"}: -1em;
  }

  .heading-anchor,
  .heading-fold {
    display: inline-block;
    color: ${o=>o.theme.text};
    opacity: .75;
    cursor: pointer;
    background: none;
    outline: none;
    border: 0;
    margin: 0;
    padding: 0;
    text-align: left;
    font-family: ${o=>o.theme.fontFamilyMono};
    font-size: 14px;
    line-height: 0;
    width: 12px;
    height: 24px;

    &:focus,
    &:hover {
      opacity: 1;
    }
  }

  .heading-actions {
    opacity: 0;
    background: ${o=>o.theme.background};
    margin-${o=>o.rtl?"right":"left"}: -26px;
    flex-direction: ${o=>o.rtl?"row-reverse":"row"};
    display: inline-flex;
    position: relative;
    top: -2px;
    width: 26px;
    height: 24px;

    &.collapsed {
      opacity: 1;
    }

    &.collapsed .heading-anchor {
      opacity: 0;
    }

    &.collapsed .heading-fold {
      opacity: 1;
    }
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    &:hover {
      .heading-anchor {
        opacity: 0.75 !important;
      }
      .heading-anchor:hover {
        opacity: 1 !important;
      }
    }
  }

  .heading-fold {
    display: inline-block;
    transform-origin: center;
    padding: 0;

    &.collapsed {
      transform: rotate(${o=>o.rtl?"90deg":"-90deg"});
      transition-delay: 0.1s;
      opacity: 1;
    }
  }

  .placeholder {
    &:before {
      display: block;
      content: ${o=>o.readOnly?"":"attr(data-empty-text)"};
      pointer-events: none;
      height: 0;
      color: ${o=>o.theme.placeholder};
    }
  }

  @media print {
    .placeholder {
      display: none;
    }
  }

  .notice-block {
    display: flex;
    align-items: center;
    background: ${o=>o.theme.noticeInfoBackground};
    color: ${o=>o.theme.noticeInfoText};
    border-radius: 4px;
    padding: 8px 16px;
    margin: 8px 0;

    a {
      color: ${o=>o.theme.noticeInfoText};
    }

    a:not(.heading-name) {
      text-decoration: underline;
    }
  }

  .notice-block .content {
    flex-grow: 1;
  }

  .notice-block .icon {
    width: 24px;
    height: 24px;
    align-self: flex-start;
    margin-${o=>o.rtl?"left":"right"}: 4px;
    position: relative;
    top: 1px;
  }

  .notice-block.tip {
    background: ${o=>o.theme.noticeTipBackground};
    color: ${o=>o.theme.noticeTipText};

    a {
      color: ${o=>o.theme.noticeTipText};
    }
  }

  .notice-block.warning {
    background: ${o=>o.theme.noticeWarningBackground};
    color: ${o=>o.theme.noticeWarningText};

    a {
      color: ${o=>o.theme.noticeWarningText};
    }
  }

  blockquote {
    margin: 0;
    padding-left: 1em;
    font-style: italic;
    overflow: hidden;
    position: relative;

    &:before {
      content: "";
      display: inline-block;
      width: 3px;
      border-radius: 1px;
      position: absolute;
      margin-${o=>o.rtl?"right":"left"}: -16px;
      top: 0;
      bottom: 0;
      background: ${o=>o.theme.quote};
    }
  }

  b,
  strong {
    font-weight: 600;
  }

  .template-placeholder {
    color: ${o=>o.theme.placeholder};
    border-bottom: 1px dotted ${o=>o.theme.placeholder};
    border-radius: 2px;
    cursor: text;

    &:hover {
      border-bottom: 1px dotted
        ${o=>o.readOnly?o.theme.placeholder:o.theme.textSecondary};
    }
  }

  p {
    margin: 0;
  }

  a {
    color: ${o=>o.theme.link};
  }

  a:hover {
    text-decoration: ${o=>o.readOnly?"underline":"none"};
  }

  ul,
  ol {
    margin: ${o=>o.rtl?"0 -26px 0 0.1em":"0 0.1em 0 -26px"};
    padding: ${o=>o.rtl?"0 44px 0 0":"0 0 0 44px"};

    ul,
    ol {
      margin-${o=>o.rtl?"left":"right"}: -24px;
    }
  }

  ol ol {
    list-style: lower-alpha;
  }

  ol ol ol {
    list-style: lower-roman;
  }

  ul.checkbox_list {
    list-style: none;
    padding: 0;
    margin: ${o=>o.rtl?"0 -24px 0 0":"0 0 0 -24px"};
  }

  ul li,
  ol li {
    position: relative;
    white-space: initial;

    p {
      white-space: pre-wrap;
    }

    > div {
      width: 100%;
    }
  }

  ul.checkbox_list li {
    display: flex;
    padding-${o=>o.rtl?"right":"left"}: 24px;
  }

  ul.checkbox_list li.checked > div > p {
    color: ${o=>o.theme.textSecondary};
    text-decoration: line-through;
  }

  ul li::before,
  ol li::before {
    background: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3QgeD0iOCIgeT0iNyIgd2lkdGg9IjMiIGhlaWdodD0iMiIgcng9IjEiIGZpbGw9IiM0RTVDNkUiLz4KPHJlY3QgeD0iOCIgeT0iMTEiIHdpZHRoPSIzIiBoZWlnaHQ9IjIiIHJ4PSIxIiBmaWxsPSIjNEU1QzZFIi8+CjxyZWN0IHg9IjgiIHk9IjE1IiB3aWR0aD0iMyIgaGVpZ2h0PSIyIiByeD0iMSIgZmlsbD0iIzRFNUM2RSIvPgo8cmVjdCB4PSIxMyIgeT0iNyIgd2lkdGg9IjMiIGhlaWdodD0iMiIgcng9IjEiIGZpbGw9IiM0RTVDNkUiLz4KPHJlY3QgeD0iMTMiIHk9IjExIiB3aWR0aD0iMyIgaGVpZ2h0PSIyIiByeD0iMSIgZmlsbD0iIzRFNUM2RSIvPgo8cmVjdCB4PSIxMyIgeT0iMTUiIHdpZHRoPSIzIiBoZWlnaHQ9IjIiIHJ4PSIxIiBmaWxsPSIjNEU1QzZFIi8+Cjwvc3ZnPgo=");
    content: "";
    display: ${o=>o.readOnly?"none":"inline-block"};
    cursor: move;
    width: 24px;
    height: 24px;
    position: absolute;
    ${o=>o.rtl?"right":"left"}: -40px;
    top: 2px;
    opacity: 0;
    transition: opacity 200ms ease-in-out;
  }

  ul > li.hovering::before,
  ol li.hovering::before {
    opacity: 0.5;
  }

  ul li.ProseMirror-selectednode::after,
  ol li.ProseMirror-selectednode::after {
    display: none;
  }

  ul.checkbox_list li::before {
    ${o=>o.rtl?"right":"left"}: 0;
  }

  ul.checkbox_list li input {
    pointer-events: ${o=>o.readOnly&&!o.readOnlyWriteCheckboxes?"none":"initial"};
    opacity: ${o=>o.readOnly&&!o.readOnlyWriteCheckboxes?.75:1};
    margin: ${o=>o.rtl?"0.5em 0 0 0.5em":"0.5em 0.5em 0 0"};
    width: 14px;
    height: 14px;
  }

  li p:first-child {
    margin: 0;
    word-break: break-word;
  }

  hr {
    position: relative;
    height: 1em;
    border: 0;
  }

  hr:before {
    content: "";
    display: block;
    position: absolute;
    border-top: 1px solid ${o=>o.theme.horizontalRule};
    top: 0.5em;
    left: 0;
    right: 0;
  }

  hr.page-break {
    page-break-after: always;
  }

  hr.page-break:before {
    border-top: 1px dashed ${o=>o.theme.horizontalRule};
  }

  code {
    border-radius: 4px;
    border: 1px solid ${o=>o.theme.codeBorder};
    padding: 3px 4px;
    font-family: ${o=>o.theme.fontFamilyMono};
    font-size: 85%;
  }

  mark {
    border-radius: 1px;
    color: ${o=>o.theme.textHighlightForeground};
    background: ${o=>o.theme.textHighlight};

    a {
      color: ${o=>o.theme.textHighlightForeground};
    }
  }

  .code-block,
  .notice-block {
    position: relative;

    select,
    button {
      background: ${o=>o.theme.blockToolbarBackground};
      color: ${o=>o.theme.blockToolbarItem};
      border-width: 1px;
      font-size: 13px;
      display: none;
      position: absolute;
      border-radius: 4px;
      padding: 2px;
      z-index: 1;
      top: 4px;
    }

    &.code-block {
      select,
      button {
        right: 4px;
      }
    }

    &.notice-block {
      select,
      button {
        ${o=>o.rtl?"left":"right"}: 4px;
      }
    }

    button {
      padding: 2px 4px;
    }

    &:hover {
      select {
        display: ${o=>o.readOnly?"none":"inline"};
      }

      button {
        display: ${o=>o.readOnly?"inline":"none"};
      }
    }

    select:focus,
    select:active {
      display: inline;
    }
  }

  pre {
    display: block;
    overflow-x: auto;
    padding: 0.75em 1em;
    line-height: 1.4em;
    position: relative;
    background: ${o=>o.theme.codeBackground};
    border-radius: 4px;
    border: 1px solid ${o=>o.theme.codeBorder};

    -webkit-font-smoothing: initial;
    font-family: ${o=>o.theme.fontFamilyMono};
    font-size: 13px;
    direction: ltr;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;
    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
    color: ${o=>o.theme.code};
    margin: 0;

    code {
      font-size: 13px;
      background: none;
      padding: 0;
      border: 0;
    }
  }

  .token.comment,
  .token.prolog,
  .token.doctype,
  .token.cdata {
    color: ${o=>o.theme.codeComment};
  }

  .token.punctuation {
    color: ${o=>o.theme.codePunctuation};
  }

  .token.namespace {
    opacity: 0.7;
  }

  .token.operator,
  .token.boolean,
  .token.number {
    color: ${o=>o.theme.codeNumber};
  }

  .token.property {
    color: ${o=>o.theme.codeProperty};
  }

  .token.tag {
    color: ${o=>o.theme.codeTag};
  }

  .token.string {
    color: ${o=>o.theme.codeString};
  }

  .token.selector {
    color: ${o=>o.theme.codeSelector};
  }

  .token.attr-name {
    color: ${o=>o.theme.codeAttr};
  }

  .token.entity,
  .token.url,
  .language-css .token.string,
  .style .token.string {
    color: ${o=>o.theme.codeEntity};
  }

  .token.attr-value,
  .token.keyword,
  .token.control,
  .token.directive,
  .token.unit {
    color: ${o=>o.theme.codeKeyword};
  }

  .token.function {
    color: ${o=>o.theme.codeFunction};
  }

  .token.statement,
  .token.regex,
  .token.atrule {
    color: ${o=>o.theme.codeStatement};
  }

  .token.placeholder,
  .token.variable {
    color: ${o=>o.theme.codePlaceholder};
  }

  .token.deleted {
    text-decoration: line-through;
  }

  .token.inserted {
    border-bottom: 1px dotted ${o=>o.theme.codeInserted};
    text-decoration: none;
  }

  .token.italic {
    font-style: italic;
  }

  .token.important,
  .token.bold {
    font-weight: bold;
  }

  .token.important {
    color: ${o=>o.theme.codeImportant};
  }

  .token.entity {
    cursor: help;
  }

  table {
    width: 100%;
    border-collapse: collapse;
    border-radius: 4px;
    margin-top: 1em;
    box-sizing: border-box;

    * {
      box-sizing: border-box;
    }

    tr {
      position: relative;
      border-bottom: 1px solid ${o=>o.theme.tableDivider};
    }

    th {
      background: ${o=>o.theme.tableHeaderBackground};
    }

    td,
    th {
      position: relative;
      vertical-align: top;
      border: 1px solid ${o=>o.theme.tableDivider};
      position: relative;
      padding: 4px 8px;
      text-align: ${o=>o.rtl?"right":"left"};
      min-width: 100px;
    }

    .selectedCell {
      background: ${o=>o.readOnly?"inherit":o.theme.tableSelectedBackground};

      /* fixes Firefox background color painting over border:
       * https://bugzilla.mozilla.org/show_bug.cgi?id=688556 */
      background-clip: padding-box;
    }

    .grip-column {
      /* usage of ::after for all of the table grips works around a bug in
       * prosemirror-tables that causes Safari to hang when selecting a cell
       * in an empty table:
       * https://github.com/ProseMirror/prosemirror/issues/947 */
      &::after {
        content: "";
        cursor: pointer;
        position: absolute;
        top: -16px;
        ${o=>o.rtl?"right":"left"}: 0;
        width: 100%;
        height: 12px;
        background: ${o=>o.theme.tableDivider};
        border-bottom: 3px solid ${o=>o.theme.background};
        display: ${o=>o.readOnly?"none":"block"};
      }

      &:hover::after {
        background: ${o=>o.theme.text};
      }
      &.first::after {
        border-top-${o=>o.rtl?"right":"left"}-radius: 3px;
      }
      &.last::after {
        border-top-${o=>o.rtl?"left":"right"}-radius: 3px;
      }
      &.selected::after {
        background: ${o=>o.theme.tableSelected};
      }
    }

    .grip-row {
      &::after {
        content: "";
        cursor: pointer;
        position: absolute;
        ${o=>o.rtl?"right":"left"}: -16px;
        top: 0;
        height: 100%;
        width: 12px;
        background: ${o=>o.theme.tableDivider};
        border-${o=>o.rtl?"left":"right"}: 3px solid;
        border-color: ${o=>o.theme.background};
        display: ${o=>o.readOnly?"none":"block"};
      }

      &:hover::after {
        background: ${o=>o.theme.text};
      }
      &.first::after {
        border-top-${o=>o.rtl?"right":"left"}-radius: 3px;
      }
      &.last::after {
        border-bottom-${o=>o.rtl?"right":"left"}-radius: 3px;
      }
      &.selected::after {
        background: ${o=>o.theme.tableSelected};
      }
    }

    .grip-table {
      &::after {
        content: "";
        cursor: pointer;
        background: ${o=>o.theme.tableDivider};
        width: 13px;
        height: 13px;
        border-radius: 13px;
        border: 2px solid ${o=>o.theme.background};
        position: absolute;
        top: -18px;
        ${o=>o.rtl?"right":"left"}: -18px;
        display: ${o=>o.readOnly?"none":"block"};
      }

      &:hover::after {
        background: ${o=>o.theme.text};
      }
      &.selected::after {
        background: ${o=>o.theme.tableSelected};
      }
    }
  }

  .scrollable-wrapper {
    position: relative;
    margin: 0.5em 0px;
    scrollbar-width: thin;
    scrollbar-color: transparent transparent;

    &:hover {
      scrollbar-color: ${o=>o.theme.scrollbarThumb}
        ${o=>o.theme.scrollbarBackground};
    }

    & ::-webkit-scrollbar {
      height: 14px;
      background-color: transparent;
    }

    &:hover ::-webkit-scrollbar {
      background-color: ${o=>o.theme.scrollbarBackground};
    }

    & ::-webkit-scrollbar-thumb {
      background-color: transparent;
      border: 3px solid transparent;
      border-radius: 7px;
    }

    &:hover ::-webkit-scrollbar-thumb {
      background-color: ${o=>o.theme.scrollbarThumb};
      border-color: ${o=>o.theme.scrollbarBackground};
    }
  }

  .scrollable {
    overflow-y: hidden;
    overflow-x: auto;
    padding-${o=>o.rtl?"right":"left"}: 1em;
    margin-${o=>o.rtl?"right":"left"}: -1em;
    border-${o=>o.rtl?"right":"left"}: 1px solid transparent;
    border-${o=>o.rtl?"left":"right"}: 1px solid transparent;
    transition: border 250ms ease-in-out 0s;
  }

  .scrollable-shadow {
    position: absolute;
    top: 0;
    bottom: 0;
    ${o=>o.rtl?"right":"left"}: -1em;
    width: 16px;
    transition: box-shadow 250ms ease-in-out;
    border: 0px solid transparent;
    border-${o=>o.rtl?"right":"left"}-width: 1em;
    pointer-events: none;

    &.left {
      box-shadow: 16px 0 16px -16px inset rgba(0, 0, 0, 0.25);
      border-left: 1em solid ${o=>o.theme.background};
    }

    &.right {
      right: 0;
      left: auto;
      box-shadow: -16px 0 16px -16px inset rgba(0, 0, 0, 0.25);
    }
  }

  .block-menu-trigger {
    display: ${o=>o.readOnly?"none":"inline"};
    width: 24px;
    height: 24px;
    color: ${o=>o.theme.textSecondary};
    background: none;
    position: absolute;
    transition: color 150ms cubic-bezier(0.175, 0.885, 0.32, 1.275),
      transform 150ms cubic-bezier(0.175, 0.885, 0.32, 1.275);
    outline: none;
    border: 0;
    padding: 0;
    margin-top: 1px;
    margin-${o=>o.rtl?"right":"left"}: -24px;

    &:hover,
    &:focus {
      cursor: pointer;
      transform: scale(1.2);
      color: ${o=>o.theme.text};
    }
  }

  @media print {
    .block-menu-trigger {
      display: none;
    }

    .page-break {
      opacity: 0;
    }
  }

  .ProseMirror-gapcursor {
    display: none;
    pointer-events: none;
    position: absolute;
  }

  .ProseMirror-gapcursor:after {
    content: "";
    display: block;
    position: absolute;
    top: -2px;
    width: 20px;
    border-top: 1px solid ${o=>o.theme.cursor};
    animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
  }

  .folded-content {
    display: none;
  }

  @keyframes ProseMirror-cursor-blink {
    to {
      visibility: hidden;
    }
  }

  .ProseMirror-focused .ProseMirror-gapcursor {
    display: block;
  }

  @media print {
    em,
    blockquote {
      font-family: "SF Pro Text", ${o=>o.theme.fontFamily};
    }
  }
`;i.default=RichMarkdownEditor},"3GFy":function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=s("UxO+"),c=s("V2qZ"),u=a(s("xqCI"));class Placeholder extends u.default{get name(){return"empty-placeholder"}get defaultOptions(){return{emptyNodeClass:"placeholder",placeholder:""}}get plugins(){return[new l.Plugin({props:{decorations:o=>{const{doc:i}=o,s=[],a=""===i.textContent&&i.childCount<=1&&i.content.size<=2;return i.descendants(((o,i)=>{if(!a)return;if(0!==i||"paragraph"!==o.type.name)return;const l=c.Decoration.node(i,i+o.nodeSize,{class:this.options.emptyNodeClass,"data-empty-text":this.options.placeholder});s.push(l)})),c.DecorationSet.create(i,s)}}})]}}i.default=Placeholder},"3vSn":function(o,i,s){"use strict";function powershell(o){!function(o){var i=o.languages.powershell={comment:[{pattern:/(^|[^`])<#[\s\S]*?#>/,lookbehind:!0},{pattern:/(^|[^`])#.*/,lookbehind:!0}],string:[{pattern:/"(?:`[\s\S]|[^`"])*"/,greedy:!0,inside:{function:{pattern:/(^|[^`])\$\((?:\$\([^\r\n()]*\)|(?!\$\()[^\r\n)])*\)/,lookbehind:!0,inside:{}}}},{pattern:/'(?:[^']|'')*'/,greedy:!0}],namespace:/\[[a-z](?:\[(?:\[[^\]]*]|[^\[\]])*]|[^\[\]])*]/i,boolean:/\$(?:true|false)\b/i,variable:/\$\w+\b/,function:[/\b(?:Add|Approve|Assert|Backup|Block|Checkpoint|Clear|Close|Compare|Complete|Compress|Confirm|Connect|Convert|ConvertFrom|ConvertTo|Copy|Debug|Deny|Disable|Disconnect|Dismount|Edit|Enable|Enter|Exit|Expand|Export|Find|ForEach|Format|Get|Grant|Group|Hide|Import|Initialize|Install|Invoke|Join|Limit|Lock|Measure|Merge|Move|New|Open|Optimize|Out|Ping|Pop|Protect|Publish|Push|Read|Receive|Redo|Register|Remove|Rename|Repair|Request|Reset|Resize|Resolve|Restart|Restore|Resume|Revoke|Save|Search|Select|Send|Set|Show|Skip|Sort|Split|Start|Step|Stop|Submit|Suspend|Switch|Sync|Tee|Test|Trace|Unblock|Undo|Uninstall|Unlock|Unprotect|Unpublish|Unregister|Update|Use|Wait|Watch|Where|Write)-[a-z]+\b/i,/\b(?:ac|cat|chdir|clc|cli|clp|clv|compare|copy|cp|cpi|cpp|cvpa|dbp|del|diff|dir|ebp|echo|epal|epcsv|epsn|erase|fc|fl|ft|fw|gal|gbp|gc|gci|gcs|gdr|gi|gl|gm|gp|gps|group|gsv|gu|gv|gwmi|iex|ii|ipal|ipcsv|ipsn|irm|iwmi|iwr|kill|lp|ls|measure|mi|mount|move|mp|mv|nal|ndr|ni|nv|ogv|popd|ps|pushd|pwd|rbp|rd|rdr|ren|ri|rm|rmdir|rni|rnp|rp|rv|rvpa|rwmi|sal|saps|sasv|sbp|sc|select|set|shcm|si|sl|sleep|sls|sort|sp|spps|spsv|start|sv|swmi|tee|trcm|type|write)\b/i],keyword:/\b(?:Begin|Break|Catch|Class|Continue|Data|Define|Do|DynamicParam|Else|ElseIf|End|Exit|Filter|Finally|For|ForEach|From|Function|If|InlineScript|Parallel|Param|Process|Return|Sequence|Switch|Throw|Trap|Try|Until|Using|Var|While|Workflow)\b/i,operator:{pattern:/(\W?)(?:!|-(?:eq|ne|gt|ge|lt|le|sh[lr]|not|b?(?:and|x?or)|(?:Not)?(?:Like|Match|Contains|In)|Replace|Join|is(?:Not)?|as)\b|-[-=]?|\+[+=]?|[*\/%]=?)/i,lookbehind:!0},punctuation:/[|{}[\];(),.]/},s=i.string[0].inside;s.boolean=i.boolean,s.variable=i.variable,s.function.inside=i}(o)}o.exports=powershell,powershell.displayName="powershell",powershell.aliases=[]},"44WW":function(o,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const a=s("rQ0s");function findPlaceholderLink(o,i){let s;return function findLinks(o,a=0){"text"===o.type.name&&o.marks.forEach((l=>{if("link"===l.type.name&&l.attrs.href===i&&(s={node:o,pos:a},s))return!1})),o.content.size&&o.descendants(findLinks)}(o),s}i.default=async function(o,i,s,l){const{dispatch:c,state:u}=o,{onCreateLink:d,onShowToast:p}=l;try{const a=await d(i),l=findPlaceholderLink(o.state.doc,s);if(!l)return;c(o.state.tr.removeMark(l.pos,l.pos+l.node.nodeSize,u.schema.marks.link).addMark(l.pos,l.pos+l.node.nodeSize,u.schema.marks.link.create({href:a})))}catch(i){const d=findPlaceholderLink(o.state.doc,s);if(!d)return;c(o.state.tr.removeMark(d.pos,d.pos+d.node.nodeSize,u.schema.marks.link)),p&&p(l.dictionary.createLinkError,a.ToastType.Error)}}},"4Efy":function(o,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const a=s("tsqv");i.default=function tableMenuItems(o){return[{name:"deleteTable",tooltip:o.deleteTable,icon:a.TrashIcon,active:()=>!1}]}},"4fNk":function(o,i,s){"use strict";o.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","meta","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},"4uyI":function(o,i,s){"use strict";var a=this&&this.__createBinding||(Object.create?function(o,i,s,a){void 0===a&&(a=s),Object.defineProperty(o,a,{enumerable:!0,get:function(){return i[s]}})}:function(o,i,s,a){void 0===a&&(a=s),o[a]=i[s]}),l=this&&this.__setModuleDefault||(Object.create?function(o,i){Object.defineProperty(o,"default",{enumerable:!0,value:i})}:function(o,i){o.default=i}),c=this&&this.__importStar||function(o){if(o&&o.__esModule)return o;var i={};if(null!=o)for(var s in o)"default"!==s&&Object.prototype.hasOwnProperty.call(o,s)&&a(i,o,s);return l(i,o),i},u=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const d=s("+V57"),p=u(s("i8i4")),f=c(s("q1tI")),m=s("UxO+"),g=s("Vb5C"),v=s("mG1W"),y=s("tsqv"),b=s("V2qZ"),k=u(s("xqCI")),w=/^\/(\w+)?$/,S=/(^(?!\/(\w+)?)(.*)$|^\/((\w+)\s.*|\s)$)/;function run(o,i,s,a,l){if(o.composing)return!1;const c=o.state,u=c.doc.resolve(i);if(u.parent.type.spec.code)return!1;const d=u.parent.textBetween(Math.max(0,u.parentOffset-500),u.parentOffset,null,"￼"),p=a.exec(d);return!!l(c,p,p?i-p[0].length:i,s)}class BlockMenuTrigger extends k.default{get name(){return"blockmenu"}get plugins(){const o=document.createElement("button");return o.className="block-menu-trigger",o.type="button",p.default.render(f.createElement(y.PlusIcon,{fill:"currentColor"}),o),[new m.Plugin({props:{handleClick:()=>(this.options.onClose(),!1),handleKeyDown:(o,i)=>{if("Backspace"===i.key&&setTimeout((()=>{const{pos:i}=o.state.selection.$from;return run(o,i,i,w,((o,i)=>(i?this.options.onOpen(i[1]):this.options.onClose(),null)))})),"Enter"===i.key||"ArrowUp"===i.key||"ArrowDown"===i.key||"Tab"===i.key){const{pos:i}=o.state.selection.$from;return run(o,i,i,w,((o,i)=>!!i||null))}return!1},decorations:i=>{const s=v.findParentNode((o=>"paragraph"===o.type.name))(i.selection);if(!s)return;const a=[],l=s&&0===s.node.content.size,c=s&&"/"===s.node.textContent;return 1===i.selection.$from.depth?(l&&(a.push(b.Decoration.widget(s.pos,(()=>(o.addEventListener("click",(()=>{this.options.onOpen("")})),o)))),a.push(b.Decoration.node(s.pos,s.pos+s.node.nodeSize,{class:"placeholder","data-empty-text":this.options.dictionary.newLineEmpty}))),c&&a.push(b.Decoration.node(s.pos,s.pos+s.node.nodeSize,{class:"placeholder","data-empty-text":`  ${this.options.dictionary.newLineWithSlash}`})),b.DecorationSet.create(i.doc,a)):void 0}}})]}inputRules(){return[new d.InputRule(w,((o,i)=>(i&&"paragraph"===o.selection.$from.parent.type.name&&!g.isInTable(o)&&this.options.onOpen(i[1]),null))),new d.InputRule(S,((o,i)=>(i&&this.options.onClose(),null)))]}}i.default=BlockMenuTrigger},"5Mrk":function(o,i,s){"use strict";var a=s("AGgm").unescapeAll;o.exports=function parseLinkDestination(o,i,s){var l,c,u=i,d={ok:!1,pos:0,lines:0,str:""};if(60===o.charCodeAt(i)){for(i++;i<s;){if(10===(l=o.charCodeAt(i)))return d;if(62===l)return d.pos=i+1,d.str=a(o.slice(u+1,i)),d.ok=!0,d;92===l&&i+1<s?i+=2:i++}return d}for(c=0;i<s&&32!==(l=o.charCodeAt(i))&&!(l<32||127===l);)if(92===l&&i+1<s)i+=2;else{if(40===l&&c++,41===l){if(0===c)break;c--}i++}return u===i||0!==c||(d.str=a(o.slice(u,i)),d.lines=0,d.pos=i,d.ok=!0),d}},"5Xwi":function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=s("UxO+"),c=a(s("xqCI"));class MaxLength extends c.default{get name(){return"maxlength"}get plugins(){return[new l.Plugin({filterTransaction:o=>{if(this.options.maxLength){return!(o.doc&&o.doc.nodeSize>this.options.maxLength)}return!0}})]}}i.default=MaxLength},"5YM3":function(o,i,s){"use strict";(function(i){var a="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof i?i:{},l=function capture(){var o="Prism"in a,i=o?a.Prism:void 0;return function restore(){o?a.Prism=i:delete a.Prism;o=void 0,i=void 0}}();a.Prism={manual:!0,disableWorkerMessageHandler:!0};var c=s("KSyo"),u=s("ZWk2"),d=s("jHpe"),p=s("Ox1z"),f=s("fwF+"),m=s("amLO"),g=s("H4ZV");l();var v={}.hasOwnProperty;function Refractor(){}Refractor.prototype=d;var y=new Refractor;function register(o){if("function"!=typeof o||!o.displayName)throw new Error("Expected `function` for `grammar`, got `"+o+"`");void 0===y.languages[o.displayName]&&o(y)}o.exports=y,y.highlight=function highlight(o,i){var s,a=d.highlight;if("string"!=typeof o)throw new Error("Expected `string` for `value`, got `"+o+"`");if("Object"===y.util.type(i))s=i,i=null;else{if("string"!=typeof i)throw new Error("Expected `string` for `name`, got `"+i+"`");if(!v.call(y.languages,i))throw new Error("Unknown language: `"+i+"` is not registered");s=y.languages[i]}return a.call(this,o,s,i)},y.register=register,y.alias=function alias(o,i){var s,a,l,c,u=y.languages,d=o;i&&((d={})[o]=i);for(s in d)for(a=d[s],l=(a="string"==typeof a?[a]:a).length,c=-1;++c<l;)u[a[c]]=u[s]},y.registered=function registered(o){if("string"!=typeof o)throw new Error("Expected `string` for `language`, got `"+o+"`");return v.call(y.languages,o)},y.listLanguages=function listLanguages(){var o,i=y.languages,s=[];for(o in i)v.call(i,o)&&"object"==typeof i[o]&&s.push(o);return s},register(p),register(f),register(m),register(g),y.util.encode=function encode(o){return o},y.Token.stringify=function stringify(o,i,s){var a;if("string"==typeof o)return{type:"text",value:o};if("Array"===y.util.type(o))return function stringifyAll(o,i){var s,a=[],l=o.length,c=-1;for(;++c<l;)""!==(s=o[c])&&null!=s&&a.push(s);c=-1,l=a.length;for(;++c<l;)s=a[c],a[c]=y.Token.stringify(s,i,a);return a}(o,i);a={type:o.type,content:y.Token.stringify(o.content,i,s),tag:"span",classes:["token",o.type],attributes:{},language:i,parent:s},o.alias&&(a.classes=a.classes.concat(o.alias));return y.hooks.run("wrap",a),c(a.tag+"."+a.classes.join("."),function attributes(o){var i;for(i in o)o[i]=u(o[i]);return o}(a.attributes),a.content)}}).call(this,s("yLpj"))},"62gO":function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=s("ABBN"),c=a(s("K0ly"));i.default=function toggleWrap(o,i){return(s,a)=>c.default(o)(s)?l.lift(s,a):l.wrapIn(o,i)(s,a)}},"6A5J":function(o,i,s){"use strict";var a=s("AGgm").isSpace;o.exports=function blockquote(o,i,s,l){var c,u,d,p,f,m,g,v,y,b,k,w,S,x,C,_,O,M,A,E,T=o.lineMax,D=o.bMarks[i]+o.tShift[i],I=o.eMarks[i];if(o.sCount[i]-o.blkIndent>=4)return!1;if(62!==o.src.charCodeAt(D++))return!1;if(l)return!0;for(p=y=o.sCount[i]+D-(o.bMarks[i]+o.tShift[i]),32===o.src.charCodeAt(D)?(D++,p++,y++,c=!1,_=!0):9===o.src.charCodeAt(D)?(_=!0,(o.bsCount[i]+y)%4==3?(D++,p++,y++,c=!1):c=!0):_=!1,b=[o.bMarks[i]],o.bMarks[i]=D;D<I&&(u=o.src.charCodeAt(D),a(u));)9===u?y+=4-(y+o.bsCount[i]+(c?1:0))%4:y++,D++;for(k=[o.bsCount[i]],o.bsCount[i]=o.sCount[i]+1+(_?1:0),m=D>=I,x=[o.sCount[i]],o.sCount[i]=y-p,C=[o.tShift[i]],o.tShift[i]=D-o.bMarks[i],M=o.md.block.ruler.getRules("blockquote"),S=o.parentType,o.parentType="blockquote",E=!1,v=i+1;v<s&&(o.sCount[v]<o.blkIndent&&(E=!0),!((D=o.bMarks[v]+o.tShift[v])>=(I=o.eMarks[v])));v++)if(62!==o.src.charCodeAt(D++)||E){if(m)break;for(O=!1,d=0,f=M.length;d<f;d++)if(M[d](o,v,s,!0)){O=!0;break}if(O){o.lineMax=v,0!==o.blkIndent&&(b.push(o.bMarks[v]),k.push(o.bsCount[v]),C.push(o.tShift[v]),x.push(o.sCount[v]),o.sCount[v]-=o.blkIndent);break}b.push(o.bMarks[v]),k.push(o.bsCount[v]),C.push(o.tShift[v]),x.push(o.sCount[v]),o.sCount[v]=-1}else{for(p=y=o.sCount[v]+D-(o.bMarks[v]+o.tShift[v]),32===o.src.charCodeAt(D)?(D++,p++,y++,c=!1,_=!0):9===o.src.charCodeAt(D)?(_=!0,(o.bsCount[v]+y)%4==3?(D++,p++,y++,c=!1):c=!0):_=!1,b.push(o.bMarks[v]),o.bMarks[v]=D;D<I&&(u=o.src.charCodeAt(D),a(u));)9===u?y+=4-(y+o.bsCount[v]+(c?1:0))%4:y++,D++;m=D>=I,k.push(o.bsCount[v]),o.bsCount[v]=o.sCount[v]+1+(_?1:0),x.push(o.sCount[v]),o.sCount[v]=y-p,C.push(o.tShift[v]),o.tShift[v]=D-o.bMarks[v]}for(w=o.blkIndent,o.blkIndent=0,(A=o.push("blockquote_open","blockquote",1)).markup=">",A.map=g=[i,0],o.md.block.tokenize(o,i,v),(A=o.push("blockquote_close","blockquote",-1)).markup=">",o.lineMax=T,o.parentType=S,g[1]=o.line,d=0;d<C.length;d++)o.bMarks[d+i]=b[d],o.tShift[d+i]=C[d],o.sCount[d+i]=x[d],o.bsCount[d+i]=k[d];return o.blkIndent=w,!0}},"6acW":function(o,i,s){var a=s("dt0z"),l=s("gQMU");o.exports=function capitalize(o){return l(a(o).toLowerCase())}},"6xFH":function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=s("+V57"),c=a(s("S5OW")),u=a(s("62gO")),d=a(s("K0ly"));class Blockquote extends c.default{get name(){return"blockquote"}get schema(){return{content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:()=>["blockquote",0]}}inputRules({type:o}){return[l.wrappingInputRule(/^\s*>\s$/,o)]}commands({type:o}){return()=>u.default(o)}keys({type:o}){return{"Ctrl->":u.default(o),"Mod-]":u.default(o),"Shift-Enter":(i,s)=>{if(!d.default(o)(i))return!1;const{tr:a,selection:l}=i;return s(a.split(l.to)),!0}}}toMarkdown(o,i){o.wrapBlock("> ",null,i,(()=>o.renderContent(i)))}parseMarkdown(){return{block:"blockquote"}}}i.default=Blockquote},"7+hk":function(o,i,s){"use strict";var a=s("z2ZG"),l=s("du5t"),c=s("eAD1"),u=s("dXJL"),d=s("bHgY"),p=s("RXC2");o.exports=a([c,l,u,d,p])},"7OqA":function(o,i,s){"use strict";s.r(i),s.d(i,"Portal",(function(){return a.a})),s.d(i,"PortalWithState",(function(){return g}));var a=s("It+4"),l=s("q1tI"),c=s.n(l),u=s("17x9"),d=s.n(u),p=function(){function defineProperties(o,i){for(var s=0;s<i.length;s++){var a=i[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,a.key,a)}}return function(o,i,s){return i&&defineProperties(o.prototype,i),s&&defineProperties(o,s),o}}();var f=27,m=function(o){function PortalWithState(o){!function _classCallCheck(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}(this,PortalWithState);var i=function _possibleConstructorReturn(o,i){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?o:i}(this,(PortalWithState.__proto__||Object.getPrototypeOf(PortalWithState)).call(this,o));return i.portalNode=null,i.state={active:!!o.defaultOpen},i.openPortal=i.openPortal.bind(i),i.closePortal=i.closePortal.bind(i),i.wrapWithPortal=i.wrapWithPortal.bind(i),i.handleOutsideMouseClick=i.handleOutsideMouseClick.bind(i),i.handleKeydown=i.handleKeydown.bind(i),i}return function _inherits(o,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(o,i):o.__proto__=i)}(PortalWithState,o),p(PortalWithState,[{key:"componentDidMount",value:function componentDidMount(){this.props.closeOnEsc&&document.addEventListener("keydown",this.handleKeydown),this.props.closeOnOutsideClick&&document.addEventListener("click",this.handleOutsideMouseClick)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.props.closeOnEsc&&document.removeEventListener("keydown",this.handleKeydown),this.props.closeOnOutsideClick&&document.removeEventListener("click",this.handleOutsideMouseClick)}},{key:"openPortal",value:function openPortal(o){this.state.active||(o&&o.nativeEvent&&o.nativeEvent.stopImmediatePropagation(),this.setState({active:!0},this.props.onOpen))}},{key:"closePortal",value:function closePortal(){this.state.active&&this.setState({active:!1},this.props.onClose)}},{key:"wrapWithPortal",value:function wrapWithPortal(o){var i=this;return this.state.active?c.a.createElement(a.a,{node:this.props.node,key:"react-portal",ref:function ref(o){return i.portalNode=o}},o):null}},{key:"handleOutsideMouseClick",value:function handleOutsideMouseClick(o){if(this.state.active){var i=this.portalNode&&(this.portalNode.props.node||this.portalNode.defaultNode);!i||i.contains(o.target)||o.button&&0!==o.button||this.closePortal()}}},{key:"handleKeydown",value:function handleKeydown(o){o.keyCode===f&&this.state.active&&this.closePortal()}},{key:"render",value:function render(){return this.props.children({openPortal:this.openPortal,closePortal:this.closePortal,portal:this.wrapWithPortal,isOpen:this.state.active})}}]),PortalWithState}(c.a.Component);m.propTypes={children:d.a.func.isRequired,defaultOpen:d.a.bool,node:d.a.any,closeOnEsc:d.a.bool,closeOnOutsideClick:d.a.bool,onOpen:d.a.func,onClose:d.a.func},m.defaultProps={onOpen:function onOpen(){},onClose:function onClose(){}};var g=m},"8CBE":function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=s("Zl/q"),c=s("mG1W"),u=a(s("QtDi"));i.default=function toggleList(o,i){return(s,a)=>{const{schema:d,selection:p}=s,{$from:f,$to:m}=p,g=f.blockRange(m);if(!g)return!1;const v=c.findParentNode((o=>u.default(o,d)))(p);if(g.depth>=1&&v&&g.depth-v.depth<=1){if(v.node.type===o)return l.liftListItem(i)(s,a);if(u.default(v.node,d)&&o.validContent(v.node.content)){const{tr:i}=s;return i.setNodeMarkup(v.pos,o),a&&a(i),!1}}return l.wrapInList(o)(s,a)}}},"9Zzq":function(o,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function getDataTransferFiles(o){let i=[];if(o.dataTransfer){const s=o.dataTransfer;s.files&&s.files.length?i=s.files:s.items&&s.items.length&&(i=s.items)}else o.target&&o.target.files&&(i=o.target.files);return Array.prototype.slice.call(i)}},"9lTW":function(o,i,s){"use strict";(function(i){var a=s("MgzW");function compare(o,i){if(o===i)return 0;for(var s=o.length,a=i.length,l=0,c=Math.min(s,a);l<c;++l)if(o[l]!==i[l]){s=o[l],a=i[l];break}return s<a?-1:a<s?1:0}function isBuffer(o){return i.Buffer&&"function"==typeof i.Buffer.isBuffer?i.Buffer.isBuffer(o):!(null==o||!o._isBuffer)}var l=s("MCLT"),c=Object.prototype.hasOwnProperty,u=Array.prototype.slice,d="foo"===function foo(){}.name;function pToString(o){return Object.prototype.toString.call(o)}function isView(o){return!isBuffer(o)&&("function"==typeof i.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(o):!!o&&(o instanceof DataView||!!(o.buffer&&o.buffer instanceof ArrayBuffer))))}var p=o.exports=ok,f=/\s*function\s+([^\(\s]*)\s*/;function getName(o){if(l.isFunction(o)){if(d)return o.name;var i=o.toString().match(f);return i&&i[1]}}function truncate(o,i){return"string"==typeof o?o.length<i?o:o.slice(0,i):o}function inspect(o){if(d||!l.isFunction(o))return l.inspect(o);var i=getName(o);return"[Function"+(i?": "+i:"")+"]"}function fail(o,i,s,a,l){throw new p.AssertionError({message:s,actual:o,expected:i,operator:a,stackStartFunction:l})}function ok(o,i){o||fail(o,!0,i,"==",p.ok)}function _deepEqual(o,i,s,a){if(o===i)return!0;if(isBuffer(o)&&isBuffer(i))return 0===compare(o,i);if(l.isDate(o)&&l.isDate(i))return o.getTime()===i.getTime();if(l.isRegExp(o)&&l.isRegExp(i))return o.source===i.source&&o.global===i.global&&o.multiline===i.multiline&&o.lastIndex===i.lastIndex&&o.ignoreCase===i.ignoreCase;if(null!==o&&"object"==typeof o||null!==i&&"object"==typeof i){if(isView(o)&&isView(i)&&pToString(o)===pToString(i)&&!(o instanceof Float32Array||o instanceof Float64Array))return 0===compare(new Uint8Array(o.buffer),new Uint8Array(i.buffer));if(isBuffer(o)!==isBuffer(i))return!1;var c=(a=a||{actual:[],expected:[]}).actual.indexOf(o);return-1!==c&&c===a.expected.indexOf(i)||(a.actual.push(o),a.expected.push(i),function objEquiv(o,i,s,a){if(null==o||null==i)return!1;if(l.isPrimitive(o)||l.isPrimitive(i))return o===i;if(s&&Object.getPrototypeOf(o)!==Object.getPrototypeOf(i))return!1;var c=isArguments(o),d=isArguments(i);if(c&&!d||!c&&d)return!1;if(c)return _deepEqual(o=u.call(o),i=u.call(i),s);var p,f,g=m(o),v=m(i);if(g.length!==v.length)return!1;for(g.sort(),v.sort(),f=g.length-1;f>=0;f--)if(g[f]!==v[f])return!1;for(f=g.length-1;f>=0;f--)if(!_deepEqual(o[p=g[f]],i[p],s,a))return!1;return!0}(o,i,s,a))}return s?o===i:o==i}function isArguments(o){return"[object Arguments]"==Object.prototype.toString.call(o)}function expectedException(o,i){if(!o||!i)return!1;if("[object RegExp]"==Object.prototype.toString.call(i))return i.test(o);try{if(o instanceof i)return!0}catch(o){}return!Error.isPrototypeOf(i)&&!0===i.call({},o)}function _throws(o,i,s,a){var c;if("function"!=typeof i)throw new TypeError('"block" argument must be a function');"string"==typeof s&&(a=s,s=null),c=function _tryBlock(o){var i;try{o()}catch(o){i=o}return i}(i),a=(s&&s.name?" ("+s.name+").":".")+(a?" "+a:"."),o&&!c&&fail(c,s,"Missing expected exception"+a);var u="string"==typeof a,d=!o&&c&&!s;if((!o&&l.isError(c)&&u&&expectedException(c,s)||d)&&fail(c,s,"Got unwanted exception"+a),o&&c&&s&&!expectedException(c,s)||!o&&c)throw c}p.AssertionError=function AssertionError(o){this.name="AssertionError",this.actual=o.actual,this.expected=o.expected,this.operator=o.operator,o.message?(this.message=o.message,this.generatedMessage=!1):(this.message=function getMessage(o){return truncate(inspect(o.actual),128)+" "+o.operator+" "+truncate(inspect(o.expected),128)}(this),this.generatedMessage=!0);var i=o.stackStartFunction||fail;if(Error.captureStackTrace)Error.captureStackTrace(this,i);else{var s=new Error;if(s.stack){var a=s.stack,l=getName(i),c=a.indexOf("\n"+l);if(c>=0){var u=a.indexOf("\n",c+1);a=a.substring(u+1)}this.stack=a}}},l.inherits(p.AssertionError,Error),p.fail=fail,p.ok=ok,p.equal=function equal(o,i,s){o!=i&&fail(o,i,s,"==",p.equal)},p.notEqual=function notEqual(o,i,s){o==i&&fail(o,i,s,"!=",p.notEqual)},p.deepEqual=function deepEqual(o,i,s){_deepEqual(o,i,!1)||fail(o,i,s,"deepEqual",p.deepEqual)},p.deepStrictEqual=function deepStrictEqual(o,i,s){_deepEqual(o,i,!0)||fail(o,i,s,"deepStrictEqual",p.deepStrictEqual)},p.notDeepEqual=function notDeepEqual(o,i,s){_deepEqual(o,i,!1)&&fail(o,i,s,"notDeepEqual",p.notDeepEqual)},p.notDeepStrictEqual=function notDeepStrictEqual(o,i,s){_deepEqual(o,i,!0)&&fail(o,i,s,"notDeepStrictEqual",notDeepStrictEqual)},p.strictEqual=function strictEqual(o,i,s){o!==i&&fail(o,i,s,"===",p.strictEqual)},p.notStrictEqual=function notStrictEqual(o,i,s){o===i&&fail(o,i,s,"!==",p.notStrictEqual)},p.throws=function(o,i,s){_throws(!0,o,i,s)},p.doesNotThrow=function(o,i,s){_throws(!1,o,i,s)},p.ifError=function(o){if(o)throw o},p.strict=a((function strict(o,i){o||fail(o,!0,i,"==",strict)}),p,{equal:p.strictEqual,deepEqual:p.deepStrictEqual,notEqual:p.notStrictEqual,notDeepEqual:p.notDeepStrictEqual}),p.strict.strict=p.strict;var m=Object.keys||function(o){var i=[];for(var s in o)c.call(o,s)&&i.push(s);return i}}).call(this,s("yLpj"))},"9mub":function(o,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function getRowIndex(o){if(!(o.isRowSelection&&o.isRowSelection()))return;const i=o.$from.path;return i[i.length-8]}},A4aH:function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=a(s("wq5p"));i.default=function moveRight(){return(o,i)=>{const{code_inline:s}=o.schema.marks,{empty:a,$cursor:c}=o.selection;if(!a||!c)return!1;const{storedMarks:u}=o.tr;if(s){const a=l.default(s)(o),d=o.doc.rangeHasMark(c.pos,c.pos,s),p=o.doc.rangeHasMark(c.pos,c.pos+1,s),f=!(d||p||u&&!u.length),m=!d&&p&&(!u||!u.length);if(!a&&m)return i(o.tr.addStoredMark(s.create())),!0;if(a&&f)return i(o.tr.removeStoredMark(s)),!0}return!1}}},ABBN:function(o,i,s){"use strict";s.r(i),s.d(i,"autoJoin",(function(){return autoJoin})),s.d(i,"baseKeymap",(function(){return g})),s.d(i,"chainCommands",(function(){return chainCommands})),s.d(i,"createParagraphNear",(function(){return createParagraphNear})),s.d(i,"deleteSelection",(function(){return deleteSelection})),s.d(i,"exitCode",(function(){return exitCode})),s.d(i,"joinBackward",(function(){return joinBackward})),s.d(i,"joinDown",(function(){return joinDown})),s.d(i,"joinForward",(function(){return joinForward})),s.d(i,"joinUp",(function(){return joinUp})),s.d(i,"lift",(function(){return lift})),s.d(i,"liftEmptyBlock",(function(){return liftEmptyBlock})),s.d(i,"macBaseKeymap",(function(){return f})),s.d(i,"newlineInCode",(function(){return newlineInCode})),s.d(i,"pcBaseKeymap",(function(){return p})),s.d(i,"selectAll",(function(){return selectAll})),s.d(i,"selectNodeBackward",(function(){return selectNodeBackward})),s.d(i,"selectNodeForward",(function(){return selectNodeForward})),s.d(i,"selectParentNode",(function(){return selectParentNode})),s.d(i,"setBlockType",(function(){return setBlockType})),s.d(i,"splitBlock",(function(){return splitBlock})),s.d(i,"splitBlockKeepMarks",(function(){return splitBlockKeepMarks})),s.d(i,"toggleMark",(function(){return toggleMark})),s.d(i,"wrapIn",(function(){return wrapIn}));var a=s("CsC6"),l=s("MEpN"),c=s("UxO+");function deleteSelection(o,i){return!o.selection.empty&&(i&&i(o.tr.deleteSelection().scrollIntoView()),!0)}function joinBackward(o,i,s){var l=o.selection.$cursor;if(!l||(s?!s.endOfTextblock("backward",o):l.parentOffset>0))return!1;var u=findCutBefore(l);if(!u){var d=l.blockRange(),p=d&&Object(a.j)(d);return null!=p&&(i&&i(o.tr.lift(d,p).scrollIntoView()),!0)}var f=u.nodeBefore;if(!f.type.spec.isolating&&deleteBarrier(o,u,i))return!0;if(0==l.parent.content.size&&(textblockAt(f,"end")||c.NodeSelection.isSelectable(f))){if(i){var m=o.tr.deleteRange(l.before(),l.after());m.setSelection(textblockAt(f,"end")?c.Selection.findFrom(m.doc.resolve(m.mapping.map(u.pos,-1)),-1):c.NodeSelection.create(m.doc,u.pos-f.nodeSize)),i(m.scrollIntoView())}return!0}return!(!f.isAtom||u.depth!=l.depth-1)&&(i&&i(o.tr.delete(u.pos-f.nodeSize,u.pos).scrollIntoView()),!0)}function textblockAt(o,i){for(;o;o="start"==i?o.firstChild:o.lastChild)if(o.isTextblock)return!0;return!1}function selectNodeBackward(o,i,s){var a=o.selection,l=a.$head,u=l;if(!a.empty)return!1;if(l.parent.isTextblock){if(s?!s.endOfTextblock("backward",o):l.parentOffset>0)return!1;u=findCutBefore(l)}var d=u&&u.nodeBefore;return!(!d||!c.NodeSelection.isSelectable(d))&&(i&&i(o.tr.setSelection(c.NodeSelection.create(o.doc,u.pos-d.nodeSize)).scrollIntoView()),!0)}function findCutBefore(o){if(!o.parent.type.spec.isolating)for(var i=o.depth-1;i>=0;i--){if(o.index(i)>0)return o.doc.resolve(o.before(i+1));if(o.node(i).type.spec.isolating)break}return null}function joinForward(o,i,s){var a=o.selection.$cursor;if(!a||(s?!s.endOfTextblock("forward",o):a.parentOffset<a.parent.content.size))return!1;var l=findCutAfter(a);if(!l)return!1;var u=l.nodeAfter;if(deleteBarrier(o,l,i))return!0;if(0==a.parent.content.size&&(textblockAt(u,"start")||c.NodeSelection.isSelectable(u))){if(i){var d=o.tr.deleteRange(a.before(),a.after());d.setSelection(textblockAt(u,"start")?c.Selection.findFrom(d.doc.resolve(d.mapping.map(l.pos)),1):c.NodeSelection.create(d.doc,d.mapping.map(l.pos))),i(d.scrollIntoView())}return!0}return!(!u.isAtom||l.depth!=a.depth-1)&&(i&&i(o.tr.delete(l.pos,l.pos+u.nodeSize).scrollIntoView()),!0)}function selectNodeForward(o,i,s){var a=o.selection,l=a.$head,u=l;if(!a.empty)return!1;if(l.parent.isTextblock){if(s?!s.endOfTextblock("forward",o):l.parentOffset<l.parent.content.size)return!1;u=findCutAfter(l)}var d=u&&u.nodeAfter;return!(!d||!c.NodeSelection.isSelectable(d))&&(i&&i(o.tr.setSelection(c.NodeSelection.create(o.doc,u.pos)).scrollIntoView()),!0)}function findCutAfter(o){if(!o.parent.type.spec.isolating)for(var i=o.depth-1;i>=0;i--){var s=o.node(i);if(o.index(i)+1<s.childCount)return o.doc.resolve(o.after(i+1));if(s.type.spec.isolating)break}return null}function joinUp(o,i){var s,l=o.selection,u=l instanceof c.NodeSelection;if(u){if(l.node.isTextblock||!Object(a.e)(o.doc,l.from))return!1;s=l.from}else if(null==(s=Object(a.i)(o.doc,l.from,-1)))return!1;if(i){var d=o.tr.join(s);u&&d.setSelection(c.NodeSelection.create(d.doc,s-o.doc.resolve(s).nodeBefore.nodeSize)),i(d.scrollIntoView())}return!0}function joinDown(o,i){var s,l=o.selection;if(l instanceof c.NodeSelection){if(l.node.isTextblock||!Object(a.e)(o.doc,l.to))return!1;s=l.to}else if(null==(s=Object(a.i)(o.doc,l.to,1)))return!1;return i&&i(o.tr.join(s).scrollIntoView()),!0}function lift(o,i){var s=o.selection,l=s.$from,c=s.$to,u=l.blockRange(c),d=u&&Object(a.j)(u);return null!=d&&(i&&i(o.tr.lift(u,d).scrollIntoView()),!0)}function newlineInCode(o,i){var s=o.selection,a=s.$head,l=s.$anchor;return!(!a.parent.type.spec.code||!a.sameParent(l))&&(i&&i(o.tr.insertText("\n").scrollIntoView()),!0)}function defaultBlockAt(o){for(var i=0;i<o.edgeCount;i++){var s=o.edge(i).type;if(s.isTextblock&&!s.hasRequiredAttrs())return s}return null}function exitCode(o,i){var s=o.selection,a=s.$head,l=s.$anchor;if(!a.parent.type.spec.code||!a.sameParent(l))return!1;var u=a.node(-1),d=a.indexAfter(-1),p=defaultBlockAt(u.contentMatchAt(d));if(!u.canReplaceWith(d,d,p))return!1;if(i){var f=a.after(),m=o.tr.replaceWith(f,f,p.createAndFill());m.setSelection(c.Selection.near(m.doc.resolve(f),1)),i(m.scrollIntoView())}return!0}function createParagraphNear(o,i){var s=o.selection,a=s.$from,l=s.$to;if(!(s instanceof c.NodeSelection)||a.parent.inlineContent)return!1;var u=defaultBlockAt(l.parent.contentMatchAt(l.indexAfter()));if(!u||!u.isTextblock)return!1;if(i){var d=(!a.parentOffset&&l.index()<l.parent.childCount?a:l).pos,p=o.tr.insert(d,u.createAndFill());p.setSelection(c.TextSelection.create(p.doc,d+1)),i(p.scrollIntoView())}return!0}function liftEmptyBlock(o,i){var s=o.selection.$cursor;if(!s||s.parent.content.size)return!1;if(s.depth>1&&s.after()!=s.end(-1)){var l=s.before();if(Object(a.f)(o.doc,l))return i&&i(o.tr.split(l).scrollIntoView()),!0}var c=s.blockRange(),u=c&&Object(a.j)(c);return null!=u&&(i&&i(o.tr.lift(c,u).scrollIntoView()),!0)}function splitBlock(o,i){var s=o.selection,u=s.$from,d=s.$to;if(o.selection instanceof c.NodeSelection&&o.selection.node.isBlock)return!(!u.parentOffset||!Object(a.f)(o.doc,u.pos))&&(i&&i(o.tr.split(u.pos).scrollIntoView()),!0);if(!u.parent.isBlock)return!1;if(i){var p=d.parentOffset==d.parent.content.size,f=o.tr;(o.selection instanceof c.TextSelection||o.selection instanceof c.AllSelection)&&f.deleteSelection();var m=0==u.depth?null:defaultBlockAt(u.node(-1).contentMatchAt(u.indexAfter(-1))),g=p&&m?[{type:m}]:null,v=Object(a.f)(f.doc,f.mapping.map(u.pos),1,g);g||v||!Object(a.f)(f.doc,f.mapping.map(u.pos),1,m&&[{type:m}])||(g=[{type:m}],v=!0),v&&(f.split(f.mapping.map(u.pos),1,g),p||u.parentOffset||u.parent.type==m||!u.node(-1).canReplace(u.index(-1),u.indexAfter(-1),l.Fragment.from([m.create(),u.parent]))||f.setNodeMarkup(f.mapping.map(u.before()),m)),i(f.scrollIntoView())}return!0}function splitBlockKeepMarks(o,i){return splitBlock(o,i&&function(s){var a=o.storedMarks||o.selection.$to.parentOffset&&o.selection.$from.marks();a&&s.ensureMarks(a),i(s)})}function selectParentNode(o,i){var s,a=o.selection,l=a.$from,u=a.to,d=l.sharedDepth(u);return 0!=d&&(s=l.before(d),i&&i(o.tr.setSelection(c.NodeSelection.create(o.doc,s))),!0)}function selectAll(o,i){return i&&i(o.tr.setSelection(new c.AllSelection(o.doc))),!0}function deleteBarrier(o,i,s){var u,d,p=i.nodeBefore,f=i.nodeAfter;if(p.type.spec.isolating||f.type.spec.isolating)return!1;if(function joinMaybeClear(o,i,s){var l=i.nodeBefore,c=i.nodeAfter,u=i.index();return!(!(l&&c&&l.type.compatibleContent(c.type))||(!l.content.size&&i.parent.canReplace(u-1,u)?(s&&s(o.tr.delete(i.pos-l.nodeSize,i.pos).scrollIntoView()),0):!i.parent.canReplace(u,u+1)||!c.isTextblock&&!Object(a.e)(o.doc,i.pos)||(s&&s(o.tr.clearIncompatible(i.pos,l.type,l.contentMatchAt(l.childCount)).join(i.pos).scrollIntoView()),0)))}(o,i,s))return!0;var m=i.parent.canReplace(i.index(),i.index()+1);if(m&&(u=(d=p.contentMatchAt(p.childCount)).findWrapping(f.type))&&d.matchType(u[0]||f.type).validEnd){if(s){for(var g=i.pos+f.nodeSize,v=l.Fragment.empty,y=u.length-1;y>=0;y--)v=l.Fragment.from(u[y].create(null,v));v=l.Fragment.from(p.copy(v));var b=o.tr.step(new a.b(i.pos-1,g,i.pos,g,new l.Slice(v,1,0),u.length,!0)),k=g+2*u.length;Object(a.e)(b.doc,k)&&b.join(k),s(b.scrollIntoView())}return!0}var w=c.Selection.findFrom(i,1),S=w&&w.$from.blockRange(w.$to),x=S&&Object(a.j)(S);if(null!=x&&x>=i.depth)return s&&s(o.tr.lift(S,x).scrollIntoView()),!0;if(m&&f.isTextblock&&textblockAt(p,"end")){for(var C=p,_=[];_.push(C),!C.isTextblock;)C=C.lastChild;if(C.canReplace(C.childCount,C.childCount,f.content)){if(s){for(var O=l.Fragment.empty,M=_.length-1;M>=0;M--)O=l.Fragment.from(_[M].copy(O));s(o.tr.step(new a.b(i.pos-_.length,i.pos+f.nodeSize,i.pos+1,i.pos+f.nodeSize-1,new l.Slice(O,_.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function wrapIn(o,i){return function(s,l){var c=s.selection,u=c.$from,d=c.$to,p=u.blockRange(d),f=p&&Object(a.h)(p,o,i);return!!f&&(l&&l(s.tr.wrap(p,f).scrollIntoView()),!0)}}function setBlockType(o,i){return function(s,a){var l=s.selection,c=l.from,u=l.to,d=!1;return s.doc.nodesBetween(c,u,(function(a,l){if(d)return!1;if(a.isTextblock&&!a.hasMarkup(o,i))if(a.type==o)d=!0;else{var c=s.doc.resolve(l),u=c.index();d=c.parent.canReplaceWith(u,u+1,o)}})),!!d&&(a&&a(s.tr.setBlockType(c,u,o,i).scrollIntoView()),!0)}}function toggleMark(o,i){return function(s,a){var l=s.selection,c=l.empty,u=l.$cursor,d=l.ranges;if(c&&!u||!function markApplies(o,i,s){for(var loop=function(a){var l=i[a],c=l.$from,u=l.$to,d=0==c.depth&&o.type.allowsMarkType(s);if(o.nodesBetween(c.pos,u.pos,(function(o){if(d)return!1;d=o.inlineContent&&o.type.allowsMarkType(s)})),d)return{v:!0}},a=0;a<i.length;a++){var l=loop(a);if(l)return l.v}return!1}(s.doc,d,o))return!1;if(a)if(u)o.isInSet(s.storedMarks||u.marks())?a(s.tr.removeStoredMark(o)):a(s.tr.addStoredMark(o.create(i)));else{for(var p=!1,f=s.tr,m=0;!p&&m<d.length;m++){var g=d[m],v=g.$from,y=g.$to;p=s.doc.rangeHasMark(v.pos,y.pos,o)}for(var b=0;b<d.length;b++){var k=d[b],w=k.$from,S=k.$to;if(p)f.removeMark(w.pos,S.pos,o);else{var x=w.pos,C=S.pos,_=w.nodeAfter,O=S.nodeBefore,M=_&&_.isText?/^\s*/.exec(_.text)[0].length:0,A=O&&O.isText?/\s*$/.exec(O.text)[0].length:0;x+M<C&&(x+=M,C-=A),f.addMark(x,C,o.create(i))}}a(f.scrollIntoView())}return!0}}function autoJoin(o,i){if(Array.isArray(i)){var s=i;i=function(o){return s.indexOf(o.type.name)>-1}}return function(s,l){return o(s,l&&function wrapDispatchForJoin(o,i){return function(s){if(!s.isGeneric)return o(s);for(var l=[],c=0;c<s.mapping.maps.length;c++){for(var u=s.mapping.maps[c],d=0;d<l.length;d++)l[d]=u.map(l[d]);u.forEach((function(o,i,s,a){return l.push(s,a)}))}for(var p=[],f=0;f<l.length;f+=2)for(var m=l[f],g=l[f+1],v=s.doc.resolve(m),y=v.sharedDepth(g),b=v.node(y),k=v.indexAfter(y),w=v.after(y+1);w<=g;++k){var S=b.maybeChild(k);if(!S)break;if(k&&-1==p.indexOf(w)){var x=b.child(k-1);x.type==S.type&&i(x,S)&&p.push(w)}w+=S.nodeSize}p.sort((function(o,i){return o-i}));for(var C=p.length-1;C>=0;C--)Object(a.e)(s.doc,p[C])&&s.join(p[C]);o(s)}}(l,i))}}function chainCommands(){for(var o=[],i=arguments.length;i--;)o[i]=arguments[i];return function(i,s,a){for(var l=0;l<o.length;l++)if(o[l](i,s,a))return!0;return!1}}var u=chainCommands(deleteSelection,joinBackward,selectNodeBackward),d=chainCommands(deleteSelection,joinForward,selectNodeForward),p={Enter:chainCommands(newlineInCode,createParagraphNear,liftEmptyBlock,splitBlock),"Mod-Enter":exitCode,Backspace:u,"Mod-Backspace":u,Delete:d,"Mod-Delete":d,"Mod-a":selectAll},f={"Ctrl-h":p.Backspace,"Alt-Backspace":p["Mod-Backspace"],"Ctrl-d":p.Delete,"Ctrl-Alt-Backspace":p["Mod-Delete"],"Alt-Delete":p["Mod-Delete"],"Alt-d":p["Mod-Delete"]};for(var m in p)f[m]=p[m];var g=("undefined"!=typeof navigator?/Mac/.test(navigator.platform):"undefined"!=typeof os&&"darwin"==os.platform())?f:p},AGgm:function(o,i,s){"use strict";var a=Object.prototype.hasOwnProperty;function has(o,i){return a.call(o,i)}function isValidEntityCode(o){return!(o>=55296&&o<=57343)&&(!(o>=64976&&o<=65007)&&(65535!=(65535&o)&&65534!=(65535&o)&&(!(o>=0&&o<=8)&&(11!==o&&(!(o>=14&&o<=31)&&(!(o>=127&&o<=159)&&!(o>1114111)))))))}function fromCodePoint(o){if(o>65535){var i=55296+((o-=65536)>>10),s=56320+(1023&o);return String.fromCharCode(i,s)}return String.fromCharCode(o)}var l=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,c=new RegExp(l.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),u=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,d=s("vWgF");var p=/[&<>"]/,f=/[&<>"]/g,m={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function replaceUnsafeChar(o){return m[o]}var g=/[.?*+^$[\]\\(){}|-]/g;var v=s("fKCf");i.lib={},i.lib.mdurl=s("2KYT"),i.lib.ucmicro=s("1dGX"),i.assign=function assign(o){var i=Array.prototype.slice.call(arguments,1);return i.forEach((function(i){if(i){if("object"!=typeof i)throw new TypeError(i+"must be object");Object.keys(i).forEach((function(s){o[s]=i[s]}))}})),o},i.isString=function isString(o){return"[object String]"===function _class(o){return Object.prototype.toString.call(o)}(o)},i.has=has,i.unescapeMd=function unescapeMd(o){return o.indexOf("\\")<0?o:o.replace(l,"$1")},i.unescapeAll=function unescapeAll(o){return o.indexOf("\\")<0&&o.indexOf("&")<0?o:o.replace(c,(function(o,i,s){return i||function replaceEntityPattern(o,i){var s=0;return has(d,i)?d[i]:35===i.charCodeAt(0)&&u.test(i)&&isValidEntityCode(s="x"===i[1].toLowerCase()?parseInt(i.slice(2),16):parseInt(i.slice(1),10))?fromCodePoint(s):o}(o,s)}))},i.isValidEntityCode=isValidEntityCode,i.fromCodePoint=fromCodePoint,i.escapeHtml=function escapeHtml(o){return p.test(o)?o.replace(f,replaceUnsafeChar):o},i.arrayReplaceAt=function arrayReplaceAt(o,i,s){return[].concat(o.slice(0,i),s,o.slice(i+1))},i.isSpace=function isSpace(o){switch(o){case 9:case 32:return!0}return!1},i.isWhiteSpace=function isWhiteSpace(o){if(o>=8192&&o<=8202)return!0;switch(o){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1},i.isMdAsciiPunct=function isMdAsciiPunct(o){switch(o){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}},i.isPunctChar=function isPunctChar(o){return v.test(o)},i.escapeRE=function escapeRE(o){return o.replace(g,"\\$&")},i.normalizeReference=function normalizeReference(o){return o=o.trim().replace(/\s+/g," "),"Ṿ"==="ẞ".toLowerCase()&&(o=o.replace(/ẞ/g,"ß")),o.toLowerCase().toUpperCase()}},AKDS:function(o,i,s){"use strict";var a=this&&this.__createBinding||(Object.create?function(o,i,s,a){void 0===a&&(a=s),Object.defineProperty(o,a,{enumerable:!0,get:function(){return i[s]}})}:function(o,i,s,a){void 0===a&&(a=s),o[a]=i[s]}),l=this&&this.__setModuleDefault||(Object.create?function(o,i){Object.defineProperty(o,"default",{enumerable:!0,value:i})}:function(o,i){o.default=i}),c=this&&this.__importStar||function(o){if(o&&o.__esModule)return o;var i={};if(null!=o)for(var s in o)"default"!==s&&Object.prototype.hasOwnProperty.call(o,s)&&a(i,o,s);return l(i,o),i};Object.defineProperty(i,"__esModule",{value:!0});const u=c(s("hudd")),d=s("rQ0s");i.default=function(o,i,s,a,l){const c=a.filter((o=>/image/i.test(o.type)));if(0===c.length)return;const{dictionary:p,uploadImage:f,onImageUploadStart:m,onImageUploadStop:g,onShowToast:v}=l;if(!f)return void console.warn("uploadImage callback must be defined to handle image uploads.");i.preventDefault(),m&&m();const{schema:y}=o.state;let b=0;for(const i of c){const a={},{tr:l}=o.state;l.setMeta(u.default,{add:{id:a,file:i,pos:s}}),o.dispatch(l),f(i).then((i=>{const s=u.findPlaceholder(o.state,a);if(null===s)return;const l=new Image;l.onload=()=>{const l=o.state.tr.replaceWith(s,s,y.nodes.image.create({src:i})).setMeta(u.default,{remove:{id:a}});o.dispatch(l)},l.onerror=o=>{throw o},l.src=i})).catch((i=>{console.error(i);const s=o.state.tr.setMeta(u.default,{remove:{id:a}});o.dispatch(s),v&&v(p.imageUploadError,d.ToastType.Error)})).finally((()=>{b++,b===c.length&&g&&g()}))}}},AL7K:function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=s("ABBN"),c=a(s("cohp")),u=a(s("KvXG"));class Highlight extends u.default{get name(){return"highlight"}get schema(){return{parseDOM:[{tag:"mark"}],toDOM:()=>["mark"]}}inputRules({type:o}){return[c.default(/(?:==)([^=]+)(?:==)$/,o)]}keys({type:o}){return{"Mod-Ctrl-h":l.toggleMark(o)}}get toMarkdown(){return{open:"==",close:"==",mixable:!0,expelEnclosingWhitespace:!0}}parseMarkdown(){return{mark:"highlight"}}}i.default=Highlight},"AU+6":function(o,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function getParentListItem(o){const i=o.selection.$head;for(let o=i.depth;o>0;o--){const s=i.node(o);if(["list_item","checkbox_item"].includes(s.type.name))return[s,i.before(o)]}}},B1jb:function(o,i,s){"use strict";var a=s("AGgm").isSpace;o.exports=function heading(o,i,s,l){var c,u,d,p,f=o.bMarks[i]+o.tShift[i],m=o.eMarks[i];if(o.sCount[i]-o.blkIndent>=4)return!1;if(35!==(c=o.src.charCodeAt(f))||f>=m)return!1;for(u=1,c=o.src.charCodeAt(++f);35===c&&f<m&&u<=6;)u++,c=o.src.charCodeAt(++f);return!(u>6||f<m&&!a(c))&&(l||(m=o.skipSpacesBack(m,f),(d=o.skipCharsBack(m,35,f))>f&&a(o.src.charCodeAt(d-1))&&(m=d),o.line=i+1,(p=o.push("heading_open","h"+String(u),1)).markup="########".slice(0,u),p.map=[i,o.line],(p=o.push("inline","",0)).content=o.src.slice(f,m).trim(),p.map=[i,o.line],p.children=[],(p=o.push("heading_close","h"+String(u),-1)).markup="########".slice(0,u)),!0)}},BMon:function(o,i,s){"use strict";var a=this&&this.__createBinding||(Object.create?function(o,i,s,a){void 0===a&&(a=s),Object.defineProperty(o,a,{enumerable:!0,get:function(){return i[s]}})}:function(o,i,s,a){void 0===a&&(a=s),o[a]=i[s]}),l=this&&this.__setModuleDefault||(Object.create?function(o,i){Object.defineProperty(o,"default",{enumerable:!0,value:i})}:function(o,i){o.default=i}),c=this&&this.__importStar||function(o){if(o&&o.__esModule)return o;var i={};if(null!=o)for(var s in o)"default"!==s&&Object.prototype.hasOwnProperty.call(o,s)&&a(i,o,s);return l(i,o),i},u=this&&this.__rest||function(o,i){var s={};for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&i.indexOf(a)<0&&(s[a]=o[a]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(a=Object.getOwnPropertySymbols(o);l<a.length;l++)i.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(o,a[l])&&(s[a[l]]=o[a[l]])}return s},d=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0}),i.Wrapper=void 0;const p=c(s("q1tI")),f=d(s("6acW")),m=s("7OqA"),g=s("mG1W"),v=d(s("vOnD")),y=s("rQ0s"),b=d(s("RWJ9")),k=d(s("sh5M")),w=d(s("alVm")),S=d(s("9Zzq")),x=d(s("AKDS")),C=d(s("uM3r")),_="undefined"==typeof window,O={left:-1e3,top:0,bottom:void 0,isAbove:!1};class BlockMenu extends p.Component{constructor(){super(...arguments),this.menuRef=p.createRef(),this.inputRef=p.createRef(),this.state={left:-1e3,top:0,bottom:void 0,isAbove:!1,selectedIndex:0,insertItem:void 0},this.handleKeyDown=o=>{if(this.props.isActive){if("Enter"===o.key){o.preventDefault(),o.stopPropagation();const i=this.filtered[this.state.selectedIndex];i?this.insertItem(i):this.props.onClose()}if("ArrowUp"===o.key||o.ctrlKey&&"p"===o.key)if(o.preventDefault(),o.stopPropagation(),this.filtered.length){const o=this.state.selectedIndex-1,i=this.filtered[o];this.setState({selectedIndex:Math.max(0,i&&"separator"===i.name?o-1:o)})}else this.close();if("ArrowDown"===o.key||"Tab"===o.key||o.ctrlKey&&"n"===o.key)if(o.preventDefault(),o.stopPropagation(),this.filtered.length){const o=this.filtered.length-1,i=this.state.selectedIndex+1,s=this.filtered[i];this.setState({selectedIndex:Math.min(s&&"separator"===s.name?i+1:i,o)})}else this.close();"Escape"===o.key&&this.close()}},this.insertItem=o=>{switch(o.name){case"image":return this.triggerImagePick();case"embed":return this.triggerLinkInput(o);case"link":return this.clearSearch(),this.props.onClose(),void this.props.onLinkToolbarOpen();default:this.insertBlock(o)}},this.close=()=>{this.props.onClose(),this.props.view.focus()},this.handleLinkInputKeydown=o=>{if(this.props.isActive&&this.state.insertItem){if("Enter"===o.key){o.preventDefault(),o.stopPropagation();const i=o.currentTarget.value,s=this.state.insertItem.matcher(i);if(!s&&this.props.onShowToast)return void this.props.onShowToast(this.props.dictionary.embedInvalidLink,y.ToastType.Error);this.insertBlock({name:"embed",attrs:{href:i,component:this.state.insertItem.component,matches:s}})}"Escape"===o.key&&(this.props.onClose(),this.props.view.focus())}},this.handleLinkInputPaste=o=>{if(!this.props.isActive)return;if(!this.state.insertItem)return;const i=o.clipboardData.getData("text/plain"),s=this.state.insertItem.matcher(i);s&&(o.preventDefault(),o.stopPropagation(),this.insertBlock({name:"embed",attrs:{href:i,component:this.state.insertItem.component,matches:s}}))},this.triggerImagePick=()=>{this.inputRef.current&&this.inputRef.current.click()},this.triggerLinkInput=o=>{this.setState({insertItem:o})},this.handleImagePicked=o=>{const i=S.default(o),{view:s,uploadImage:a,onImageUploadStart:l,onImageUploadStop:c,onShowToast:u}=this.props,{state:d}=s,p=g.findParentNode((o=>!!o))(d.selection);this.clearSearch(),p&&x.default(s,o,p.pos,i,{uploadImage:a,onImageUploadStart:l,onImageUploadStop:c,onShowToast:u,dictionary:this.props.dictionary}),this.inputRef.current&&(this.inputRef.current.value=""),this.props.onClose()}}componentDidMount(){_||window.addEventListener("keydown",this.handleKeyDown)}shouldComponentUpdate(o,i){return o.search!==this.props.search||o.isActive!==this.props.isActive||i!==this.state}componentDidUpdate(o){if(!o.isActive&&this.props.isActive){const o=this.calculatePosition(this.props);this.setState(Object.assign({insertItem:void 0,selectedIndex:0},o))}else o.search!==this.props.search&&this.setState({selectedIndex:0})}componentWillUnmount(){_||window.removeEventListener("keydown",this.handleKeyDown)}clearSearch(){const{state:o,dispatch:i}=this.props.view,s=g.findParentNode((o=>!!o))(o.selection);s&&i(o.tr.insertText("",s.pos,o.selection.to))}insertBlock(o){this.clearSearch();const i=this.props.commands[o.name];i?i(o.attrs):this.props.commands[`create${f.default(o.name)}`](o.attrs),this.props.onClose()}get caretPosition(){const o=window.document.getSelection();if(!o||!o.anchorNode||!o.focusNode)return{top:0,left:0};const i=window.document.createRange();i.setStart(o.anchorNode,o.anchorOffset),i.setEnd(o.focusNode,o.focusOffset);0===i.getClientRects().length&&i.startContainer&&i.collapsed&&i.selectNodeContents(i.startContainer);const s=i.getBoundingClientRect();return{top:s.top,left:s.left}}calculatePosition(o){const{view:i}=o,{selection:s}=i.state;let a;try{a=i.coordsAtPos(s.from)}catch(o){return console.warn(o),O}const l=this.menuRef.current,c=l?l.offsetHeight:0,u=i.domAtPos(s.from);if(!o.isActive||!u.node||!u.node.getBoundingClientRect||_)return O;const{left:d}=this.caretPosition,{top:p,bottom:f,right:m}=u.node.getBoundingClientRect();let g=d+window.scrollX;return o.rtl&&l&&(g=m-l.scrollWidth),a.top-c>24?{left:g,top:void 0,bottom:window.innerHeight-p-window.scrollY,isAbove:!1}:{left:g,top:f+window.scrollY,bottom:void 0,isAbove:!0}}get filtered(){const{dictionary:o,embeds:i,search:s="",uploadImage:a,commands:l}=this.props;let c=C.default(o);const u=[];for(const o of i)o.title&&o.icon&&u.push(Object.assign(Object.assign({},o),{name:"embed"}));u.length&&(c.push({name:"separator"}),c=c.concat(u));const d=c.filter((o=>{if("separator"===o.name)return!0;if(o.name&&!l[o.name]&&!l[`create${f.default(o.name)}`])return!1;if(!a&&"image"===o.name)return!1;if(!s)return!o.defaultHidden;const i=s.toLowerCase();return(o.title||"").toLowerCase().includes(i)||(o.keywords||"").toLowerCase().includes(i)}));return d.reduce(((o,i,s)=>{if("separator"===i.name&&0===s)return o;if("separator"===i.name&&s===d.length-1)return o;const a=d[s-1];if(a&&"separator"===a.name&&"separator"===i.name)return o;const l=d[s+1];return l&&"separator"===l.name&&"separator"===i.name?o:[...o,i]}),[])}render(){const{dictionary:o,isActive:s,uploadImage:a}=this.props,l=this.filtered,c=this.state,{insertItem:d}=c,f=u(c,["insertItem"]);return p.createElement(m.Portal,null,p.createElement(i.Wrapper,Object.assign({id:"block-menu-container",active:s,ref:this.menuRef},f),d?p.createElement(M,null,p.createElement(A,{type:"text",placeholder:d.title?o.pasteLinkWithTitle(d.title):o.pasteLink,onKeyDown:this.handleLinkInputKeydown,onPaste:this.handleLinkInputPaste,autoFocus:!0})):p.createElement(E,null,l.map(((o,i)=>{if("separator"===o.name)return p.createElement(T,{key:i},p.createElement("hr",null));const a=i===this.state.selectedIndex&&s;return o.title&&o.icon?p.createElement(T,{key:i},p.createElement(b.default,{onClick:()=>this.insertItem(o),selected:a,icon:o.icon,title:o.title,shortcut:o.shortcut})):null})),0===l.length&&p.createElement(T,null,p.createElement(D,null,o.noResults))),a&&p.createElement(w.default,null,p.createElement("input",{type:"file",ref:this.inputRef,onChange:this.handleImagePicked,accept:"image/*"}))))}}const M=v.default.div`
  margin: 8px;
`,A=v.default(k.default)`
  height: 36px;
  width: 100%;
  color: ${o=>o.theme.blockToolbarText};
`,E=v.default.ol`
  list-style: none;
  text-align: left;
  height: 100%;
  padding: 8px 0;
  margin: 0;
`,T=v.default.li`
  padding: 0;
  margin: 0;
`,D=v.default.div`
  display: flex;
  align-items: center;
  color: ${o=>o.theme.textSecondary};
  font-weight: 500;
  font-size: 14px;
  height: 36px;
  padding: 0 16px;
`;i.Wrapper=v.default.div`
  color: ${o=>o.theme.text};
  font-family: ${o=>o.theme.fontFamily};
  position: absolute;
  z-index: ${o=>o.theme.zIndex+100};
  ${o=>void 0!==o.top&&`top: ${o.top}px`};
  ${o=>void 0!==o.bottom&&`bottom: ${o.bottom}px`};
  left: ${o=>o.left}px;
  background-color: ${o=>o.theme.blockToolbarBackground};
  border-radius: 4px;
  box-shadow: rgba(0, 0, 0, 0.05) 0px 0px 0px 1px,
    rgba(0, 0, 0, 0.08) 0px 4px 8px, rgba(0, 0, 0, 0.08) 0px 2px 4px;
  opacity: 0;
  transform: scale(0.95);
  transition: opacity 150ms cubic-bezier(0.175, 0.885, 0.32, 1.275),
    transform 150ms cubic-bezier(0.175, 0.885, 0.32, 1.275);
  transition-delay: 150ms;
  line-height: 0;
  box-sizing: border-box;
  pointer-events: none;
  white-space: nowrap;
  width: 300px;
  max-height: 224px;
  overflow: hidden;
  overflow-y: auto;

  * {
    box-sizing: border-box;
  }

  hr {
    border: 0;
    height: 0;
    border-top: 1px solid ${o=>o.theme.blockToolbarDivider};
  }

  ${({active:o,isAbove:i})=>o&&`\n    transform: translateY(${i?"6px":"-6px"}) scale(1);\n    pointer-events: all;\n    opacity: 1;\n  `};

  @media print {
    display: none;
  }
`,i.default=BlockMenu},CK61:function(o,i,s){"use strict";var a=s("AGgm"),l=s("Vlv/"),c=s("fMI+"),u=s("qRUV"),d=s("dpam"),p=s("TLR5"),f=s("+80P"),m=s("2KYT"),g=s("GYWy"),v={default:s("ijE+"),zero:s("HKru"),commonmark:s("Qo0+")},y=/^(vbscript|javascript|file|data):/,b=/^data:image\/(gif|png|jpeg|webp);/;function validateLink(o){var i=o.trim().toLowerCase();return!y.test(i)||!!b.test(i)}var k=["http:","https:","mailto:"];function normalizeLink(o){var i=m.parse(o,!0);if(i.hostname&&(!i.protocol||k.indexOf(i.protocol)>=0))try{i.hostname=g.toASCII(i.hostname)}catch(o){}return m.encode(m.format(i))}function normalizeLinkText(o){var i=m.parse(o,!0);if(i.hostname&&(!i.protocol||k.indexOf(i.protocol)>=0))try{i.hostname=g.toUnicode(i.hostname)}catch(o){}return m.decode(m.format(i))}function MarkdownIt(o,i){if(!(this instanceof MarkdownIt))return new MarkdownIt(o,i);i||a.isString(o)||(i=o||{},o="default"),this.inline=new p,this.block=new d,this.core=new u,this.renderer=new c,this.linkify=new f,this.validateLink=validateLink,this.normalizeLink=normalizeLink,this.normalizeLinkText=normalizeLinkText,this.utils=a,this.helpers=a.assign({},l),this.options={},this.configure(o),i&&this.set(i)}MarkdownIt.prototype.set=function(o){return a.assign(this.options,o),this},MarkdownIt.prototype.configure=function(o){var i,s=this;if(a.isString(o)&&!(o=v[i=o]))throw new Error('Wrong `markdown-it` preset "'+i+'", check name');if(!o)throw new Error("Wrong `markdown-it` preset, can't be empty");return o.options&&s.set(o.options),o.components&&Object.keys(o.components).forEach((function(i){o.components[i].rules&&s[i].ruler.enableOnly(o.components[i].rules),o.components[i].rules2&&s[i].ruler2.enableOnly(o.components[i].rules2)})),this},MarkdownIt.prototype.enable=function(o,i){var s=[];Array.isArray(o)||(o=[o]),["core","block","inline"].forEach((function(i){s=s.concat(this[i].ruler.enable(o,!0))}),this),s=s.concat(this.inline.ruler2.enable(o,!0));var a=o.filter((function(o){return s.indexOf(o)<0}));if(a.length&&!i)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+a);return this},MarkdownIt.prototype.disable=function(o,i){var s=[];Array.isArray(o)||(o=[o]),["core","block","inline"].forEach((function(i){s=s.concat(this[i].ruler.disable(o,!0))}),this),s=s.concat(this.inline.ruler2.disable(o,!0));var a=o.filter((function(o){return s.indexOf(o)<0}));if(a.length&&!i)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+a);return this},MarkdownIt.prototype.use=function(o){var i=[this].concat(Array.prototype.slice.call(arguments,1));return o.apply(o,i),this},MarkdownIt.prototype.parse=function(o,i){if("string"!=typeof o)throw new Error("Input data should be a String");var s=new this.core.State(o,this,i);return this.core.process(s),s.tokens},MarkdownIt.prototype.render=function(o,i){return i=i||{},this.renderer.render(this.parse(o,i),this.options,i)},MarkdownIt.prototype.parseInline=function(o,i){var s=new this.core.State(o,this,i);return s.inlineMode=!0,this.core.process(s),s.tokens},MarkdownIt.prototype.renderInline=function(o,i){return i=i||{},this.renderer.render(this.parseInline(o,i),this.options,i)},o.exports=MarkdownIt},CWsV:function(o,i,s){"use strict";function Token(o,i,s){this.type=o,this.tag=i,this.attrs=null,this.map=null,this.nesting=s,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Token.prototype.attrIndex=function attrIndex(o){var i,s,a;if(!this.attrs)return-1;for(s=0,a=(i=this.attrs).length;s<a;s++)if(i[s][0]===o)return s;return-1},Token.prototype.attrPush=function attrPush(o){this.attrs?this.attrs.push(o):this.attrs=[o]},Token.prototype.attrSet=function attrSet(o,i){var s=this.attrIndex(o),a=[o,i];s<0?this.attrPush(a):this.attrs[s]=a},Token.prototype.attrGet=function attrGet(o){var i=this.attrIndex(o),s=null;return i>=0&&(s=this.attrs[i][1]),s},Token.prototype.attrJoin=function attrJoin(o,i){var s=this.attrIndex(o);s<0?this.attrPush([o,i]):this.attrs[s][1]=this.attrs[s][1]+" "+i},o.exports=Token},CXva:function(o,i,s){"use strict";var a=s("CWsV"),l=s("AGgm").isWhiteSpace,c=s("AGgm").isPunctChar,u=s("AGgm").isMdAsciiPunct;function StateInline(o,i,s,a){this.src=o,this.env=s,this.md=i,this.tokens=a,this.tokens_meta=Array(a.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[]}StateInline.prototype.pushPending=function(){var o=new a("text","",0);return o.content=this.pending,o.level=this.pendingLevel,this.tokens.push(o),this.pending="",o},StateInline.prototype.push=function(o,i,s){this.pending&&this.pushPending();var l=new a(o,i,s),c=null;return s<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),l.level=this.level,s>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],c={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(l),this.tokens_meta.push(c),l},StateInline.prototype.scanDelims=function(o,i){var s,a,d,p,f,m,g,v,y,b=o,k=!0,w=!0,S=this.posMax,x=this.src.charCodeAt(o);for(s=o>0?this.src.charCodeAt(o-1):32;b<S&&this.src.charCodeAt(b)===x;)b++;return d=b-o,a=b<S?this.src.charCodeAt(b):32,g=u(s)||c(String.fromCharCode(s)),y=u(a)||c(String.fromCharCode(a)),m=l(s),(v=l(a))?k=!1:y&&(m||g||(k=!1)),m?w=!1:g&&(v||y||(w=!1)),i?(p=k,f=w):(p=k&&(!w||g),f=w&&(!k||y)),{can_open:p,can_close:f,length:d}},StateInline.prototype.Token=a,o.exports=StateInline},CsC6:function(o,i,s){"use strict";s.d(i,"a",(function(){return d})),s.d(i,"b",(function(){return b})),s.d(i,"c",(function(){return y})),s.d(i,"d",(function(){return p})),s.d(i,"e",(function(){return canJoin})),s.d(i,"f",(function(){return canSplit})),s.d(i,"g",(function(){return dropPoint})),s.d(i,"h",(function(){return findWrapping})),s.d(i,"i",(function(){return joinPoint})),s.d(i,"j",(function(){return liftTarget}));var a=s("MEpN"),l=Math.pow(2,16);function recoverIndex(o){return 65535&o}var c=function MapResult(o,i,s){void 0===i&&(i=!1),void 0===s&&(s=null),this.pos=o,this.deleted=i,this.recover=s},u=function StepMap(o,i){void 0===i&&(i=!1),this.ranges=o,this.inverted=i};u.prototype.recover=function recover(o){var i=0,s=recoverIndex(o);if(!this.inverted)for(var a=0;a<s;a++)i+=this.ranges[3*a+2]-this.ranges[3*a+1];return this.ranges[3*s]+i+function recoverOffset(o){return(o-(65535&o))/l}(o)},u.prototype.mapResult=function mapResult(o,i){return void 0===i&&(i=1),this._map(o,i,!1)},u.prototype.map=function map(o,i){return void 0===i&&(i=1),this._map(o,i,!0)},u.prototype._map=function _map(o,i,s){for(var a=0,u=this.inverted?2:1,d=this.inverted?1:2,p=0;p<this.ranges.length;p+=3){var f=this.ranges[p]-(this.inverted?a:0);if(f>o)break;var m=this.ranges[p+u],g=this.ranges[p+d],v=f+m;if(o<=v){var y=f+a+((m?o==f?-1:o==v?1:i:i)<0?0:g);if(s)return y;var b=p/3+(o-f)*l;return new c(y,i<0?o!=f:o!=v,b)}a+=g-m}return s?o+a:new c(o+a)},u.prototype.touches=function touches(o,i){for(var s=0,a=recoverIndex(i),l=this.inverted?2:1,c=this.inverted?1:2,u=0;u<this.ranges.length;u+=3){var d=this.ranges[u]-(this.inverted?s:0);if(d>o)break;var p=this.ranges[u+l];if(o<=d+p&&u==3*a)return!0;s+=this.ranges[u+c]-p}return!1},u.prototype.forEach=function forEach(o){for(var i=this.inverted?2:1,s=this.inverted?1:2,a=0,l=0;a<this.ranges.length;a+=3){var c=this.ranges[a],u=c-(this.inverted?l:0),d=c+(this.inverted?0:l),p=this.ranges[a+i],f=this.ranges[a+s];o(u,u+p,d,d+f),l+=f-p}},u.prototype.invert=function invert(){return new u(this.ranges,!this.inverted)},u.prototype.toString=function toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)},u.offset=function offset(o){return 0==o?u.empty:new u(o<0?[0,-o,0]:[0,0,o])},u.empty=new u([]);var d=function Mapping(o,i,s,a){this.maps=o||[],this.from=s||0,this.to=null==a?this.maps.length:a,this.mirror=i};function TransformError(o){var i=Error.call(this,o);return i.__proto__=TransformError.prototype,i}d.prototype.slice=function slice(o,i){return void 0===o&&(o=0),void 0===i&&(i=this.maps.length),new d(this.maps,this.mirror,o,i)},d.prototype.copy=function copy(){return new d(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},d.prototype.appendMap=function appendMap(o,i){this.to=this.maps.push(o),null!=i&&this.setMirror(this.maps.length-1,i)},d.prototype.appendMapping=function appendMapping(o){for(var i=0,s=this.maps.length;i<o.maps.length;i++){var a=o.getMirror(i);this.appendMap(o.maps[i],null!=a&&a<i?s+a:null)}},d.prototype.getMirror=function getMirror(o){if(this.mirror)for(var i=0;i<this.mirror.length;i++)if(this.mirror[i]==o)return this.mirror[i+(i%2?-1:1)]},d.prototype.setMirror=function setMirror(o,i){this.mirror||(this.mirror=[]),this.mirror.push(o,i)},d.prototype.appendMappingInverted=function appendMappingInverted(o){for(var i=o.maps.length-1,s=this.maps.length+o.maps.length;i>=0;i--){var a=o.getMirror(i);this.appendMap(o.maps[i].invert(),null!=a&&a>i?s-a-1:null)}},d.prototype.invert=function invert(){var o=new d;return o.appendMappingInverted(this),o},d.prototype.map=function map(o,i){if(void 0===i&&(i=1),this.mirror)return this._map(o,i,!0);for(var s=this.from;s<this.to;s++)o=this.maps[s].map(o,i);return o},d.prototype.mapResult=function mapResult(o,i){return void 0===i&&(i=1),this._map(o,i,!1)},d.prototype._map=function _map(o,i,s){for(var a=!1,l=null,u=this.from;u<this.to;u++){var d=this.maps[u],p=l&&l[u];if(null!=p&&d.touches(o,p))o=d.recover(p);else{var f=d.mapResult(o,i);if(null!=f.recover){var m=this.getMirror(u);if(null!=m&&m>u&&m<this.to){if(f.deleted){u=m,o=this.maps[m].recover(f.recover);continue}(l||(l=Object.create(null)))[m]=f.recover}}f.deleted&&(a=!0),o=f.pos}}return s?o:new c(o,a)},TransformError.prototype=Object.create(Error.prototype),TransformError.prototype.constructor=TransformError,TransformError.prototype.name="TransformError";var p=function Transform(o){this.doc=o,this.steps=[],this.docs=[],this.mapping=new d},f={before:{configurable:!0},docChanged:{configurable:!0}};function mustOverride(){throw new Error("Override me")}f.before.get=function(){return this.docs.length?this.docs[0]:this.doc},p.prototype.step=function step(o){var i=this.maybeStep(o);if(i.failed)throw new TransformError(i.failed);return this},p.prototype.maybeStep=function maybeStep(o){var i=o.apply(this.doc);return i.failed||this.addStep(o,i.doc),i},f.docChanged.get=function(){return this.steps.length>0},p.prototype.addStep=function addStep(o,i){this.docs.push(this.doc),this.steps.push(o),this.mapping.appendMap(o.getMap()),this.doc=i},Object.defineProperties(p.prototype,f);var m=Object.create(null),g=function Step(){};g.prototype.apply=function apply(o){return mustOverride()},g.prototype.getMap=function getMap(){return u.empty},g.prototype.invert=function invert(o){return mustOverride()},g.prototype.map=function map(o){return mustOverride()},g.prototype.merge=function merge(o){return null},g.prototype.toJSON=function toJSON(){return mustOverride()},g.fromJSON=function fromJSON(o,i){if(!i||!i.stepType)throw new RangeError("Invalid input for Step.fromJSON");var s=m[i.stepType];if(!s)throw new RangeError("No step type "+i.stepType+" defined");return s.fromJSON(o,i)},g.jsonID=function jsonID(o,i){if(o in m)throw new RangeError("Duplicate use of step JSON ID "+o);return m[o]=i,i.prototype.jsonID=o,i};var v=function StepResult(o,i){this.doc=o,this.failed=i};v.ok=function ok(o){return new v(o,null)},v.fail=function fail(o){return new v(null,o)},v.fromReplace=function fromReplace(o,i,s,l){try{return v.ok(o.replace(i,s,l))}catch(o){if(o instanceof a.ReplaceError)return v.fail(o.message);throw o}};var y=function(o){function ReplaceStep(i,s,a,l){o.call(this),this.from=i,this.to=s,this.slice=a,this.structure=!!l}return o&&(ReplaceStep.__proto__=o),ReplaceStep.prototype=Object.create(o&&o.prototype),ReplaceStep.prototype.constructor=ReplaceStep,ReplaceStep.prototype.apply=function apply(o){return this.structure&&contentBetween(o,this.from,this.to)?v.fail("Structure replace would overwrite content"):v.fromReplace(o,this.from,this.to,this.slice)},ReplaceStep.prototype.getMap=function getMap(){return new u([this.from,this.to-this.from,this.slice.size])},ReplaceStep.prototype.invert=function invert(o){return new ReplaceStep(this.from,this.from+this.slice.size,o.slice(this.from,this.to))},ReplaceStep.prototype.map=function map(o){var i=o.mapResult(this.from,1),s=o.mapResult(this.to,-1);return i.deleted&&s.deleted?null:new ReplaceStep(i.pos,Math.max(i.pos,s.pos),this.slice)},ReplaceStep.prototype.merge=function merge(o){if(!(o instanceof ReplaceStep)||o.structure!=this.structure)return null;if(this.from+this.slice.size!=o.from||this.slice.openEnd||o.slice.openStart){if(o.to!=this.from||this.slice.openStart||o.slice.openEnd)return null;var i=this.slice.size+o.slice.size==0?a.Slice.empty:new a.Slice(o.slice.content.append(this.slice.content),o.slice.openStart,this.slice.openEnd);return new ReplaceStep(o.from,this.to,i,this.structure)}var s=this.slice.size+o.slice.size==0?a.Slice.empty:new a.Slice(this.slice.content.append(o.slice.content),this.slice.openStart,o.slice.openEnd);return new ReplaceStep(this.from,this.to+(o.to-o.from),s,this.structure)},ReplaceStep.prototype.toJSON=function toJSON(){var o={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(o.slice=this.slice.toJSON()),this.structure&&(o.structure=!0),o},ReplaceStep.fromJSON=function fromJSON(o,i){if("number"!=typeof i.from||"number"!=typeof i.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ReplaceStep(i.from,i.to,a.Slice.fromJSON(o,i.slice),!!i.structure)},ReplaceStep}(g);g.jsonID("replace",y);var b=function(o){function ReplaceAroundStep(i,s,a,l,c,u,d){o.call(this),this.from=i,this.to=s,this.gapFrom=a,this.gapTo=l,this.slice=c,this.insert=u,this.structure=!!d}return o&&(ReplaceAroundStep.__proto__=o),ReplaceAroundStep.prototype=Object.create(o&&o.prototype),ReplaceAroundStep.prototype.constructor=ReplaceAroundStep,ReplaceAroundStep.prototype.apply=function apply(o){if(this.structure&&(contentBetween(o,this.from,this.gapFrom)||contentBetween(o,this.gapTo,this.to)))return v.fail("Structure gap-replace would overwrite content");var i=o.slice(this.gapFrom,this.gapTo);if(i.openStart||i.openEnd)return v.fail("Gap is not a flat range");var s=this.slice.insertAt(this.insert,i.content);return s?v.fromReplace(o,this.from,this.to,s):v.fail("Content does not fit in gap")},ReplaceAroundStep.prototype.getMap=function getMap(){return new u([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},ReplaceAroundStep.prototype.invert=function invert(o){var i=this.gapTo-this.gapFrom;return new ReplaceAroundStep(this.from,this.from+this.slice.size+i,this.from+this.insert,this.from+this.insert+i,o.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},ReplaceAroundStep.prototype.map=function map(o){var i=o.mapResult(this.from,1),s=o.mapResult(this.to,-1),a=o.map(this.gapFrom,-1),l=o.map(this.gapTo,1);return i.deleted&&s.deleted||a<i.pos||l>s.pos?null:new ReplaceAroundStep(i.pos,s.pos,a,l,this.slice,this.insert,this.structure)},ReplaceAroundStep.prototype.toJSON=function toJSON(){var o={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(o.slice=this.slice.toJSON()),this.structure&&(o.structure=!0),o},ReplaceAroundStep.fromJSON=function fromJSON(o,i){if("number"!=typeof i.from||"number"!=typeof i.to||"number"!=typeof i.gapFrom||"number"!=typeof i.gapTo||"number"!=typeof i.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ReplaceAroundStep(i.from,i.to,i.gapFrom,i.gapTo,a.Slice.fromJSON(o,i.slice),i.insert,!!i.structure)},ReplaceAroundStep}(g);function contentBetween(o,i,s){for(var a=o.resolve(i),l=s-i,c=a.depth;l>0&&c>0&&a.indexAfter(c)==a.node(c).childCount;)c--,l--;if(l>0)for(var u=a.node(c).maybeChild(a.indexAfter(c));l>0;){if(!u||u.isLeaf)return!0;u=u.firstChild,l--}return!1}function canCut(o,i,s){return(0==i||o.canReplace(i,o.childCount))&&(s==o.childCount||o.canReplace(0,s))}function liftTarget(o){for(var i=o.parent.content.cutByIndex(o.startIndex,o.endIndex),s=o.depth;;--s){var a=o.$from.node(s),l=o.$from.index(s),c=o.$to.indexAfter(s);if(s<o.depth&&a.canReplace(l,c,i))return s;if(0==s||a.type.spec.isolating||!canCut(a,l,c))break}}function findWrapping(o,i,s,a){void 0===a&&(a=o);var l=function findWrappingOutside(o,i){var s=o.parent,a=o.startIndex,l=o.endIndex,c=s.contentMatchAt(a).findWrapping(i);if(!c)return null;var u=c.length?c[0]:i;return s.canReplaceWith(a,l,u)?c:null}(o,i),c=l&&function findWrappingInside(o,i){var s=o.parent,a=o.startIndex,l=o.endIndex,c=s.child(a),u=i.contentMatch.findWrapping(c.type);if(!u)return null;for(var d=(u.length?u[u.length-1]:i).contentMatch,p=a;d&&p<l;p++)d=d.matchType(s.child(p).type);if(!d||!d.validEnd)return null;return u}(a,i);return c?l.map(withAttrs).concat({type:i,attrs:s}).concat(c.map(withAttrs)):null}function withAttrs(o){return{type:o,attrs:null}}function canSplit(o,i,s,a){void 0===s&&(s=1);var l=o.resolve(i),c=l.depth-s,u=a&&a[a.length-1]||l.parent;if(c<0||l.parent.type.spec.isolating||!l.parent.canReplace(l.index(),l.parent.childCount)||!u.type.validContent(l.parent.content.cutByIndex(l.index(),l.parent.childCount)))return!1;for(var d=l.depth-1,p=s-2;d>c;d--,p--){var f=l.node(d),m=l.index(d);if(f.type.spec.isolating)return!1;var g=f.content.cutByIndex(m,f.childCount),v=a&&a[p]||f;if(v!=f&&(g=g.replaceChild(0,v.type.create(v.attrs))),!f.canReplace(m+1,f.childCount)||!v.type.validContent(g))return!1}var y=l.indexAfter(c),b=a&&a[0];return l.node(c).canReplaceWith(y,y,b?b.type:l.node(c+1).type)}function canJoin(o,i){var s=o.resolve(i),a=s.index();return joinable(s.nodeBefore,s.nodeAfter)&&s.parent.canReplace(a,a+1)}function joinable(o,i){return o&&i&&!o.isLeaf&&o.canAppend(i)}function joinPoint(o,i,s){void 0===s&&(s=-1);for(var a=o.resolve(i),l=a.depth;;l--){var c=void 0,u=void 0,d=a.index(l);if(l==a.depth?(c=a.nodeBefore,u=a.nodeAfter):s>0?(c=a.node(l+1),d++,u=a.node(l).maybeChild(d)):(c=a.node(l).maybeChild(d-1),u=a.node(l+1)),c&&!c.isTextblock&&joinable(c,u)&&a.node(l).canReplace(d,d+1))return i;if(0==l)break;i=s<0?a.before(l):a.after(l)}}function dropPoint(o,i,s){var a=o.resolve(i);if(!s.content.size)return i;for(var l=s.content,c=0;c<s.openStart;c++)l=l.firstChild.content;for(var u=1;u<=(0==s.openStart&&s.size?2:1);u++)for(var d=a.depth;d>=0;d--){var p=d==a.depth?0:a.pos<=(a.start(d+1)+a.end(d+1))/2?-1:1,f=a.index(d)+(p>0?1:0);if(1==u?a.node(d).canReplace(f,f,l):a.node(d).contentMatchAt(f).findWrapping(l.firstChild.type))return 0==p?a.pos:p<0?a.before(d+1):a.after(d+1)}return null}function mapFragment(o,i,s){for(var l=[],c=0;c<o.childCount;c++){var u=o.child(c);u.content.size&&(u=u.copy(mapFragment(u.content,i,u))),u.isInline&&(u=i(u,s,c)),l.push(u)}return a.Fragment.fromArray(l)}g.jsonID("replaceAround",b),p.prototype.lift=function(o,i){for(var s=o.$from,l=o.$to,c=o.depth,u=s.before(c+1),d=l.after(c+1),p=u,f=d,m=a.Fragment.empty,g=0,v=c,y=!1;v>i;v--)y||s.index(v)>0?(y=!0,m=a.Fragment.from(s.node(v).copy(m)),g++):p--;for(var k=a.Fragment.empty,w=0,S=c,x=!1;S>i;S--)x||l.after(S+1)<l.end(S)?(x=!0,k=a.Fragment.from(l.node(S).copy(k)),w++):f++;return this.step(new b(p,f,u,d,new a.Slice(m.append(k),g,w),m.size-g,!0))},p.prototype.wrap=function(o,i){for(var s=a.Fragment.empty,l=i.length-1;l>=0;l--)s=a.Fragment.from(i[l].type.create(i[l].attrs,s));var c=o.start,u=o.end;return this.step(new b(c,u,c,u,new a.Slice(s,0,0),i.length,!0))},p.prototype.setBlockType=function(o,i,s,l){var c=this;if(void 0===i&&(i=o),!s.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var u=this.steps.length;return this.doc.nodesBetween(o,i,(function(o,i){if(o.isTextblock&&!o.hasMarkup(s,l)&&function canChangeType(o,i,s){var a=o.resolve(i),l=a.index();return a.parent.canReplaceWith(l,l+1,s)}(c.doc,c.mapping.slice(u).map(i),s)){c.clearIncompatible(c.mapping.slice(u).map(i,1),s);var d=c.mapping.slice(u),p=d.map(i,1),f=d.map(i+o.nodeSize,1);return c.step(new b(p,f,p+1,f-1,new a.Slice(a.Fragment.from(s.create(l,null,o.marks)),0,0),1,!0)),!1}})),this},p.prototype.setNodeMarkup=function(o,i,s,l){var c=this.doc.nodeAt(o);if(!c)throw new RangeError("No node at given position");i||(i=c.type);var u=i.create(s,null,l||c.marks);if(c.isLeaf)return this.replaceWith(o,o+c.nodeSize,u);if(!i.validContent(c.content))throw new RangeError("Invalid content for node type "+i.name);return this.step(new b(o,o+c.nodeSize,o+1,o+c.nodeSize-1,new a.Slice(a.Fragment.from(u),0,0),1,!0))},p.prototype.split=function(o,i,s){void 0===i&&(i=1);for(var l=this.doc.resolve(o),c=a.Fragment.empty,u=a.Fragment.empty,d=l.depth,p=l.depth-i,f=i-1;d>p;d--,f--){c=a.Fragment.from(l.node(d).copy(c));var m=s&&s[f];u=a.Fragment.from(m?m.type.create(m.attrs,u):l.node(d).copy(u))}return this.step(new y(o,o,new a.Slice(c.append(u),i,i),!0))},p.prototype.join=function(o,i){void 0===i&&(i=1);var s=new y(o-i,o+i,a.Slice.empty,!0);return this.step(s)};var k=function(o){function AddMarkStep(i,s,a){o.call(this),this.from=i,this.to=s,this.mark=a}return o&&(AddMarkStep.__proto__=o),AddMarkStep.prototype=Object.create(o&&o.prototype),AddMarkStep.prototype.constructor=AddMarkStep,AddMarkStep.prototype.apply=function apply(o){var i=this,s=o.slice(this.from,this.to),l=o.resolve(this.from),c=l.node(l.sharedDepth(this.to)),u=new a.Slice(mapFragment(s.content,(function(o,s){return s.type.allowsMarkType(i.mark.type)?o.mark(i.mark.addToSet(o.marks)):o}),c),s.openStart,s.openEnd);return v.fromReplace(o,this.from,this.to,u)},AddMarkStep.prototype.invert=function invert(){return new w(this.from,this.to,this.mark)},AddMarkStep.prototype.map=function map(o){var i=o.mapResult(this.from,1),s=o.mapResult(this.to,-1);return i.deleted&&s.deleted||i.pos>=s.pos?null:new AddMarkStep(i.pos,s.pos,this.mark)},AddMarkStep.prototype.merge=function merge(o){if(o instanceof AddMarkStep&&o.mark.eq(this.mark)&&this.from<=o.to&&this.to>=o.from)return new AddMarkStep(Math.min(this.from,o.from),Math.max(this.to,o.to),this.mark)},AddMarkStep.prototype.toJSON=function toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},AddMarkStep.fromJSON=function fromJSON(o,i){if("number"!=typeof i.from||"number"!=typeof i.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new AddMarkStep(i.from,i.to,o.markFromJSON(i.mark))},AddMarkStep}(g);g.jsonID("addMark",k);var w=function(o){function RemoveMarkStep(i,s,a){o.call(this),this.from=i,this.to=s,this.mark=a}return o&&(RemoveMarkStep.__proto__=o),RemoveMarkStep.prototype=Object.create(o&&o.prototype),RemoveMarkStep.prototype.constructor=RemoveMarkStep,RemoveMarkStep.prototype.apply=function apply(o){var i=this,s=o.slice(this.from,this.to),l=new a.Slice(mapFragment(s.content,(function(o){return o.mark(i.mark.removeFromSet(o.marks))})),s.openStart,s.openEnd);return v.fromReplace(o,this.from,this.to,l)},RemoveMarkStep.prototype.invert=function invert(){return new k(this.from,this.to,this.mark)},RemoveMarkStep.prototype.map=function map(o){var i=o.mapResult(this.from,1),s=o.mapResult(this.to,-1);return i.deleted&&s.deleted||i.pos>=s.pos?null:new RemoveMarkStep(i.pos,s.pos,this.mark)},RemoveMarkStep.prototype.merge=function merge(o){if(o instanceof RemoveMarkStep&&o.mark.eq(this.mark)&&this.from<=o.to&&this.to>=o.from)return new RemoveMarkStep(Math.min(this.from,o.from),Math.max(this.to,o.to),this.mark)},RemoveMarkStep.prototype.toJSON=function toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},RemoveMarkStep.fromJSON=function fromJSON(o,i){if("number"!=typeof i.from||"number"!=typeof i.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new RemoveMarkStep(i.from,i.to,o.markFromJSON(i.mark))},RemoveMarkStep}(g);function fitsTrivially(o,i,s){return!s.openStart&&!s.openEnd&&o.start()==i.start()&&o.parent.canReplace(o.index(),i.index(),s.content)}g.jsonID("removeMark",w),p.prototype.addMark=function(o,i,s){var a=this,l=[],c=[],u=null,d=null;return this.doc.nodesBetween(o,i,(function(a,p,f){if(a.isInline){var m=a.marks;if(!s.isInSet(m)&&f.type.allowsMarkType(s.type)){for(var g=Math.max(p,o),v=Math.min(p+a.nodeSize,i),y=s.addToSet(m),b=0;b<m.length;b++)m[b].isInSet(y)||(u&&u.to==g&&u.mark.eq(m[b])?u.to=v:l.push(u=new w(g,v,m[b])));d&&d.to==g?d.to=v:c.push(d=new k(g,v,s))}}})),l.forEach((function(o){return a.step(o)})),c.forEach((function(o){return a.step(o)})),this},p.prototype.removeMark=function(o,i,s){var l=this;void 0===s&&(s=null);var c=[],u=0;return this.doc.nodesBetween(o,i,(function(l,d){if(l.isInline){u++;var p=null;if(s instanceof a.MarkType){var f=s.isInSet(l.marks);f&&(p=[f])}else s?s.isInSet(l.marks)&&(p=[s]):p=l.marks;if(p&&p.length)for(var m=Math.min(d+l.nodeSize,i),g=0;g<p.length;g++){for(var v=p[g],y=void 0,b=0;b<c.length;b++){var k=c[b];k.step==u-1&&v.eq(c[b].style)&&(y=k)}y?(y.to=m,y.step=u):c.push({style:v,from:Math.max(d,o),to:m,step:u})}}})),c.forEach((function(o){return l.step(new w(o.from,o.to,o.style))})),this},p.prototype.clearIncompatible=function(o,i,s){void 0===s&&(s=i.contentMatch);for(var l=this.doc.nodeAt(o),c=[],u=o+1,d=0;d<l.childCount;d++){var p=l.child(d),f=u+p.nodeSize,m=s.matchType(p.type,p.attrs);if(m){s=m;for(var g=0;g<p.marks.length;g++)i.allowsMarkType(p.marks[g].type)||this.step(new w(u,f,p.marks[g]))}else c.push(new y(u,f,a.Slice.empty));u=f}if(!s.validEnd){var v=s.fillBefore(a.Fragment.empty,!0);this.replace(u,u,new a.Slice(v,0,0))}for(var b=c.length-1;b>=0;b--)this.step(c[b]);return this},p.prototype.replace=function(o,i,s){void 0===i&&(i=o),void 0===s&&(s=a.Slice.empty);var l=function replaceStep(o,i,s,l){if(void 0===s&&(s=i),void 0===l&&(l=a.Slice.empty),i==s&&!l.size)return null;var c=o.resolve(i),u=o.resolve(s);return fitsTrivially(c,u,l)?new y(i,s,l):new S(c,u,l).fit()}(this.doc,o,i,s);return l&&this.step(l),this},p.prototype.replaceWith=function(o,i,s){return this.replace(o,i,new a.Slice(a.Fragment.from(s),0,0))},p.prototype.delete=function(o,i){return this.replace(o,i,a.Slice.empty)},p.prototype.insert=function(o,i){return this.replaceWith(o,o,i)};var S=function Fitter(o,i,s){this.$to=i,this.$from=o,this.unplaced=s,this.frontier=[];for(var l=0;l<=o.depth;l++){var c=o.node(l);this.frontier.push({type:c.type,match:c.contentMatchAt(o.indexAfter(l))})}this.placed=a.Fragment.empty;for(var u=o.depth;u>0;u--)this.placed=a.Fragment.from(o.node(u).copy(this.placed))},x={depth:{configurable:!0}};function dropFromFragment(o,i,s){return 0==i?o.cutByIndex(s):o.replaceChild(0,o.firstChild.copy(dropFromFragment(o.firstChild.content,i-1,s)))}function addToFragment(o,i,s){return 0==i?o.append(s):o.replaceChild(o.childCount-1,o.lastChild.copy(addToFragment(o.lastChild.content,i-1,s)))}function contentAt(o,i){for(var s=0;s<i;s++)o=o.firstChild.content;return o}function closeNodeStart(o,i,s){if(i<=0)return o;var l=o.content;return i>1&&(l=l.replaceChild(0,closeNodeStart(l.firstChild,i-1,1==l.childCount?s-1:0))),i>0&&(l=o.type.contentMatch.fillBefore(l).append(l),s<=0&&(l=l.append(o.type.contentMatch.matchFragment(l).fillBefore(a.Fragment.empty,!0)))),o.copy(l)}function contentAfterFits(o,i,s,a,l){var c=o.node(i),u=l?o.indexAfter(i):o.index(i);if(u==c.childCount&&!s.compatibleContent(c.type))return null;var d=a.fillBefore(c.content,!0,u);return d&&!function invalidMarks(o,i,s){for(var a=s;a<i.childCount;a++)if(!o.allowsMarks(i.child(a).marks))return!0;return!1}(s,c.content,u)?d:null}function closeFragment(o,i,s,l,c){if(i<s){var u=o.firstChild;o=o.replaceChild(0,u.copy(closeFragment(u.content,i+1,s,l,u)))}if(i>l){var d=c.contentMatchAt(0),p=d.fillBefore(o).append(o);o=p.append(d.matchFragment(p).fillBefore(a.Fragment.empty,!0))}return o}function coveredDepths(o,i){for(var s=[],a=Math.min(o.depth,i.depth);a>=0;a--){var l=o.start(a);if(l<o.pos-(o.depth-a)||i.end(a)>i.pos+(i.depth-a)||o.node(a).type.spec.isolating||i.node(a).type.spec.isolating)break;l==i.start(a)&&s.push(a)}return s}x.depth.get=function(){return this.frontier.length-1},S.prototype.fit=function fit(){for(;this.unplaced.size;){var fit=this.findFittable();fit?this.placeNodes(fit):this.openMore()||this.dropNode()}var o=this.mustMoveInline(),i=this.placed.size-this.depth-this.$from.depth,s=this.$from,l=o<0?this.$to:s.doc.resolve(o);if(this.close(l)){for(var c=this.placed,u=s.depth,d=l.depth;u&&d&&1==c.childCount;)c=c.firstChild.content,u--,d--;var p=new a.Slice(c,u,d);if(o>-1)return new b(s.pos,o,this.$to.pos,this.$to.end(),p,i);if(p.size||s.pos!=this.$to.pos)return new y(s.pos,l.pos,p)}return null},S.prototype.findFittable=function findFittable(){for(var o=1;o<=2;o++)for(var i=this.unplaced.openStart;i>=0;i--)for(var s=void 0,l=(i?(s=contentAt(this.unplaced.content,i-1).firstChild).content:this.unplaced.content).firstChild,c=this.depth;c>=0;c--){var u=this.frontier[c],d=u.type,p=u.match,f=void 0,m=void 0;if(1==o&&(l?p.matchType(l.type)||(m=p.fillBefore(a.Fragment.from(l),!1)):d.compatibleContent(s.type)))return{sliceDepth:i,frontierDepth:c,parent:s,inject:m};if(2==o&&l&&(f=p.findWrapping(l.type)))return{sliceDepth:i,frontierDepth:c,parent:s,wrap:f};if(s&&p.matchType(s.type))break}},S.prototype.openMore=function openMore(){var o=this.unplaced,i=o.content,s=o.openStart,l=o.openEnd,c=contentAt(i,s);return!(!c.childCount||c.firstChild.isLeaf)&&(this.unplaced=new a.Slice(i,s+1,Math.max(l,c.size+s>=i.size-l?s+1:0)),!0)},S.prototype.dropNode=function dropNode(){var o=this.unplaced,i=o.content,s=o.openStart,l=o.openEnd,c=contentAt(i,s);if(c.childCount<=1&&s>0){var u=i.size-s<=s+c.size;this.unplaced=new a.Slice(dropFromFragment(i,s-1,1),s-1,u?s-1:l)}else this.unplaced=new a.Slice(dropFromFragment(i,s,1),s,l)},S.prototype.placeNodes=function placeNodes(o){for(var i=o.sliceDepth,s=o.frontierDepth,l=o.parent,c=o.inject,u=o.wrap;this.depth>s;)this.closeFrontierNode();if(u)for(var d=0;d<u.length;d++)this.openFrontierNode(u[d]);var p=this.unplaced,f=l?l.content:p.content,m=p.openStart-i,g=0,v=[],y=this.frontier[s],b=y.match,k=y.type;if(c){for(var w=0;w<c.childCount;w++)v.push(c.child(w));b=b.matchFragment(c)}for(var S=f.size+i-(p.content.size-p.openEnd);g<f.childCount;){var x=f.child(g),C=b.matchType(x.type);if(!C)break;(++g>1||0==m||x.content.size)&&(b=C,v.push(closeNodeStart(x.mark(k.allowedMarks(x.marks)),1==g?m:0,g==f.childCount?S:-1)))}var _=g==f.childCount;_||(S=-1),_&&S<0&&l&&l.type==this.frontier[this.depth].type?this.closeFrontierNode():this.frontier[s].match=b;for(var O=0,M=f;O<S;O++){var A=M.lastChild;this.frontier.push({type:A.type,match:A.contentMatchAt(A.childCount)}),M=A.content}this.unplaced=_?0==i?a.Slice.empty:new a.Slice(dropFromFragment(p.content,i-1,1),i-1,S<0?p.openEnd:i-1):new a.Slice(dropFromFragment(p.content,i,g),p.openStart,p.openEnd),this.placed=addToFragment(this.placed,s,a.Fragment.from(v))},S.prototype.mustMoveInline=function mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;var o,i=this.frontier[this.depth];if(!i.type.isTextblock||!contentAfterFits(this.$to,this.$to.depth,i.type,i.match,!1)||this.$to.depth==this.depth&&(o=this.findCloseLevel(this.$to))&&o.depth==this.depth)return-1;for(var s=this.$to.depth,a=this.$to.after(s);s>1&&a==this.$to.end(--s);)++a;return a},S.prototype.findCloseLevel=function findCloseLevel(o){e:for(var i=Math.min(this.depth,o.depth);i>=0;i--){var s=this.frontier[i],a=s.match,l=contentAfterFits(o,i,s.type,a,!1);if(l){for(var c=i-1;c>=0;c--){var u=this.frontier[c],d=u.match,p=contentAfterFits(o,c,u.type,d,!0);if(!p||p.childCount)continue e}return{depth:i,fit:l}}}},S.prototype.close=function close(o){var close=this.findCloseLevel(o);if(!close)return!1;for(;this.depth>close.depth;)this.closeFrontierNode();close.fit.childCount&&(this.placed=addToFragment(this.placed,close.depth,close.fit));for(var i=close.depth+1;i<=o.depth;i++){var s=o.node(i),a=s.type.contentMatch.fillBefore(s.content,!0,o.index(i));this.openFrontierNode(s.type,s.attrs,a)}return!0},S.prototype.openFrontierNode=function openFrontierNode(o,i,s){var l=this.frontier[this.depth];l.match=l.match.matchType(o),this.placed=addToFragment(this.placed,this.depth,a.Fragment.from(o.create(i,s))),this.frontier.push({type:o,match:o.contentMatch})},S.prototype.closeFrontierNode=function closeFrontierNode(){var o=this.frontier.pop().match.fillBefore(a.Fragment.empty,!0);o.childCount&&(this.placed=addToFragment(this.placed,this.frontier.length,o))},Object.defineProperties(S.prototype,x),p.prototype.replaceRange=function(o,i,s){if(!s.size)return this.deleteRange(o,i);var l=this.doc.resolve(o),c=this.doc.resolve(i);if(fitsTrivially(l,c,s))return this.step(new y(o,i,s));var u=coveredDepths(l,this.doc.resolve(i));0==u[u.length-1]&&u.pop();var d=-(l.depth+1);u.unshift(d);for(var p=l.depth,f=l.pos-1;p>0;p--,f--){var m=l.node(p).type.spec;if(m.defining||m.isolating)break;u.indexOf(p)>-1?d=p:l.before(p)==f&&u.splice(1,0,-p)}for(var g=u.indexOf(d),v=[],b=s.openStart,k=s.content,w=0;;w++){var S=k.firstChild;if(v.push(S),w==s.openStart)break;k=S.content}b>0&&v[b-1].type.spec.defining&&l.node(g).type!=v[b-1].type?b-=1:b>=2&&v[b-1].isTextblock&&v[b-2].type.spec.defining&&l.node(g).type!=v[b-2].type&&(b-=2);for(var x=s.openStart;x>=0;x--){var C=(x+b+1)%(s.openStart+1),_=v[C];if(_)for(var O=0;O<u.length;O++){var M=u[(O+g)%u.length],A=!0;M<0&&(A=!1,M=-M);var E=l.node(M-1),T=l.index(M-1);if(E.canReplaceWith(T,T,_.type,_.marks))return this.replace(l.before(M),A?c.after(M):i,new a.Slice(closeFragment(s.content,0,s.openStart,C),C,s.openEnd))}}for(var D=this.steps.length,I=u.length-1;I>=0&&(this.replace(o,i,s),!(this.steps.length>D));I--){var N=u[I];I<0||(o=l.before(N),i=c.after(N))}return this},p.prototype.replaceRangeWith=function(o,i,s){if(!s.isInline&&o==i&&this.doc.resolve(o).parent.content.size){var l=function insertPoint(o,i,s){var a=o.resolve(i);if(a.parent.canReplaceWith(a.index(),a.index(),s))return i;if(0==a.parentOffset)for(var l=a.depth-1;l>=0;l--){var c=a.index(l);if(a.node(l).canReplaceWith(c,c,s))return a.before(l+1);if(c>0)return null}if(a.parentOffset==a.parent.content.size)for(var u=a.depth-1;u>=0;u--){var d=a.indexAfter(u);if(a.node(u).canReplaceWith(d,d,s))return a.after(u+1);if(d<a.node(u).childCount)return null}}(this.doc,o,s.type);null!=l&&(o=i=l)}return this.replaceRange(o,i,new a.Slice(a.Fragment.from(s),0,0))},p.prototype.deleteRange=function(o,i){for(var s=this.doc.resolve(o),a=this.doc.resolve(i),l=coveredDepths(s,a),c=0;c<l.length;c++){var u=l[c],d=c==l.length-1;if(d&&0==u||s.node(u).type.contentMatch.validEnd)return this.delete(s.start(u),a.end(u));if(u>0&&(d||s.node(u-1).canReplace(s.index(u-1),a.indexAfter(u-1))))return this.delete(s.before(u),a.after(u))}for(var p=1;p<=s.depth&&p<=a.depth;p++)if(o-s.start(p)==s.depth-p&&i>s.end(p)&&a.end(p)-i!=a.depth-p)return this.delete(s.before(p),i);return this.delete(o,i)}},DPa0:function(o,i,s){"use strict";function java(o){!function(o){var i=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,s=/(^|[^\w.])(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,a={pattern:RegExp(s+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};o.languages.java=o.languages.extend("clike",{"class-name":[a,{pattern:RegExp(s+/[A-Z]\w*(?=\s+\w+\s*[;,=())])/.source),lookbehind:!0,inside:a.inside}],keyword:i,function:[o.languages.clike.function,{pattern:/(\:\:\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0}}),o.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"}}),o.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<[\w\s,.&?]*>)*>)*>)*>/,inside:{"class-name":a,keyword:i,punctuation:/[<>(),.:]/,operator:/[?&|]/}},namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,(function(){return i.source}))),lookbehind:!0,inside:{punctuation:/\./}}})}(o)}o.exports=java,java.displayName="java",java.aliases=[]},DUvi:function(o,i,s){"use strict";var a=s("bAF5"),l=s("dKIx"),c=s("qTn3");o.exports=function create(o){var i,s,u=o.space,d=o.mustUseProperty||[],p=o.attributes||{},f=o.properties,m=o.transform,g={},v={};for(i in f)s=new c(i,m(p,i),f[i],u),-1!==d.indexOf(i)&&(s.mustUseProperty=!0),g[i]=s,v[a(i)]=i,v[a(s.attribute)]=i;return new l(g,v,u)}},E4Xm:function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=a(s("pCDR"));i.default=function renderToHtml(o){return l.default({embeds:[]}).render(o).trim()}},E9Ky:function(o,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function isInList(o){const i=o.selection.$head;for(let o=i.depth;o>0;o--)if(["ordered_list","bullet_list","checkbox_list"].includes(i.node(o).type.name))return!0;return!1}},EGRD:function(o,i,s){"use strict";function csharp(o){!function(o){function replace(o,i){return o.replace(/<<(\d+)>>/g,(function(o,s){return"(?:"+i[+s]+")"}))}function re(o,i,s){return RegExp(replace(o,i),s||"")}function nested(o,i){for(var s=0;s<i;s++)o=o.replace(/<<self>>/g,(function(){return"(?:"+o+")"}));return o.replace(/<<self>>/g,"[^\\s\\S]")}var i="bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",s="class enum interface struct",a="add alias and ascending async await by descending from get global group into join let nameof not notnull on or orderby partial remove select set unmanaged value when where",l="abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield";function keywordsToPattern(o){return"\\b(?:"+o.trim().replace(/ /g,"|")+")\\b"}var c=keywordsToPattern(s),u=RegExp(keywordsToPattern(i+" "+s+" "+a+" "+l)),d=keywordsToPattern(s+" "+a+" "+l),p=keywordsToPattern(i+" "+s+" "+l),f=nested(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),m=nested(/\((?:[^()]|<<self>>)*\)/.source,2),g=/@?\b[A-Za-z_]\w*\b/.source,v=replace(/<<0>>(?:\s*<<1>>)?/.source,[g,f]),y=replace(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[d,v]),b=/\[\s*(?:,\s*)*\]/.source,k=replace(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[y,b]),w=replace(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[f,m,b]),S=replace(/\(<<0>>+(?:,<<0>>+)+\)/.source,[w]),x=replace(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[S,y,b]),C={keyword:u,punctuation:/[<>()?,.:[\]]/},_=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,O=/"(?:\\.|[^\\"\r\n])*"/.source,M=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;o.languages.csharp=o.languages.extend("clike",{string:[{pattern:re(/(^|[^$\\])<<0>>/.source,[M]),lookbehind:!0,greedy:!0},{pattern:re(/(^|[^@$\\])<<0>>/.source,[O]),lookbehind:!0,greedy:!0},{pattern:RegExp(_),greedy:!0,alias:"character"}],"class-name":[{pattern:re(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[y]),lookbehind:!0,inside:C},{pattern:re(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[g,x]),lookbehind:!0,inside:C},{pattern:re(/(\busing\s+)<<0>>(?=\s*=)/.source,[g]),lookbehind:!0},{pattern:re(/(\b<<0>>\s+)<<1>>/.source,[c,v]),lookbehind:!0,inside:C},{pattern:re(/(\bcatch\s*\(\s*)<<0>>/.source,[y]),lookbehind:!0,inside:C},{pattern:re(/(\bwhere\s+)<<0>>/.source,[g]),lookbehind:!0},{pattern:re(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[k]),lookbehind:!0,inside:C},{pattern:re(/\b<<0>>(?=\s+(?!<<1>>)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[x,p,g]),inside:C}],keyword:u,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:ul|lu|[dflmu])?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),o.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),o.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:re(/([(,]\s*)<<0>>(?=\s*:)/.source,[g]),lookbehind:!0,alias:"punctuation"}}),o.languages.insertBefore("csharp","class-name",{namespace:{pattern:re(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[g]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:re(/(\b(?:default|typeof|sizeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[m]),lookbehind:!0,alias:"class-name",inside:C},"return-type":{pattern:re(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[x,y]),inside:C,alias:"class-name"},"constructor-invocation":{pattern:re(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[x]),lookbehind:!0,inside:C,alias:"class-name"},"generic-method":{pattern:re(/<<0>>\s*<<1>>(?=\s*\()/.source,[g,f]),inside:{function:re(/^<<0>>/.source,[g]),generic:{pattern:RegExp(f),alias:"class-name",inside:C}}},"type-list":{pattern:re(/\b((?:<<0>>\s+<<1>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>)(?:\s*,\s*(?:<<3>>|<<4>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[c,v,g,x,u.source]),lookbehind:!0,inside:{keyword:u,"class-name":{pattern:RegExp(x),greedy:!0,inside:C},punctuation:/,/}},preprocessor:{pattern:/(^\s*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(\s*#)\b(?:define|elif|else|endif|endregion|error|if|line|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var A=O+"|"+_,E=replace(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[A]),T=nested(replace(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[E]),2),D=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,I=replace(/<<0>>(?:\s*\(<<1>>*\))?/.source,[y,T]);o.languages.insertBefore("csharp","class-name",{attribute:{pattern:re(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[D,I]),lookbehind:!0,greedy:!0,inside:{target:{pattern:re(/^<<0>>(?=\s*:)/.source,[D]),alias:"keyword"},"attribute-arguments":{pattern:re(/\(<<0>>*\)/.source,[T]),inside:o.languages.csharp},"class-name":{pattern:RegExp(y),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var N=/:[^}\r\n]+/.source,R=nested(replace(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[E]),2),P=replace(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[R,N]),L=nested(replace(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[A]),2),F=replace(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[L,N]);function createInterpolationInside(i,s){return{interpolation:{pattern:re(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[i]),lookbehind:!0,inside:{"format-string":{pattern:re(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[s,N]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:o.languages.csharp}}},string:/[\s\S]+/}}o.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:re(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[P]),lookbehind:!0,greedy:!0,inside:createInterpolationInside(P,R)},{pattern:re(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[F]),lookbehind:!0,greedy:!0,inside:createInterpolationInside(F,L)}]})}(o),o.languages.dotnet=o.languages.cs=o.languages.csharp}o.exports=csharp,csharp.displayName="csharp",csharp.aliases=["dotnet","cs"]},F5ym:function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=s("Zl/q"),c=a(s("S5OW"));class CheckboxItem extends c.default{constructor(){super(...arguments),this.handleChange=o=>{const{view:i}=this.editor,{tr:s}=i.state,{top:a,left:l}=o.target.getBoundingClientRect(),c=i.posAtCoords({top:a,left:l});if(c){const a=s.setNodeMarkup(c.inside,void 0,{checked:o.target.checked});i.dispatch(a)}}}get name(){return"checkbox_item"}get schema(){return{attrs:{checked:{default:!1}},content:"paragraph block*",defining:!0,draggable:!0,parseDOM:[{tag:`li[data-type="${this.name}"]`,getAttrs:o=>({checked:o.className.includes("checked")})}],toDOM:o=>{const i=document.createElement("input");return i.type="checkbox",i.tabIndex=-1,i.addEventListener("change",this.handleChange),o.attrs.checked&&(i.checked=!0),["li",{"data-type":this.name,class:o.attrs.checked?"checked":void 0},["span",{contentEditable:!1},i],["div",0]]}}}keys({type:o}){return{Enter:l.splitListItem(o),Tab:l.sinkListItem(o),"Shift-Tab":l.liftListItem(o),"Mod-]":l.sinkListItem(o),"Mod-[":l.liftListItem(o)}}toMarkdown(o,i){o.write(i.attrs.checked?"[x] ":"[ ] "),o.renderContent(i)}parseMarkdown(){return{block:"checkbox_item",getAttrs:o=>({checked:!!o.attrGet("checked")||void 0})}}}i.default=CheckboxItem},F6fn:function(o,i,s){"use strict";var a=s("bAF5"),l=s("qTn3"),c=s("Ut8p"),u="data";o.exports=function find(o,i){var s=a(i),m=i,g=c;if(s in o.normal)return o.property[o.normal[s]];s.length>4&&s.slice(0,4)===u&&d.test(i)&&("-"===i.charAt(4)?m=function datasetToProperty(o){var i=o.slice(5).replace(p,camelcase);return u+i.charAt(0).toUpperCase()+i.slice(1)}(i):i=function datasetToAttribute(o){var i=o.slice(4);if(p.test(i))return o;"-"!==(i=i.replace(f,kebab)).charAt(0)&&(i="-"+i);return u+i}(i),g=l);return new g(m,i)};var d=/^data[-\w.:]+$/i,p=/-[a-z]/g,f=/[A-Z]/g;function kebab(o){return"-"+o.toLowerCase()}function camelcase(o){return o.charAt(1).toUpperCase()}},FWC9:function(o,i,s){"use strict";var a=0;function increment(){return Math.pow(2,++a)}i.boolean=increment(),i.booleanish=increment(),i.overloadedBoolean=increment(),i.number=increment(),i.spaceSeparated=increment(),i.commaSeparated=increment(),i.commaOrSpaceSeparated=increment()},FdrX:function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=a(s("vOnD")).default.div`
  height: 24px;
  width: 2px;
  background: ${o=>o.theme.toolbarItem};
  opacity: 0.3;
  display: inline-block;
  margin-left: 10px;
`;i.default=l},GYWy:function(o,i,s){(function(o,a){var l;!function(c){i&&i.nodeType,o&&o.nodeType;var u="object"==typeof a&&a;u.global!==u&&u.window!==u&&u.self;var d,p=2147483647,f=36,m=/^xn--/,g=/[^\x20-\x7E]/,v=/[\x2E\u3002\uFF0E\uFF61]/g,y={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},b=Math.floor,k=String.fromCharCode;function error(o){throw new RangeError(y[o])}function map(o,i){for(var s=o.length,a=[];s--;)a[s]=i(o[s]);return a}function mapDomain(o,i){var s=o.split("@"),a="";return s.length>1&&(a=s[0]+"@",o=s[1]),a+map((o=o.replace(v,".")).split("."),i).join(".")}function ucs2decode(o){for(var i,s,a=[],l=0,c=o.length;l<c;)(i=o.charCodeAt(l++))>=55296&&i<=56319&&l<c?56320==(64512&(s=o.charCodeAt(l++)))?a.push(((1023&i)<<10)+(1023&s)+65536):(a.push(i),l--):a.push(i);return a}function ucs2encode(o){return map(o,(function(o){var i="";return o>65535&&(i+=k((o-=65536)>>>10&1023|55296),o=56320|1023&o),i+=k(o)})).join("")}function digitToBasic(o,i){return o+22+75*(o<26)-((0!=i)<<5)}function adapt(o,i,s){var a=0;for(o=s?b(o/700):o>>1,o+=b(o/i);o>455;a+=f)o=b(o/35);return b(a+36*o/(o+38))}function decode(o){var i,s,a,l,c,u,d,m,g,v,y,k=[],w=o.length,S=0,x=128,C=72;for((s=o.lastIndexOf("-"))<0&&(s=0),a=0;a<s;++a)o.charCodeAt(a)>=128&&error("not-basic"),k.push(o.charCodeAt(a));for(l=s>0?s+1:0;l<w;){for(c=S,u=1,d=f;l>=w&&error("invalid-input"),((m=(y=o.charCodeAt(l++))-48<10?y-22:y-65<26?y-65:y-97<26?y-97:f)>=f||m>b((p-S)/u))&&error("overflow"),S+=m*u,!(m<(g=d<=C?1:d>=C+26?26:d-C));d+=f)u>b(p/(v=f-g))&&error("overflow"),u*=v;C=adapt(S-c,i=k.length+1,0==c),b(S/i)>p-x&&error("overflow"),x+=b(S/i),S%=i,k.splice(S++,0,x)}return ucs2encode(k)}function encode(o){var i,s,a,l,c,u,d,m,g,v,y,w,S,x,C,_=[];for(w=(o=ucs2decode(o)).length,i=128,s=0,c=72,u=0;u<w;++u)(y=o[u])<128&&_.push(k(y));for(a=l=_.length,l&&_.push("-");a<w;){for(d=p,u=0;u<w;++u)(y=o[u])>=i&&y<d&&(d=y);for(d-i>b((p-s)/(S=a+1))&&error("overflow"),s+=(d-i)*S,i=d,u=0;u<w;++u)if((y=o[u])<i&&++s>p&&error("overflow"),y==i){for(m=s,g=f;!(m<(v=g<=c?1:g>=c+26?26:g-c));g+=f)C=m-v,x=f-v,_.push(k(digitToBasic(v+C%x,0))),m=b(C/x);_.push(k(digitToBasic(m,0))),c=adapt(s,S,a==l),s=0,++a}++s,++i}return _.join("")}d={version:"1.4.1",ucs2:{decode:ucs2decode,encode:ucs2encode},decode:decode,encode:encode,toASCII:function toASCII(o){return mapDomain(o,(function(o){return g.test(o)?"xn--"+encode(o):o}))},toUnicode:function toUnicode(o){return mapDomain(o,(function(o){return m.test(o)?decode(o.slice(4).toLowerCase()):o}))}},void 0===(l=function(){return d}.call(i,s,i,o))||(o.exports=l)}()}).call(this,s("YuTi")(o),s("yLpj"))},GZ5e:function(o,i,s){"use strict";o.exports=function lheading(o,i,s){var a,l,c,u,d,p,f,m,g,v,y=i+1,b=o.md.block.ruler.getRules("paragraph");if(o.sCount[i]-o.blkIndent>=4)return!1;for(v=o.parentType,o.parentType="paragraph";y<s&&!o.isEmpty(y);y++)if(!(o.sCount[y]-o.blkIndent>3)){if(o.sCount[y]>=o.blkIndent&&(p=o.bMarks[y]+o.tShift[y])<(f=o.eMarks[y])&&(45===(g=o.src.charCodeAt(p))||61===g)&&(p=o.skipChars(p,g),(p=o.skipSpaces(p))>=f)){m=61===g?1:2;break}if(!(o.sCount[y]<0)){for(l=!1,c=0,u=b.length;c<u;c++)if(b[c](o,y,s,!0)){l=!0;break}if(l)break}}return!!m&&(a=o.getLines(i,y,o.blkIndent,!1).trim(),o.line=y+1,(d=o.push("heading_open","h"+String(m),1)).markup=String.fromCharCode(g),d.map=[i,o.line],(d=o.push("inline","",0)).content=a,d.map=[i,o.line-1],d.children=[],(d=o.push("heading_close","h"+String(m),-1)).markup=String.fromCharCode(g),o.parentType=v,!0)}},GhYw:function(o,i,s){"use strict";s.r(i),s.d(i,"GapCursor",(function(){return d})),s.d(i,"gapCursor",(function(){return gapCursor}));var a=s("fwbU"),l=s("UxO+"),c=s("V2qZ"),u=s("MEpN"),d=function(o){function GapCursor(i){o.call(this,i,i)}return o&&(GapCursor.__proto__=o),GapCursor.prototype=Object.create(o&&o.prototype),GapCursor.prototype.constructor=GapCursor,GapCursor.prototype.map=function map(i,s){var a=i.resolve(s.map(this.head));return GapCursor.valid(a)?new GapCursor(a):o.near(a)},GapCursor.prototype.content=function content(){return u.Slice.empty},GapCursor.prototype.eq=function eq(o){return o instanceof GapCursor&&o.head==this.head},GapCursor.prototype.toJSON=function toJSON(){return{type:"gapcursor",pos:this.head}},GapCursor.fromJSON=function fromJSON(o,i){if("number"!=typeof i.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new GapCursor(o.resolve(i.pos))},GapCursor.prototype.getBookmark=function getBookmark(){return new p(this.anchor)},GapCursor.valid=function valid(o){var i=o.parent;if(i.isTextblock||!function closedBefore(o){for(var i=o.depth;i>=0;i--){var s=o.index(i);if(0!=s)for(var a=o.node(i).child(s-1);;a=a.lastChild){if(0==a.childCount&&!a.inlineContent||a.isAtom||a.type.spec.isolating)return!0;if(a.inlineContent)return!1}}return!0}(o)||!function closedAfter(o){for(var i=o.depth;i>=0;i--){var s=o.indexAfter(i),a=o.node(i);if(s!=a.childCount)for(var l=a.child(s);;l=l.firstChild){if(0==l.childCount&&!l.inlineContent||l.isAtom||l.type.spec.isolating)return!0;if(l.inlineContent)return!1}}return!0}(o))return!1;var s=i.type.spec.allowGapCursor;if(null!=s)return s;var a=i.contentMatchAt(o.index()).defaultType;return a&&a.isTextblock},GapCursor.findFrom=function findFrom(o,i,s){e:for(;;){if(!s&&GapCursor.valid(o))return o;for(var a=o.pos,c=null,u=o.depth;;u--){var d=o.node(u);if(i>0?o.indexAfter(u)<d.childCount:o.index(u)>0){c=d.child(i>0?o.indexAfter(u):o.index(u)-1);break}if(0==u)return null;a+=i;var p=o.doc.resolve(a);if(GapCursor.valid(p))return p}for(;;){var f=i>0?c.firstChild:c.lastChild;if(!f){if(c.isAtom&&!c.isText&&!l.NodeSelection.isSelectable(c)){o=o.doc.resolve(a+c.nodeSize*i),s=!1;continue e}break}c=f,a+=i;var m=o.doc.resolve(a);if(GapCursor.valid(m))return m}return null}},GapCursor}(l.Selection);d.prototype.visible=!1,l.Selection.jsonID("gapcursor",d);var p=function GapBookmark(o){this.pos=o};p.prototype.map=function map(o){return new p(o.map(this.pos))},p.prototype.resolve=function resolve(o){var i=o.resolve(this.pos);return d.valid(i)?new d(i):l.Selection.near(i)};var gapCursor=function(){return new l.Plugin({props:{decorations:drawGapCursor,createSelectionBetween:function createSelectionBetween(o,i,s){if(i.pos==s.pos&&d.valid(s))return new d(s)},handleClick:handleClick,handleKeyDown:f}})},f=Object(a.keydownHandler)({ArrowLeft:arrow("horiz",-1),ArrowRight:arrow("horiz",1),ArrowUp:arrow("vert",-1),ArrowDown:arrow("vert",1)});function arrow(o,i){var s="vert"==o?i>0?"down":"up":i>0?"right":"left";return function(o,a,c){var u=o.selection,p=i>0?u.$to:u.$from,f=u.empty;if(u instanceof l.TextSelection){if(!c.endOfTextblock(s)||0==p.depth)return!1;f=!1,p=o.doc.resolve(i>0?p.after():p.before())}var m=d.findFrom(p,i,f);return!!m&&(a&&a(o.tr.setSelection(new d(m))),!0)}}function handleClick(o,i,s){if(!o.editable)return!1;var a=o.state.doc.resolve(i);if(!d.valid(a))return!1;var c=o.posAtCoords({left:s.clientX,top:s.clientY}).inside;return!(c>-1&&l.NodeSelection.isSelectable(o.state.doc.nodeAt(c)))&&(o.dispatch(o.state.tr.setSelection(new d(a))),!0)}function drawGapCursor(o){if(!(o.selection instanceof d))return null;var i=document.createElement("div");return i.className="ProseMirror-gapcursor",c.DecorationSet.create(o.doc,[c.Decoration.widget(o.selection.head,i,{key:"gapcursor"})])}},GqIp:function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=a(s("dGqU"));i.default=function notice(o){return l.default(o,"notice",{marker:":",validate:()=>!0,render:function(i,s){const{info:a}=i[s];return 1===i[s].nesting?`<div class="notice notice-${o.utils.escapeHtml(a)}">\n`:"</div>\n"}})}},H4ZV:function(o,i,s){"use strict";function javascript(o){o.languages.javascript=o.languages.extend("clike",{"class-name":[o.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|(?:get|set)(?=\s*[\[$\w\xA0-\uFFFF])|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),o.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,o.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:o.languages.regex},"regex-flags":/[a-z]+$/,"regex-delimiter":/^\/|\/$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:o.languages.javascript},{pattern:/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,inside:o.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:o.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:o.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),o.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}|(?!\${)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:o.languages.javascript}},string:/[\s\S]+/}}}),o.languages.markup&&o.languages.markup.tag.addInlined("script","javascript"),o.languages.js=o.languages.javascript}o.exports=javascript,javascript.displayName="javascript",javascript.aliases=["js"]},HIsj:function(o,i,s){"use strict";function t(o){return null!=o&&"object"==typeof o&&1===o.nodeType}function e(o,i){return(!i||"hidden"!==o)&&"visible"!==o&&"clip"!==o}function n(o,i){if(o.clientHeight<o.scrollHeight||o.clientWidth<o.scrollWidth){var s=getComputedStyle(o,null);return e(s.overflowY,i)||e(s.overflowX,i)||function(o){var i=function(o){if(!o.ownerDocument||!o.ownerDocument.defaultView)return null;try{return o.ownerDocument.defaultView.frameElement}catch(o){return null}}(o);return!!i&&(i.clientHeight<o.scrollHeight||i.clientWidth<o.scrollWidth)}(o)}return!1}function r(o,i,s,a,l,c,u,d){return c<o&&u>i||c>o&&u<i?0:c<=o&&d<=s||u>=i&&d>=s?c-o-a:u>i&&d<s||c<o&&d>s?u-i+l:0}s.r(i);var index_module=function(o,i){var s=window,a=i.scrollMode,l=i.block,c=i.inline,u=i.boundary,d=i.skipOverflowHiddenElements,p="function"==typeof u?u:function(o){return o!==u};if(!t(o))throw new TypeError("Invalid target");for(var f=document.scrollingElement||document.documentElement,m=[],g=o;t(g)&&p(g);){if((g=g.parentNode)===f){m.push(g);break}g===document.body&&n(g)&&!n(document.documentElement)||n(g,d)&&m.push(g)}for(var v=s.visualViewport?s.visualViewport.width:innerWidth,y=s.visualViewport?s.visualViewport.height:innerHeight,b=window.scrollX||pageXOffset,k=window.scrollY||pageYOffset,w=o.getBoundingClientRect(),S=w.height,x=w.width,C=w.top,_=w.right,O=w.bottom,M=w.left,A="start"===l||"nearest"===l?C:"end"===l?O:C+S/2,E="center"===c?M+x/2:"end"===c?_:M,T=[],D=0;D<m.length;D++){var I=m[D],N=I.getBoundingClientRect(),R=N.height,P=N.width,L=N.top,F=N.right,B=N.bottom,z=N.left;if("if-needed"===a&&C>=0&&M>=0&&O<=y&&_<=v&&C>=L&&O<=B&&M>=z&&_<=F)return T;var j=getComputedStyle(I),$=parseInt(j.borderLeftWidth,10),q=parseInt(j.borderTopWidth,10),V=parseInt(j.borderRightWidth,10),U=parseInt(j.borderBottomWidth,10),W=0,H=0,G="offsetWidth"in I?I.offsetWidth-I.clientWidth-$-V:0,K="offsetHeight"in I?I.offsetHeight-I.clientHeight-q-U:0;if(f===I)W="start"===l?A:"end"===l?A-y:"nearest"===l?r(k,k+y,y,q,U,k+A,k+A+S,S):A-y/2,H="start"===c?E:"center"===c?E-v/2:"end"===c?E-v:r(b,b+v,v,$,V,b+E,b+E+x,x),W=Math.max(0,W+k),H=Math.max(0,H+b);else{W="start"===l?A-L-q:"end"===l?A-B+U+K:"nearest"===l?r(L,B,R,q,U+K,A,A+S,S):A-(L+R/2)+K/2,H="start"===c?E-z-$:"center"===c?E-(z+P/2)+G/2:"end"===c?E-F+V+G:r(z,F,P,$,V+G,E,E+x,x);var J=I.scrollLeft,Z=I.scrollTop;A+=Z-(W=Math.max(0,Math.min(Z+W,I.scrollHeight-R+K))),E+=J-(H=Math.max(0,Math.min(J+H,I.scrollWidth-P+G)))}T.push({el:I,top:W,left:H})}return T};function isOptionsObject(o){return o===Object(o)&&0!==Object.keys(o).length}var a,l=function scrollIntoView(o,i){var s=!o.ownerDocument.documentElement.contains(o);if(isOptionsObject(i)&&"function"==typeof i.behavior)return i.behavior(s?[]:index_module(o,i));if(!s){var a=function getOptions(o){return!1===o?{block:"end",inline:"nearest"}:isOptionsObject(o)?o:{block:"start",inline:"nearest"}}(i);return function defaultBehavior(o,i){void 0===i&&(i="auto");var s="scrollBehavior"in document.body.style;o.forEach((function(o){var a=o.el,l=o.top,c=o.left;a.scroll&&s?a.scroll({top:l,left:c,behavior:i}):(a.scrollTop=l,a.scrollLeft=c)}))}(index_module(o,a),a.behavior)}},c=function now(){return a||(a="performance"in window?performance.now.bind(performance):Date.now),a()};function step(o){var i=c(),s=Math.min((i-o.startTime)/o.duration,1),a=o.ease(s),l=o.startX+(o.x-o.startX)*a,u=o.startY+(o.y-o.startY)*a;o.method(l,u),l!==o.x||u!==o.y?requestAnimationFrame((function(){return step(o)})):o.cb()}function smoothScroll(o,i,s,a,l,u){var d,p,f;void 0===a&&(a=600),void 0===l&&(l=function ease(o){return 1+--o*o*o*o*o}),d=o,p=o.scrollLeft,f=o.scrollTop,step({scrollable:d,method:function method(i,s){o.scrollLeft=i,o.scrollTop=s},startTime:c(),startX:p,startY:f,x:i,y:s,duration:a,ease:l,cb:u})}var u=function es_scroll(o,i){var s=i||{};return function shouldSmoothScroll(o){return o&&!o.behavior||"smooth"===o.behavior}(s)?l(o,{block:s.block,inline:s.inline,scrollMode:s.scrollMode,boundary:s.boundary,behavior:function behavior(o){return Promise.all(o.reduce((function(o,i){var a=i.el,l=i.left,c=i.top,u=a.scrollLeft,d=a.scrollTop;return u===l&&d===c?o:[].concat(o,[new Promise((function(o){return smoothScroll(a,l,c,s.duration,s.ease,(function(){return o({el:a,left:[u,l],top:[d,c]})}))}))])}),[]))}}):Promise.resolve(l(o,i))};i.default=u},HKru:function(o,i,s){"use strict";o.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","text_collapse"]}}}},HUrV:function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=a(s("vOnD")).default.div`
  display: flex;
  flex: ${({auto:o})=>o?"1 1 auto":"initial"};
  flex-direction: ${({column:o})=>o?"column":"row"};
  align-items: ${({align:o})=>o};
  justify-content: ${({justify:o})=>o};
`;i.default=l},"I/Hh":function(o,i,s){"use strict";s.r(i),s.d(i,"dropCursor",(function(){return dropCursor}));var a=s("UxO+"),l=s("CsC6");function dropCursor(o){return void 0===o&&(o={}),new a.Plugin({view:function view(i){return new c(i,o)}})}var c=function DropCursorView(o,i){var s=this;this.editorView=o,this.width=i.width||1,this.color=i.color||"black",this.class=i.class,this.cursorPos=null,this.element=null,this.timeout=null,this.handlers=["dragover","dragend","drop","dragleave"].map((function(i){var handler=function(o){return s[i](o)};return o.dom.addEventListener(i,handler),{name:i,handler:handler}}))};c.prototype.destroy=function destroy(){var o=this;this.handlers.forEach((function(i){var s=i.name,a=i.handler;return o.editorView.dom.removeEventListener(s,a)}))},c.prototype.update=function update(o,i){null!=this.cursorPos&&i.doc!=o.state.doc&&this.updateOverlay()},c.prototype.setCursor=function setCursor(o){o!=this.cursorPos&&(this.cursorPos=o,null==o?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())},c.prototype.updateOverlay=function updateOverlay(){var o,i=this.editorView.state.doc.resolve(this.cursorPos);if(!i.parent.inlineContent){var s=i.nodeBefore,a=i.nodeAfter;if(s||a){var l=this.editorView.nodeDOM(this.cursorPos-(s?s.nodeSize:0)).getBoundingClientRect(),c=s?l.bottom:l.top;s&&a&&(c=(c+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),o={left:l.left,right:l.right,top:c-this.width/2,bottom:c+this.width/2}}}if(!o){var u=this.editorView.coordsAtPos(this.cursorPos);o={left:u.left-this.width/2,right:u.left+this.width/2,top:u.top,bottom:u.bottom}}var d,p,f=this.editorView.dom.offsetParent;if(this.element||(this.element=f.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color),!f||f==document.body&&"static"==getComputedStyle(f).position)d=-pageXOffset,p=-pageYOffset;else{var m=f.getBoundingClientRect();d=m.left-f.scrollLeft,p=m.top-f.scrollTop}this.element.style.left=o.left-d+"px",this.element.style.top=o.top-p+"px",this.element.style.width=o.right-o.left+"px",this.element.style.height=o.bottom-o.top+"px"},c.prototype.scheduleRemoval=function scheduleRemoval(o){var i=this;clearTimeout(this.timeout),this.timeout=setTimeout((function(){return i.setCursor(null)}),o)},c.prototype.dragover=function dragover(o){if(this.editorView.editable){var i=this.editorView.posAtCoords({left:o.clientX,top:o.clientY});if(i){var s=i.pos;this.editorView.dragging&&this.editorView.dragging.slice&&null==(s=Object(l.g)(this.editorView.state.doc,s,this.editorView.dragging.slice))&&(s=i.pos),this.setCursor(s),this.scheduleRemoval(5e3)}}},c.prototype.dragend=function dragend(){this.scheduleRemoval(20)},c.prototype.drop=function drop(){this.scheduleRemoval(20)},c.prototype.dragleave=function dragleave(o){o.target!=this.editorView.dom&&this.editorView.dom.contains(o.relatedTarget)||this.setCursor(null)}},IIUr:function(o,i,s){"use strict";o.exports=function text_collapse(o){var i,s,a=0,l=o.tokens,c=o.tokens.length;for(i=s=0;i<c;i++)l[i].nesting<0&&a--,l[i].level=a,l[i].nesting>0&&a++,"text"===l[i].type&&i+1<c&&"text"===l[i+1].type?l[i+1].content=l[i].content+l[i+1].content:(i!==s&&(l[s]=l[i]),s++);i!==s&&(l.length=s)}},IXBT:function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=s("ABBN"),c=a(s("cohp")),u=a(s("ePCq")),d=a(s("A4aH")),p=a(s("KvXG"));function backticksFor(o,i){const s=/`+/g;let a,l=0;if(o.isText)for(;a=s.exec(o.text);)l=Math.max(l,a[0].length);let c=l>0&&i>0?" `":"`";for(let o=0;o<l;o++)c+="`";return l>0&&i<0&&(c+=" "),c}class Code extends p.default{get name(){return"code_inline"}get schema(){return{excludes:"_",parseDOM:[{tag:"code",preserveWhitespace:!0}],toDOM:()=>["code",{spellCheck:!1}]}}inputRules({type:o}){return[c.default(/(?:^|[^`])(`([^`]+)`)$/,o)]}keys({type:o}){return{"Mod`":l.toggleMark(o),ArrowLeft:u.default(),ArrowRight:d.default()}}get toMarkdown(){return{open:(o,i,s,a)=>backticksFor(s.child(a),-1),close:(o,i,s,a)=>backticksFor(s.child(a-1),1),escape:!1}}parseMarkdown(){return{mark:"code_inline"}}}i.default=Code},J5CR:function(o,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function markdownUnderlines(o){o.inline.ruler2.after("emphasis","underline",(o=>{const i=o.tokens;for(let o=i.length-1;o>0;o--){const s=i[o];"__"===s.markup&&("strong_open"===s.type&&(i[o].tag="underline",i[o].type="underline_open"),"strong_close"===s.type&&(i[o].tag="underline",i[o].type="underline_close"))}return!1}))}},J5yW:function(o,i,s){"use strict";var a=s("1iAE"),l=s("ZONP");o.exports=function alphanumerical(o){return a(o)||l(o)}},JPSe:function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0}),i.renderToHtml=i.serializer=i.parser=i.schema=void 0;const l=s("MEpN"),c=a(s("1ll3")),u=a(s("E4Xm")),d=a(s("qbOK")),p=a(s("Vy+z")),f=a(s("6xFH")),m=a(s("ZvBK")),g=a(s("U1So")),v=a(s("+BFG")),y=a(s("rzgJ")),b=a(s("F5ym")),k=a(s("+iOW")),w=a(s("xnS6")),S=a(s("lkDC")),x=a(s("PCxZ")),C=a(s("MdNu")),_=a(s("Ok6U")),O=a(s("UIsr")),M=a(s("jAMM")),A=a(s("l0hw")),E=a(s("VUPH")),T=a(s("ZzaS")),D=a(s("w4kd")),I=a(s("bFz+")),N=a(s("Qd3+")),R=a(s("IXBT")),P=a(s("AL7K")),L=a(s("Ogsv")),F=a(s("jMYz")),B=a(s("xUGs")),z=a(s("LzEb")),j=a(s("S14j")),$=new c.default([new d.default,new p.default,new w.default,new A.default,new f.default,new m.default,new g.default,new v.default,new y.default,new b.default,new k.default,new _.default,new O.default,new S.default,new x.default,new C.default,new E.default,new T.default,new D.default,new I.default,new N.default,new R.default,new P.default,new L.default,new F.default,new B.default,new z.default,new j.default,new M.default]);i.schema=new l.Schema({nodes:$.nodes,marks:$.marks}),i.parser=$.parser({schema:i.schema}),i.serializer=$.serializer(),i.renderToHtml=u.default},JUC8:function(o,i,s){"use strict";var a=this&&this.__createBinding||(Object.create?function(o,i,s,a){void 0===a&&(a=s),Object.defineProperty(o,a,{enumerable:!0,get:function(){return i[s]}})}:function(o,i,s,a){void 0===a&&(a=s),o[a]=i[s]}),l=this&&this.__setModuleDefault||(Object.create?function(o,i){Object.defineProperty(o,"default",{enumerable:!0,value:i})}:function(o,i){o.default=i}),c=this&&this.__importStar||function(o){if(o&&o.__esModule)return o;var i={};if(null!=o)for(var s in o)"default"!==s&&Object.prototype.hasOwnProperty.call(o,s)&&a(i,o,s);return l(i,o),i},u=this&&this.__rest||function(o,i){var s={};for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&i.indexOf(a)<0&&(s[a]=o[a]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(a=Object.getOwnPropertySymbols(o);l<a.length;l++)i.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(o,a[l])&&(s[a[l]]=o[a[l]])}return s},d=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const p=d(s("9lTW")),f=c(s("q1tI")),m=s("7OqA"),g=d(s("MJIl")),v=d(s("VInb")),y=d(s("Xo1/")),b=d(s("4Efy")),k=d(s("asJW")),w=d(s("0639")),S=d(s("RCnM")),x=d(s("kkDf")),C=d(s("xd2f")),_=d(s("nGLQ")),O=d(s("wq5p")),M=d(s("rbca")),A=d(s("K0ly")),E=d(s("igri")),T=d(s("9mub")),D=d(s("44WW"));function isVisible(o){const{view:i}=o,{selection:s}=i.state;if(!s)return!1;if(s.empty)return!1;if(s.node&&"hr"===s.node.type.name)return!0;if(s.node&&"image"===s.node.type.name)return!0;if(s.node)return!1;const a=s.content().content.content;return g.default(a,(o=>o.content.size))}class SelectionToolbar extends f.Component{constructor(){super(...arguments),this.isActive=!1,this.handleOnCreateLink=async o=>{const{dictionary:i,onCreateLink:s,view:a,onShowToast:l}=this.props;if(!s)return;const{dispatch:c,state:u}=a,{from:d,to:f}=u.selection;p.default(d!==f);const m=`creating#${o}…`,g=u.schema.marks.link;c(a.state.tr.removeMark(d,f,g).addMark(d,f,g.create({href:m}))),D.default(a,o,m,{onCreateLink:s,onShowToast:l,dictionary:i})},this.handleOnSelectLink=({href:o,from:i,to:s})=>{const{view:a}=this.props,{state:l,dispatch:c}=a,u=l.schema.marks.link;c(l.tr.removeMark(i,s,u).addMark(i,s,u.create({href:o})))}}componentDidUpdate(){const o=isVisible(this.props);this.isActive&&!o&&(this.isActive=!1,this.props.onClose()),!this.isActive&&o&&(this.isActive=!0,this.props.onOpen())}render(){const o=this.props,{dictionary:i,onCreateLink:s,isTemplate:a,rtl:l}=o,c=u(o,["dictionary","onCreateLink","isTemplate","rtl"]),{view:d}=c,{state:p}=d,{selection:g}=p,D=A.default(p.schema.nodes.code_block)(p),I=A.default(p.schema.nodes.hr)(p);if(D)return null;const N=E.default(p.selection),R=T.default(p.selection),P=void 0!==N&&void 0!==R,L=O.default(p.schema.marks.link)(p),F=M.default(g.$from,p.schema.marks.link),B=g.node&&"image"===g.node.type.name;let z=[];return z=P?b.default(i):void 0!==N?v.default(p,N,l,i):void 0!==R?y.default(p,R,i):B?w.default(p,i):I?S.default(p,i):k.default(p,a,i),z=z.filter((o=>"separator"===o.name||!(o.name&&!this.props.commands[o.name]))),z.length?f.createElement(m.Portal,null,f.createElement(x.default,{view:d,active:isVisible(this.props)},L&&F?f.createElement(C.default,Object.assign({dictionary:i,mark:F.mark,from:F.from,to:F.to,onCreateLink:s?this.handleOnCreateLink:void 0,onSelectLink:this.handleOnSelectLink},c)):f.createElement(_.default,Object.assign({items:z},c)))):null}}i.default=SelectionToolbar},K0ly:function(o,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const a=s("mG1W");i.default=(o,i={})=>s=>{if(!o)return!1;const l=a.findSelectedNodeOfType(o)(s.selection)||a.findParentNode((i=>i.type===o))(s.selection);return Object.keys(i).length&&l?l.node.hasMarkup(o,Object.assign(Object.assign({},l.node.attrs),i)):!!l}},KKCa:function(o,i){"function"==typeof Object.create?o.exports=function inherits(o,i){o.super_=i,o.prototype=Object.create(i.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}})}:o.exports=function inherits(o,i){o.super_=i;var TempCtor=function(){};TempCtor.prototype=i.prototype,o.prototype=new TempCtor,o.prototype.constructor=o}},KOyK:function(o,i,s){"use strict";var a=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,l=/^<([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)>/;o.exports=function autolink(o,i){var s,c,u,d,p,f,m=o.pos;return 60===o.src.charCodeAt(m)&&(!((s=o.src.slice(m)).indexOf(">")<0)&&(l.test(s)?(d=(c=s.match(l))[0].slice(1,-1),p=o.md.normalizeLink(d),!!o.md.validateLink(p)&&(i||((f=o.push("link_open","a",1)).attrs=[["href",p]],f.markup="autolink",f.info="auto",(f=o.push("text","",0)).content=o.md.normalizeLinkText(d),(f=o.push("link_close","a",-1)).markup="autolink",f.info="auto"),o.pos+=c[0].length,!0)):!!a.test(s)&&(d=(u=s.match(a))[0].slice(1,-1),p=o.md.normalizeLink("mailto:"+d),!!o.md.validateLink(p)&&(i||((f=o.push("link_open","a",1)).attrs=[["href",p]],f.markup="autolink",f.info="auto",(f=o.push("text","",0)).content=o.md.normalizeLinkText(d),(f=o.push("link_close","a",-1)).markup="autolink",f.info="auto"),o.pos+=u[0].length,!0))))}},KSyo:function(o,i,s){"use strict";o.exports=s("bFEn")},Kj7D:function(o,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function isMarkdown(o){const i=o.match(/^```/gm);if(i&&i.length>1)return!0;if(o.match(/\[[^]+\]\(https?:\/\/\S+\)/gm))return!0;if(o.match(/\[[^]+\]\(\/\S+\)/gm))return!0;if(o.match(/^#{1,6}\s+\S+/gm))return!0;const s=o.match(/^[\d-*].?\s\S+/gm);return!!(s&&s.length>1)}},KvXG:function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=s("ABBN"),c=a(s("xqCI"));class Mark extends c.default{get type(){return"mark"}get markdownToken(){return""}get toMarkdown(){return{}}parseMarkdown(){return{}}commands({type:o}){return()=>l.toggleMark(o)}}i.default=Mark},LTnM:function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=s("+V57"),c=a(s("xqCI")),u=new l.InputRule(/->$/,"→");class SmartText extends c.default{get name(){return"smart_text"}inputRules(){return[u,l.ellipsis,...l.smartQuotes]}}i.default=SmartText},LgcO:function(o,i,s){"use strict";s.r(i),s.d(i,"MarkdownParser",(function(){return p})),s.d(i,"MarkdownSerializer",(function(){return m})),s.d(i,"MarkdownSerializerState",(function(){return v})),s.d(i,"defaultMarkdownParser",(function(){return f})),s.d(i,"defaultMarkdownSerializer",(function(){return g})),s.d(i,"schema",(function(){return u}));var a=s("MEpN"),l=s("1M3H"),c=s.n(l),u=new a.Schema({nodes:{doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:function toDOM(){return["p",0]}},blockquote:{content:"block+",group:"block",parseDOM:[{tag:"blockquote"}],toDOM:function toDOM(){return["blockquote",0]}},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:function toDOM(){return["div",["hr"]]}},heading:{attrs:{level:{default:1}},content:"(text | image)*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM:function toDOM(o){return["h"+o.attrs.level,0]}},code_block:{content:"text*",group:"block",code:!0,defining:!0,marks:"",attrs:{params:{default:""}},parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:function(o){return{params:o.getAttribute("data-params")||""}}}],toDOM:function toDOM(o){return["pre",o.attrs.params?{"data-params":o.attrs.params}:{},["code",0]]}},ordered_list:{content:"list_item+",group:"block",attrs:{order:{default:1},tight:{default:!1}},parseDOM:[{tag:"ol",getAttrs:function getAttrs(o){return{order:o.hasAttribute("start")?+o.getAttribute("start"):1,tight:o.hasAttribute("data-tight")}}}],toDOM:function toDOM(o){return["ol",{start:1==o.attrs.order?null:o.attrs.order,"data-tight":o.attrs.tight?"true":null},0]}},bullet_list:{content:"list_item+",group:"block",attrs:{tight:{default:!1}},parseDOM:[{tag:"ul",getAttrs:function(o){return{tight:o.hasAttribute("data-tight")}}}],toDOM:function toDOM(o){return["ul",{"data-tight":o.attrs.tight?"true":null},0]}},list_item:{content:"paragraph block*",defining:!0,parseDOM:[{tag:"li"}],toDOM:function toDOM(){return["li",0]}},text:{group:"inline"},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:function getAttrs(o){return{src:o.getAttribute("src"),title:o.getAttribute("title"),alt:o.getAttribute("alt")}}}],toDOM:function toDOM(o){return["img",o.attrs]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:function toDOM(){return["br"]}}},marks:{em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style",getAttrs:function(o){return"italic"==o&&null}}],toDOM:function toDOM(){return["em"]}},strong:{parseDOM:[{tag:"b"},{tag:"strong"},{style:"font-weight",getAttrs:function(o){return/^(bold(er)?|[5-9]\d{2,})$/.test(o)&&null}}],toDOM:function toDOM(){return["strong"]}},link:{attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function getAttrs(o){return{href:o.getAttribute("href"),title:o.getAttribute("title")}}}],toDOM:function toDOM(o){return["a",o.attrs]}},code:{parseDOM:[{tag:"code"}],toDOM:function toDOM(){return["code"]}}}});var d=function MarkdownParseState(o,i){this.schema=o,this.stack=[{type:o.topNodeType,content:[]}],this.marks=a.Mark.none,this.tokenHandlers=i};function attrs(o,i){return o.getAttrs?o.getAttrs(i):o.attrs instanceof Function?o.attrs(i):o.attrs}function noCloseToken(o,i){return o.noCloseToken||"code_inline"==i||"code_block"==i||"fence"==i}function withoutTrailingNewline(o){return"\n"==o[o.length-1]?o.slice(0,o.length-1):o}function noOp(){}d.prototype.top=function top(){return this.stack[this.stack.length-1]},d.prototype.push=function push(o){this.stack.length&&this.top().content.push(o)},d.prototype.addText=function addText(o){if(o){var i,s=this.top().content,l=s[s.length-1],c=this.schema.text(o,this.marks);l&&(i=function maybeMerge(o,i){if(o.isText&&i.isText&&a.Mark.sameSet(o.marks,i.marks))return o.withText(o.text+i.text)}(l,c))?s[s.length-1]=i:s.push(c)}},d.prototype.openMark=function openMark(o){this.marks=o.addToSet(this.marks)},d.prototype.closeMark=function closeMark(o){this.marks=o.removeFromSet(this.marks)},d.prototype.parseTokens=function parseTokens(o){for(var i=0;i<o.length;i++){var s=o[i],a=this.tokenHandlers[s.type];if(!a)throw new Error("Token type `"+s.type+"` not supported by Markdown parser");a(this,s)}},d.prototype.addNode=function addNode(o,i,s){var a=o.createAndFill(i,s,this.marks);return a?(this.push(a),a):null},d.prototype.openNode=function openNode(o,i){this.stack.push({type:o,attrs:i,content:[]})},d.prototype.closeNode=function closeNode(){this.marks.length&&(this.marks=a.Mark.none);var o=this.stack.pop();return this.addNode(o.type,o.attrs,o.content)};var p=function MarkdownParser(o,i,s){this.tokens=s,this.schema=o,this.tokenizer=i,this.tokenHandlers=function tokenHandlers(o,i){var s=Object.create(null),loop=function(a){var l=i[a];if(l.block){var c=o.nodeType(l.block);noCloseToken(l,a)?s[a]=function(o,i){o.openNode(c,attrs(l,i)),o.addText(withoutTrailingNewline(i.content)),o.closeNode()}:(s[a+"_open"]=function(o,i){return o.openNode(c,attrs(l,i))},s[a+"_close"]=function(o){return o.closeNode()})}else if(l.node){var u=o.nodeType(l.node);s[a]=function(o,i){return o.addNode(u,attrs(l,i))}}else if(l.mark){var d=o.marks[l.mark];noCloseToken(l,a)?s[a]=function(o,i){o.openMark(d.create(attrs(l,i))),o.addText(withoutTrailingNewline(i.content)),o.closeMark(d)}:(s[a+"_open"]=function(o,i){return o.openMark(d.create(attrs(l,i)))},s[a+"_close"]=function(o){return o.closeMark(d)})}else{if(!l.ignore)throw new RangeError("Unrecognized parsing spec "+JSON.stringify(l));noCloseToken(l,a)?s[a]=noOp:(s[a+"_open"]=noOp,s[a+"_close"]=noOp)}};for(var a in i)loop(a);return s.text=function(o,i){return o.addText(i.content)},s.inline=function(o,i){return o.parseTokens(i.children)},s.softbreak=s.softbreak||function(o){return o.addText("\n")},s}(o,s)};p.prototype.parse=function parse(o){var i,s=new d(this.schema,this.tokenHandlers);s.parseTokens(this.tokenizer.parse(o,{}));do{i=s.closeNode()}while(s.stack.length);return i};var f=new p(u,c()("commonmark",{html:!1}),{blockquote:{block:"blockquote"},paragraph:{block:"paragraph"},list_item:{block:"list_item"},bullet_list:{block:"bullet_list"},ordered_list:{block:"ordered_list",getAttrs:function(o){return{order:+o.attrGet("start")||1}}},heading:{block:"heading",getAttrs:function(o){return{level:+o.tag.slice(1)}}},code_block:{block:"code_block",noCloseToken:!0},fence:{block:"code_block",getAttrs:function(o){return{params:o.info||""}},noCloseToken:!0},hr:{node:"horizontal_rule"},image:{node:"image",getAttrs:function(o){return{src:o.attrGet("src"),title:o.attrGet("title")||null,alt:o.children[0]&&o.children[0].content||null}}},hardbreak:{node:"hard_break"},em:{mark:"em"},strong:{mark:"strong"},link:{mark:"link",getAttrs:function(o){return{href:o.attrGet("href"),title:o.attrGet("title")||null}}},code_inline:{mark:"code",noCloseToken:!0}}),m=function MarkdownSerializer(o,i){this.nodes=o,this.marks=i};m.prototype.serialize=function serialize(o,i){var s=new v(this.nodes,this.marks,i);return s.renderContent(o),s.out};var g=new m({blockquote:function blockquote(o,i){o.wrapBlock("> ",null,i,(function(){return o.renderContent(i)}))},code_block:function code_block(o,i){o.write("```"+(i.attrs.params||"")+"\n"),o.text(i.textContent,!1),o.ensureNewLine(),o.write("```"),o.closeBlock(i)},heading:function heading(o,i){o.write(o.repeat("#",i.attrs.level)+" "),o.renderInline(i),o.closeBlock(i)},horizontal_rule:function horizontal_rule(o,i){o.write(i.attrs.markup||"---"),o.closeBlock(i)},bullet_list:function bullet_list(o,i){o.renderList(i,"  ",(function(){return(i.attrs.bullet||"*")+" "}))},ordered_list:function ordered_list(o,i){var s=i.attrs.order||1,a=String(s+i.childCount-1).length,l=o.repeat(" ",a+2);o.renderList(i,l,(function(i){var l=String(s+i);return o.repeat(" ",a-l.length)+l+". "}))},list_item:function list_item(o,i){o.renderContent(i)},paragraph:function paragraph(o,i){o.renderInline(i),o.closeBlock(i)},image:function image(o,i){o.write("!["+o.esc(i.attrs.alt||"")+"]("+o.esc(i.attrs.src)+(i.attrs.title?" "+o.quote(i.attrs.title):"")+")")},hard_break:function hard_break(o,i,s,a){for(var l=a+1;l<s.childCount;l++)if(s.child(l).type!=i.type)return void o.write("\\\n")},text:function text(o,i){o.text(i.text)}},{em:{open:"*",close:"*",mixable:!0,expelEnclosingWhitespace:!0},strong:{open:"**",close:"**",mixable:!0,expelEnclosingWhitespace:!0},link:{open:function open(o,i,s,a){return isPlainURL(i,s,a,1)?"<":"["},close:function close(o,i,s,a){return isPlainURL(i,s,a,-1)?">":"]("+o.esc(i.attrs.href)+(i.attrs.title?" "+o.quote(i.attrs.title):"")+")"}},code:{open:function open(o,i,s,a){return backticksFor(s.child(a),-1)},close:function close(o,i,s,a){return backticksFor(s.child(a-1),1)},escape:!1}});function backticksFor(o,i){var s,a=/`+/g,l=0;if(o.isText)for(;s=a.exec(o.text);)l=Math.max(l,s[0].length);for(var c=l>0&&i>0?" `":"`",u=0;u<l;u++)c+="`";return l>0&&i<0&&(c+=" "),c}function isPlainURL(o,i,s,a){if(o.attrs.title||!/^\w+:/.test(o.attrs.href))return!1;var l=i.child(s+(a<0?-1:0));if(!l.isText||l.text!=o.attrs.href||l.marks[l.marks.length-1]!=o)return!1;if(s==(a<0?1:i.childCount-1))return!0;var c=i.child(s+(a<0?-2:1));return!o.isInSet(c.marks)}var v=function MarkdownSerializerState(o,i,s){this.nodes=o,this.marks=i,this.delim=this.out="",this.closed=!1,this.inTightList=!1,this.options=s||{},void 0===this.options.tightLists&&(this.options.tightLists=!1)};v.prototype.flushClose=function flushClose(o){if(this.closed){if(this.atBlank()||(this.out+="\n"),null==o&&(o=2),o>1){var i=this.delim,s=/\s+$/.exec(i);s&&(i=i.slice(0,i.length-s[0].length));for(var a=1;a<o;a++)this.out+=i+"\n"}this.closed=!1}},v.prototype.wrapBlock=function wrapBlock(o,i,s,a){var l=this.delim;this.write(i||o),this.delim+=o,a(),this.delim=l,this.closeBlock(s)},v.prototype.atBlank=function atBlank(){return/(^|\n)$/.test(this.out)},v.prototype.ensureNewLine=function ensureNewLine(){this.atBlank()||(this.out+="\n")},v.prototype.write=function write(o){this.flushClose(),this.delim&&this.atBlank()&&(this.out+=this.delim),o&&(this.out+=o)},v.prototype.closeBlock=function closeBlock(o){this.closed=o},v.prototype.text=function text(o,i){for(var s=o.split("\n"),a=0;a<s.length;a++){var l=this.atBlank()||this.closed;this.write(),this.out+=!1!==i?this.esc(s[a],l):s[a],a!=s.length-1&&(this.out+="\n")}},v.prototype.render=function render(o,i,s){if("number"==typeof i)throw new Error("!");this.nodes[o.type.name](this,o,i,s)},v.prototype.renderContent=function renderContent(o){var i=this;o.forEach((function(s,a,l){return i.render(s,o,l)}))},v.prototype.renderInline=function renderInline(o){var i=this,s=[],a="",progress=function(l,c,u){var d=l?l.marks:[];l&&"hard_break"===l.type.name&&(d=d.filter((function(i){if(u+1==o.childCount)return!1;var s=o.child(u+1);return i.isInSet(s.marks)&&(!s.isText||/\S/.test(s.text))})));var p=a;if(a="",l&&l.isText&&d.some((function(o){var s=i.marks[o.type.name];return s&&s.expelEnclosingWhitespace}))){var f=/^(\s*)(.*?)(\s*)$/m.exec(l.text),m=(f[0],f[1]),g=f[2],v=f[3];p+=m,a=v,(m||v)&&((l=g?l.withText(g):null)||(d=s))}var y=d.length&&d[d.length-1],b=y&&!1===i.marks[y.type.name].escape,k=d.length-(b?1:0);e:for(var w=0;w<k;w++){var S=d[w];if(!i.marks[S.type.name].mixable)break;for(var x=0;x<s.length;x++){var C=s[x];if(!i.marks[C.type.name].mixable)break;if(S.eq(C)){w>x?d=d.slice(0,x).concat(S).concat(d.slice(x,w)).concat(d.slice(w+1,k)):x>w&&(d=d.slice(0,w).concat(d.slice(w+1,x)).concat(S).concat(d.slice(x,k)));continue e}}}for(var _=0;_<Math.min(s.length,k)&&d[_].eq(s[_]);)++_;for(;_<s.length;)i.text(i.markString(s.pop(),!1,o,u),!1);if(p&&i.text(p),l){for(;s.length<k;){var O=d[s.length];s.push(O),i.text(i.markString(O,!0,o,u),!1)}b&&l.isText?i.text(i.markString(y,!0,o,u)+l.text+i.markString(y,!1,o,u+1),!1):i.render(l,o,u)}};o.forEach(progress),progress(null,0,o.childCount)},v.prototype.renderList=function renderList(o,i,s){var a=this;this.closed&&this.closed.type==o.type?this.flushClose(3):this.inTightList&&this.flushClose(1);var l=void 0!==o.attrs.tight?o.attrs.tight:this.options.tightLists,c=this.inTightList;this.inTightList=l,o.forEach((function(c,u,d){d&&l&&a.flushClose(1),a.wrapBlock(i,s(d),o,(function(){return a.render(c,o,d)}))})),this.inTightList=c},v.prototype.esc=function esc(o,i){return o=o.replace(/[`*\\~\[\]]/g,"\\$&"),i&&(o=o.replace(/^[:#\-*+]/,"\\$&").replace(/^(\d+)\./,"$1\\.")),o},v.prototype.quote=function quote(o){var i=-1==o.indexOf('"')?'""':-1==o.indexOf("'")?"''":"()";return i[0]+o+i[1]},v.prototype.repeat=function repeat(o,i){for(var s="",a=0;a<i;a++)s+=o;return s},v.prototype.markString=function markString(o,i,s,a){var l=this.marks[o.type.name],c=i?l.open:l.close;return"string"==typeof c?c:c(this,o,s,a)},v.prototype.getEnclosingWhitespace=function getEnclosingWhitespace(o){return{leading:(o.match(/^(\s+)/)||[])[0],trailing:(o.match(/(\s+)$/)||[])[0]}}},LwF5:function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=s("ABBN"),c=a(s("K0ly"));i.default=function toggleBlockType(o,i,s={}){return(a,u)=>c.default(o,s)(a)?l.setBlockType(i)(a,u):l.setBlockType(o,s)(a,u)}},LzEb:function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=s("UxO+"),c=a(s("rbca")),u=a(s("KvXG"));class Placeholder extends u.default{get name(){return"placeholder"}get schema(){return{parseDOM:[{tag:"span.template-placeholder"}],toDOM:()=>["span",{class:"template-placeholder"}]}}get toMarkdown(){return{open:"!!",close:"!!",mixable:!0,expelEnclosingWhitespace:!0}}parseMarkdown(){return{mark:"placeholder"}}get plugins(){return[new l.Plugin({props:{handleTextInput:(o,i,s,a)=>{if(this.editor.props.template)return!1;const{state:u,dispatch:d}=o,p=u.doc.resolve(i),f=c.default(p,u.schema.marks.placeholder);if(!f)return!1;const m=Math.min(i,f.from),g=Math.max(s,f.to);d(u.tr.removeMark(f.from,f.to,u.schema.marks.placeholder).insertText(a,m,g));const v=o.state.doc.resolve(m+a.length);return d(o.state.tr.setSelection(l.TextSelection.near(v))),!0},handleKeyDown:(o,i)=>{if(!o.props.editable||!o.props.editable(o.state))return!1;if(this.editor.props.template)return!1;if("ArrowLeft"!==i.key&&"ArrowRight"!==i.key&&"Backspace"!==i.key)return!1;const{state:s,dispatch:a}=o;if("Backspace"===i.key){const o=c.default(s.doc.resolve(Math.max(0,s.selection.from-1)),s.schema.marks.placeholder);return!!o&&(a(s.tr.removeMark(o.from,o.to,s.schema.marks.placeholder).insertText("",o.from,o.to)),!0)}if("ArrowLeft"===i.key){const o=c.default(s.doc.resolve(Math.max(0,s.selection.from-1)),s.schema.marks.placeholder);if(!o)return!1;const i=s.doc.resolve(o.from);return a(s.tr.setSelection(l.TextSelection.near(i))),!0}if("ArrowRight"===i.key){const o=c.default(s.selection.$from,s.schema.marks.placeholder);if(!o)return!1;const i=s.doc.resolve(o.to);return a(s.tr.setSelection(l.TextSelection.near(i))),!0}return!1},handleClick:(o,i,s)=>{if(!o.props.editable||!o.props.editable(o.state))return!1;if(this.editor.props.template)return!1;if(s.target instanceof HTMLSpanElement&&s.target.className.includes("template-placeholder")){const{state:i,dispatch:a}=o,u=c.default(i.selection.$from,i.schema.marks.placeholder);if(!u)return!1;s.stopPropagation(),s.preventDefault();const d=i.doc.resolve(u.from);return a(i.tr.setSelection(l.TextSelection.near(d))),!0}return!1}}})]}}i.default=Placeholder},MCLT:function(o,i,s){(function(o){var a=Object.getOwnPropertyDescriptors||function getOwnPropertyDescriptors(o){for(var i=Object.keys(o),s={},a=0;a<i.length;a++)s[i[a]]=Object.getOwnPropertyDescriptor(o,i[a]);return s},l=/%[sdj%]/g;i.format=function(o){if(!isString(o)){for(var i=[],s=0;s<arguments.length;s++)i.push(inspect(arguments[s]));return i.join(" ")}s=1;for(var a=arguments,c=a.length,u=String(o).replace(l,(function(o){if("%%"===o)return"%";if(s>=c)return o;switch(o){case"%s":return String(a[s++]);case"%d":return Number(a[s++]);case"%j":try{return JSON.stringify(a[s++])}catch(o){return"[Circular]"}default:return o}})),d=a[s];s<c;d=a[++s])isNull(d)||!isObject(d)?u+=" "+d:u+=" "+inspect(d);return u},i.deprecate=function(s,a){if(void 0!==o&&!0===o.noDeprecation)return s;if(void 0===o)return function(){return i.deprecate(s,a).apply(this,arguments)};var l=!1;return function deprecated(){if(!l){if(o.throwDeprecation)throw new Error(a);o.traceDeprecation?console.trace(a):console.error(a),l=!0}return s.apply(this,arguments)}};var c,u={};function inspect(o,s){var a={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(a.depth=arguments[2]),arguments.length>=4&&(a.colors=arguments[3]),isBoolean(s)?a.showHidden=s:s&&i._extend(a,s),isUndefined(a.showHidden)&&(a.showHidden=!1),isUndefined(a.depth)&&(a.depth=2),isUndefined(a.colors)&&(a.colors=!1),isUndefined(a.customInspect)&&(a.customInspect=!0),a.colors&&(a.stylize=stylizeWithColor),formatValue(a,o,a.depth)}function stylizeWithColor(o,i){var s=inspect.styles[i];return s?"["+inspect.colors[s][0]+"m"+o+"["+inspect.colors[s][1]+"m":o}function stylizeNoColor(o,i){return o}function formatValue(o,s,a){if(o.customInspect&&s&&isFunction(s.inspect)&&s.inspect!==i.inspect&&(!s.constructor||s.constructor.prototype!==s)){var l=s.inspect(a,o);return isString(l)||(l=formatValue(o,l,a)),l}var c=function formatPrimitive(o,i){if(isUndefined(i))return o.stylize("undefined","undefined");if(isString(i)){var s="'"+JSON.stringify(i).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return o.stylize(s,"string")}if(isNumber(i))return o.stylize(""+i,"number");if(isBoolean(i))return o.stylize(""+i,"boolean");if(isNull(i))return o.stylize("null","null")}(o,s);if(c)return c;var u=Object.keys(s),d=function arrayToHash(o){var i={};return o.forEach((function(o,s){i[o]=!0})),i}(u);if(o.showHidden&&(u=Object.getOwnPropertyNames(s)),isError(s)&&(u.indexOf("message")>=0||u.indexOf("description")>=0))return formatError(s);if(0===u.length){if(isFunction(s)){var p=s.name?": "+s.name:"";return o.stylize("[Function"+p+"]","special")}if(isRegExp(s))return o.stylize(RegExp.prototype.toString.call(s),"regexp");if(isDate(s))return o.stylize(Date.prototype.toString.call(s),"date");if(isError(s))return formatError(s)}var f,m="",g=!1,v=["{","}"];(isArray(s)&&(g=!0,v=["[","]"]),isFunction(s))&&(m=" [Function"+(s.name?": "+s.name:"")+"]");return isRegExp(s)&&(m=" "+RegExp.prototype.toString.call(s)),isDate(s)&&(m=" "+Date.prototype.toUTCString.call(s)),isError(s)&&(m=" "+formatError(s)),0!==u.length||g&&0!=s.length?a<0?isRegExp(s)?o.stylize(RegExp.prototype.toString.call(s),"regexp"):o.stylize("[Object]","special"):(o.seen.push(s),f=g?function formatArray(o,i,s,a,l){for(var c=[],u=0,d=i.length;u<d;++u)hasOwnProperty(i,String(u))?c.push(formatProperty(o,i,s,a,String(u),!0)):c.push("");return l.forEach((function(l){l.match(/^\d+$/)||c.push(formatProperty(o,i,s,a,l,!0))})),c}(o,s,a,d,u):u.map((function(i){return formatProperty(o,s,a,d,i,g)})),o.seen.pop(),function reduceToSingleString(o,i,s){if(o.reduce((function(o,i){return i.indexOf("\n")>=0&&0,o+i.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return s[0]+(""===i?"":i+"\n ")+" "+o.join(",\n  ")+" "+s[1];return s[0]+i+" "+o.join(", ")+" "+s[1]}(f,m,v)):v[0]+m+v[1]}function formatError(o){return"["+Error.prototype.toString.call(o)+"]"}function formatProperty(o,i,s,a,l,c){var u,d,p;if((p=Object.getOwnPropertyDescriptor(i,l)||{value:i[l]}).get?d=p.set?o.stylize("[Getter/Setter]","special"):o.stylize("[Getter]","special"):p.set&&(d=o.stylize("[Setter]","special")),hasOwnProperty(a,l)||(u="["+l+"]"),d||(o.seen.indexOf(p.value)<0?(d=isNull(s)?formatValue(o,p.value,null):formatValue(o,p.value,s-1)).indexOf("\n")>-1&&(d=c?d.split("\n").map((function(o){return"  "+o})).join("\n").substr(2):"\n"+d.split("\n").map((function(o){return"   "+o})).join("\n")):d=o.stylize("[Circular]","special")),isUndefined(u)){if(c&&l.match(/^\d+$/))return d;(u=JSON.stringify(""+l)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(u=u.substr(1,u.length-2),u=o.stylize(u,"name")):(u=u.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),u=o.stylize(u,"string"))}return u+": "+d}function isArray(o){return Array.isArray(o)}function isBoolean(o){return"boolean"==typeof o}function isNull(o){return null===o}function isNumber(o){return"number"==typeof o}function isString(o){return"string"==typeof o}function isUndefined(o){return void 0===o}function isRegExp(o){return isObject(o)&&"[object RegExp]"===objectToString(o)}function isObject(o){return"object"==typeof o&&null!==o}function isDate(o){return isObject(o)&&"[object Date]"===objectToString(o)}function isError(o){return isObject(o)&&("[object Error]"===objectToString(o)||o instanceof Error)}function isFunction(o){return"function"==typeof o}function objectToString(o){return Object.prototype.toString.call(o)}function pad(o){return o<10?"0"+o.toString(10):o.toString(10)}i.debuglog=function(s){if(isUndefined(c)&&(c=o.env.NODE_DEBUG||""),s=s.toUpperCase(),!u[s])if(new RegExp("\\b"+s+"\\b","i").test(c)){var a=o.pid;u[s]=function(){var o=i.format.apply(i,arguments);console.error("%s %d: %s",s,a,o)}}else u[s]=function(){};return u[s]},i.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},i.isArray=isArray,i.isBoolean=isBoolean,i.isNull=isNull,i.isNullOrUndefined=function isNullOrUndefined(o){return null==o},i.isNumber=isNumber,i.isString=isString,i.isSymbol=function isSymbol(o){return"symbol"==typeof o},i.isUndefined=isUndefined,i.isRegExp=isRegExp,i.isObject=isObject,i.isDate=isDate,i.isError=isError,i.isFunction=isFunction,i.isPrimitive=function isPrimitive(o){return null===o||"boolean"==typeof o||"number"==typeof o||"string"==typeof o||"symbol"==typeof o||void 0===o},i.isBuffer=s("1gqn");var d=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function timestamp(){var o=new Date,i=[pad(o.getHours()),pad(o.getMinutes()),pad(o.getSeconds())].join(":");return[o.getDate(),d[o.getMonth()],i].join(" ")}function hasOwnProperty(o,i){return Object.prototype.hasOwnProperty.call(o,i)}i.log=function(){console.log("%s - %s",timestamp(),i.format.apply(i,arguments))},i.inherits=s("KKCa"),i._extend=function(o,i){if(!i||!isObject(i))return o;for(var s=Object.keys(i),a=s.length;a--;)o[s[a]]=i[s[a]];return o};var p="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function callbackifyOnRejected(o,i){if(!o){var s=new Error("Promise was rejected with a falsy value");s.reason=o,o=s}return i(o)}i.promisify=function promisify(o){if("function"!=typeof o)throw new TypeError('The "original" argument must be of type Function');if(p&&o[p]){var i;if("function"!=typeof(i=o[p]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(i,p,{value:i,enumerable:!1,writable:!1,configurable:!0}),i}function i(){for(var i,s,a=new Promise((function(o,a){i=o,s=a})),l=[],c=0;c<arguments.length;c++)l.push(arguments[c]);l.push((function(o,a){o?s(o):i(a)}));try{o.apply(this,l)}catch(o){s(o)}return a}return Object.setPrototypeOf(i,Object.getPrototypeOf(o)),p&&Object.defineProperty(i,p,{value:i,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(i,a(o))},i.promisify.custom=p,i.callbackify=function callbackify(i){if("function"!=typeof i)throw new TypeError('The "original" argument must be of type Function');function callbackified(){for(var s=[],a=0;a<arguments.length;a++)s.push(arguments[a]);var l=s.pop();if("function"!=typeof l)throw new TypeError("The last argument must be of type Function");var c=this,cb=function(){return l.apply(c,arguments)};i.apply(this,s).then((function(i){o.nextTick(cb,null,i)}),(function(i){o.nextTick(callbackifyOnRejected,i,cb)}))}return Object.setPrototypeOf(callbackified,Object.getPrototypeOf(i)),Object.defineProperties(callbackified,a(i)),callbackified}}).call(this,s("8oxB"))},MEpN:function(o,i,s){"use strict";function OrderedMap(o){this.content=o}s.r(i),s.d(i,"ContentMatch",(function(){return O})),s.d(i,"DOMParser",(function(){return L})),s.d(i,"DOMSerializer",(function(){return V})),s.d(i,"Fragment",(function(){return l})),s.d(i,"Mark",(function(){return d})),s.d(i,"MarkType",(function(){return R})),s.d(i,"Node",(function(){return x})),s.d(i,"NodeRange",(function(){return k})),s.d(i,"NodeType",(function(){return T})),s.d(i,"ReplaceError",(function(){return ReplaceError})),s.d(i,"ResolvedPos",(function(){return m})),s.d(i,"Schema",(function(){return P})),s.d(i,"Slice",(function(){return p})),OrderedMap.prototype={constructor:OrderedMap,find:function(o){for(var i=0;i<this.content.length;i+=2)if(this.content[i]===o)return i;return-1},get:function(o){var i=this.find(o);return-1==i?void 0:this.content[i+1]},update:function(o,i,s){var a=s&&s!=o?this.remove(s):this,l=a.find(o),c=a.content.slice();return-1==l?c.push(s||o,i):(c[l+1]=i,s&&(c[l]=s)),new OrderedMap(c)},remove:function(o){var i=this.find(o);if(-1==i)return this;var s=this.content.slice();return s.splice(i,2),new OrderedMap(s)},addToStart:function(o,i){return new OrderedMap([o,i].concat(this.remove(o).content))},addToEnd:function(o,i){var s=this.remove(o).content.slice();return s.push(o,i),new OrderedMap(s)},addBefore:function(o,i,s){var a=this.remove(i),l=a.content.slice(),c=a.find(o);return l.splice(-1==c?l.length:c,0,i,s),new OrderedMap(l)},forEach:function(o){for(var i=0;i<this.content.length;i+=2)o(this.content[i],this.content[i+1])},prepend:function(o){return(o=OrderedMap.from(o)).size?new OrderedMap(o.content.concat(this.subtract(o).content)):this},append:function(o){return(o=OrderedMap.from(o)).size?new OrderedMap(this.subtract(o).content.concat(o.content)):this},subtract:function(o){var i=this;o=OrderedMap.from(o);for(var s=0;s<o.content.length;s+=2)i=i.remove(o.content[s]);return i},get size(){return this.content.length>>1}},OrderedMap.from=function(o){if(o instanceof OrderedMap)return o;var i=[];if(o)for(var s in o)i.push(s,o[s]);return new OrderedMap(i)};var a=OrderedMap;function findDiffStart(o,i,s){for(var a=0;;a++){if(a==o.childCount||a==i.childCount)return o.childCount==i.childCount?null:s;var l=o.child(a),c=i.child(a);if(l!=c){if(!l.sameMarkup(c))return s;if(l.isText&&l.text!=c.text){for(var u=0;l.text[u]==c.text[u];u++)s++;return s}if(l.content.size||c.content.size){var d=findDiffStart(l.content,c.content,s+1);if(null!=d)return d}s+=l.nodeSize}else s+=l.nodeSize}}function findDiffEnd(o,i,s,a){for(var l=o.childCount,c=i.childCount;;){if(0==l||0==c)return l==c?null:{a:s,b:a};var u=o.child(--l),d=i.child(--c),p=u.nodeSize;if(u!=d){if(!u.sameMarkup(d))return{a:s,b:a};if(u.isText&&u.text!=d.text){for(var f=0,m=Math.min(u.text.length,d.text.length);f<m&&u.text[u.text.length-f-1]==d.text[d.text.length-f-1];)f++,s--,a--;return{a:s,b:a}}if(u.content.size||d.content.size){var g=findDiffEnd(u.content,d.content,s-1,a-1);if(g)return g}s-=p,a-=p}else s-=p,a-=p}}var l=function Fragment(o,i){if(this.content=o,this.size=i||0,null==i)for(var s=0;s<o.length;s++)this.size+=o[s].nodeSize},c={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};l.prototype.nodesBetween=function nodesBetween(o,i,s,a,l){void 0===a&&(a=0);for(var c=0,u=0;u<i;c++){var d=this.content[c],p=u+d.nodeSize;if(p>o&&!1!==s(d,a+u,l,c)&&d.content.size){var f=u+1;d.nodesBetween(Math.max(0,o-f),Math.min(d.content.size,i-f),s,a+f)}u=p}},l.prototype.descendants=function descendants(o){this.nodesBetween(0,this.size,o)},l.prototype.textBetween=function textBetween(o,i,s,a){var l="",c=!0;return this.nodesBetween(o,i,(function(u,d){u.isText?(l+=u.text.slice(Math.max(o,d)-d,i-d),c=!s):u.isLeaf&&a?(l+=a,c=!s):!c&&u.isBlock&&(l+=s,c=!0)}),0),l},l.prototype.append=function append(o){if(!o.size)return this;if(!this.size)return o;var i=this.lastChild,s=o.firstChild,a=this.content.slice(),c=0;for(i.isText&&i.sameMarkup(s)&&(a[a.length-1]=i.withText(i.text+s.text),c=1);c<o.content.length;c++)a.push(o.content[c]);return new l(a,this.size+o.size)},l.prototype.cut=function cut(o,i){if(null==i&&(i=this.size),0==o&&i==this.size)return this;var s=[],a=0;if(i>o)for(var c=0,u=0;u<i;c++){var d=this.content[c],p=u+d.nodeSize;p>o&&((u<o||p>i)&&(d=d.isText?d.cut(Math.max(0,o-u),Math.min(d.text.length,i-u)):d.cut(Math.max(0,o-u-1),Math.min(d.content.size,i-u-1))),s.push(d),a+=d.nodeSize),u=p}return new l(s,a)},l.prototype.cutByIndex=function cutByIndex(o,i){return o==i?l.empty:0==o&&i==this.content.length?this:new l(this.content.slice(o,i))},l.prototype.replaceChild=function replaceChild(o,i){var s=this.content[o];if(s==i)return this;var a=this.content.slice(),c=this.size+i.nodeSize-s.nodeSize;return a[o]=i,new l(a,c)},l.prototype.addToStart=function addToStart(o){return new l([o].concat(this.content),this.size+o.nodeSize)},l.prototype.addToEnd=function addToEnd(o){return new l(this.content.concat(o),this.size+o.nodeSize)},l.prototype.eq=function eq(o){if(this.content.length!=o.content.length)return!1;for(var i=0;i<this.content.length;i++)if(!this.content[i].eq(o.content[i]))return!1;return!0},c.firstChild.get=function(){return this.content.length?this.content[0]:null},c.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null},c.childCount.get=function(){return this.content.length},l.prototype.child=function child(o){var i=this.content[o];if(!i)throw new RangeError("Index "+o+" out of range for "+this);return i},l.prototype.maybeChild=function maybeChild(o){return this.content[o]},l.prototype.forEach=function forEach(o){for(var i=0,s=0;i<this.content.length;i++){var a=this.content[i];o(a,s,i),s+=a.nodeSize}},l.prototype.findDiffStart=function findDiffStart$1(o,i){return void 0===i&&(i=0),findDiffStart(this,o,i)},l.prototype.findDiffEnd=function findDiffEnd$1(o,i,s){return void 0===i&&(i=this.size),void 0===s&&(s=o.size),findDiffEnd(this,o,i,s)},l.prototype.findIndex=function findIndex(o,i){if(void 0===i&&(i=-1),0==o)return retIndex(0,o);if(o==this.size)return retIndex(this.content.length,o);if(o>this.size||o<0)throw new RangeError("Position "+o+" outside of fragment ("+this+")");for(var s=0,a=0;;s++){var l=a+this.child(s).nodeSize;if(l>=o)return l==o||i>0?retIndex(s+1,l):retIndex(s,a);a=l}},l.prototype.toString=function toString(){return"<"+this.toStringInner()+">"},l.prototype.toStringInner=function toStringInner(){return this.content.join(", ")},l.prototype.toJSON=function toJSON(){return this.content.length?this.content.map((function(o){return o.toJSON()})):null},l.fromJSON=function fromJSON(o,i){if(!i)return l.empty;if(!Array.isArray(i))throw new RangeError("Invalid input for Fragment.fromJSON");return new l(i.map(o.nodeFromJSON))},l.fromArray=function fromArray(o){if(!o.length)return l.empty;for(var i,s=0,a=0;a<o.length;a++){var c=o[a];s+=c.nodeSize,a&&c.isText&&o[a-1].sameMarkup(c)?(i||(i=o.slice(0,a)),i[i.length-1]=c.withText(i[i.length-1].text+c.text)):i&&i.push(c)}return new l(i||o,s)},l.from=function from(o){if(!o)return l.empty;if(o instanceof l)return o;if(Array.isArray(o))return this.fromArray(o);if(o.attrs)return new l([o],o.nodeSize);throw new RangeError("Can not convert "+o+" to a Fragment"+(o.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))},Object.defineProperties(l.prototype,c);var u={index:0,offset:0};function retIndex(o,i){return u.index=o,u.offset=i,u}function compareDeep(o,i){if(o===i)return!0;if(!o||"object"!=typeof o||!i||"object"!=typeof i)return!1;var s=Array.isArray(o);if(Array.isArray(i)!=s)return!1;if(s){if(o.length!=i.length)return!1;for(var a=0;a<o.length;a++)if(!compareDeep(o[a],i[a]))return!1}else{for(var l in o)if(!(l in i)||!compareDeep(o[l],i[l]))return!1;for(var c in i)if(!(c in o))return!1}return!0}l.empty=new l([],0);var d=function Mark(o,i){this.type=o,this.attrs=i};function ReplaceError(o){var i=Error.call(this,o);return i.__proto__=ReplaceError.prototype,i}d.prototype.addToSet=function addToSet(o){for(var i,s=!1,a=0;a<o.length;a++){var l=o[a];if(this.eq(l))return o;if(this.type.excludes(l.type))i||(i=o.slice(0,a));else{if(l.type.excludes(this.type))return o;!s&&l.type.rank>this.type.rank&&(i||(i=o.slice(0,a)),i.push(this),s=!0),i&&i.push(l)}}return i||(i=o.slice()),s||i.push(this),i},d.prototype.removeFromSet=function removeFromSet(o){for(var i=0;i<o.length;i++)if(this.eq(o[i]))return o.slice(0,i).concat(o.slice(i+1));return o},d.prototype.isInSet=function isInSet(o){for(var i=0;i<o.length;i++)if(this.eq(o[i]))return!0;return!1},d.prototype.eq=function eq(o){return this==o||this.type==o.type&&compareDeep(this.attrs,o.attrs)},d.prototype.toJSON=function toJSON(){var o={type:this.type.name};for(var i in this.attrs){o.attrs=this.attrs;break}return o},d.fromJSON=function fromJSON(o,i){if(!i)throw new RangeError("Invalid input for Mark.fromJSON");var s=o.marks[i.type];if(!s)throw new RangeError("There is no mark type "+i.type+" in this schema");return s.create(i.attrs)},d.sameSet=function sameSet(o,i){if(o==i)return!0;if(o.length!=i.length)return!1;for(var s=0;s<o.length;s++)if(!o[s].eq(i[s]))return!1;return!0},d.setFrom=function setFrom(o){if(!o||0==o.length)return d.none;if(o instanceof d)return[o];var i=o.slice();return i.sort((function(o,i){return o.type.rank-i.type.rank})),i},d.none=[],ReplaceError.prototype=Object.create(Error.prototype),ReplaceError.prototype.constructor=ReplaceError,ReplaceError.prototype.name="ReplaceError";var p=function Slice(o,i,s){this.content=o,this.openStart=i,this.openEnd=s},f={size:{configurable:!0}};function removeRange(o,i,s){var a=o.findIndex(i),l=a.index,c=a.offset,u=o.maybeChild(l),d=o.findIndex(s),p=d.index,f=d.offset;if(c==i||u.isText){if(f!=s&&!o.child(p).isText)throw new RangeError("Removing non-flat range");return o.cut(0,i).append(o.cut(s))}if(l!=p)throw new RangeError("Removing non-flat range");return o.replaceChild(l,u.copy(removeRange(u.content,i-c-1,s-c-1)))}function insertInto(o,i,s,a){var l=o.findIndex(i),c=l.index,u=l.offset,d=o.maybeChild(c);if(u==i||d.isText)return a&&!a.canReplace(c,c,s)?null:o.cut(0,i).append(s).append(o.cut(i));var p=insertInto(d.content,i-u-1,s);return p&&o.replaceChild(c,d.copy(p))}function replace(o,i,s){if(s.openStart>o.depth)throw new ReplaceError("Inserted content deeper than insertion position");if(o.depth-s.openStart!=i.depth-s.openEnd)throw new ReplaceError("Inconsistent open depths");return replaceOuter(o,i,s,0)}function replaceOuter(o,i,s,a){var c=o.index(a),u=o.node(a);if(c==i.index(a)&&a<o.depth-s.openStart){var d=replaceOuter(o,i,s,a+1);return u.copy(u.content.replaceChild(c,d))}if(s.content.size){if(s.openStart||s.openEnd||o.depth!=a||i.depth!=a){var p=function prepareSliceForReplace(o,i){for(var s=i.depth-o.openStart,a=i.node(s).copy(o.content),c=s-1;c>=0;c--)a=i.node(c).copy(l.from(a));return{start:a.resolveNoCache(o.openStart+s),end:a.resolveNoCache(a.content.size-o.openEnd-s)}}(s,o);return index_es_close(u,replaceThreeWay(o,p.start,p.end,i,a))}var f=o.parent,m=f.content;return index_es_close(f,m.cut(0,o.parentOffset).append(s.content).append(m.cut(i.parentOffset)))}return index_es_close(u,replaceTwoWay(o,i,a))}function checkJoin(o,i){if(!i.type.compatibleContent(o.type))throw new ReplaceError("Cannot join "+i.type.name+" onto "+o.type.name)}function joinable(o,i,s){var a=o.node(s);return checkJoin(a,i.node(s)),a}function addNode(o,i){var s=i.length-1;s>=0&&o.isText&&o.sameMarkup(i[s])?i[s]=o.withText(i[s].text+o.text):i.push(o)}function addRange(o,i,s,a){var l=(i||o).node(s),c=0,u=i?i.index(s):l.childCount;o&&(c=o.index(s),o.depth>s?c++:o.textOffset&&(addNode(o.nodeAfter,a),c++));for(var d=c;d<u;d++)addNode(l.child(d),a);i&&i.depth==s&&i.textOffset&&addNode(i.nodeBefore,a)}function index_es_close(o,i){if(!o.type.validContent(i))throw new ReplaceError("Invalid content for node "+o.type.name);return o.copy(i)}function replaceThreeWay(o,i,s,a,c){var u=o.depth>c&&joinable(o,i,c+1),d=a.depth>c&&joinable(s,a,c+1),p=[];return addRange(null,o,c,p),u&&d&&i.index(c)==s.index(c)?(checkJoin(u,d),addNode(index_es_close(u,replaceThreeWay(o,i,s,a,c+1)),p)):(u&&addNode(index_es_close(u,replaceTwoWay(o,i,c+1)),p),addRange(i,s,c,p),d&&addNode(index_es_close(d,replaceTwoWay(s,a,c+1)),p)),addRange(a,null,c,p),new l(p)}function replaceTwoWay(o,i,s){var a=[];(addRange(null,o,s,a),o.depth>s)&&addNode(index_es_close(joinable(o,i,s+1),replaceTwoWay(o,i,s+1)),a);return addRange(i,null,s,a),new l(a)}f.size.get=function(){return this.content.size-this.openStart-this.openEnd},p.prototype.insertAt=function insertAt(o,i){var s=insertInto(this.content,o+this.openStart,i,null);return s&&new p(s,this.openStart,this.openEnd)},p.prototype.removeBetween=function removeBetween(o,i){return new p(removeRange(this.content,o+this.openStart,i+this.openStart),this.openStart,this.openEnd)},p.prototype.eq=function eq(o){return this.content.eq(o.content)&&this.openStart==o.openStart&&this.openEnd==o.openEnd},p.prototype.toString=function toString(){return this.content+"("+this.openStart+","+this.openEnd+")"},p.prototype.toJSON=function toJSON(){if(!this.content.size)return null;var o={content:this.content.toJSON()};return this.openStart>0&&(o.openStart=this.openStart),this.openEnd>0&&(o.openEnd=this.openEnd),o},p.fromJSON=function fromJSON(o,i){if(!i)return p.empty;var s=i.openStart||0,a=i.openEnd||0;if("number"!=typeof s||"number"!=typeof a)throw new RangeError("Invalid input for Slice.fromJSON");return new p(l.fromJSON(o,i.content),s,a)},p.maxOpen=function maxOpen(o,i){void 0===i&&(i=!0);for(var s=0,a=0,l=o.firstChild;l&&!l.isLeaf&&(i||!l.type.spec.isolating);l=l.firstChild)s++;for(var c=o.lastChild;c&&!c.isLeaf&&(i||!c.type.spec.isolating);c=c.lastChild)a++;return new p(o,s,a)},Object.defineProperties(p.prototype,f),p.empty=new p(l.empty,0,0);var m=function ResolvedPos(o,i,s){this.pos=o,this.path=i,this.depth=i.length/3-1,this.parentOffset=s},g={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};m.prototype.resolveDepth=function resolveDepth(o){return null==o?this.depth:o<0?this.depth+o:o},g.parent.get=function(){return this.node(this.depth)},g.doc.get=function(){return this.node(0)},m.prototype.node=function node(o){return this.path[3*this.resolveDepth(o)]},m.prototype.index=function index(o){return this.path[3*this.resolveDepth(o)+1]},m.prototype.indexAfter=function indexAfter(o){return o=this.resolveDepth(o),this.index(o)+(o!=this.depth||this.textOffset?1:0)},m.prototype.start=function start(o){return 0==(o=this.resolveDepth(o))?0:this.path[3*o-1]+1},m.prototype.end=function end(o){return o=this.resolveDepth(o),this.start(o)+this.node(o).content.size},m.prototype.before=function before(o){if(!(o=this.resolveDepth(o)))throw new RangeError("There is no position before the top-level node");return o==this.depth+1?this.pos:this.path[3*o-1]},m.prototype.after=function after(o){if(!(o=this.resolveDepth(o)))throw new RangeError("There is no position after the top-level node");return o==this.depth+1?this.pos:this.path[3*o-1]+this.path[3*o].nodeSize},g.textOffset.get=function(){return this.pos-this.path[this.path.length-1]},g.nodeAfter.get=function(){var o=this.parent,i=this.index(this.depth);if(i==o.childCount)return null;var s=this.pos-this.path[this.path.length-1],a=o.child(i);return s?o.child(i).cut(s):a},g.nodeBefore.get=function(){var o=this.index(this.depth),i=this.pos-this.path[this.path.length-1];return i?this.parent.child(o).cut(0,i):0==o?null:this.parent.child(o-1)},m.prototype.posAtIndex=function posAtIndex(o,i){i=this.resolveDepth(i);for(var s=this.path[3*i],a=0==i?0:this.path[3*i-1]+1,l=0;l<o;l++)a+=s.child(l).nodeSize;return a},m.prototype.marks=function marks(){var o=this.parent,i=this.index();if(0==o.content.size)return d.none;if(this.textOffset)return o.child(i).marks;var s=o.maybeChild(i-1),a=o.maybeChild(i);if(!s){var l=s;s=a,a=l}for(var marks=s.marks,c=0;c<marks.length;c++)!1!==marks[c].type.spec.inclusive||a&&marks[c].isInSet(a.marks)||(marks=marks[c--].removeFromSet(marks));return marks},m.prototype.marksAcross=function marksAcross(o){var i=this.parent.maybeChild(this.index());if(!i||!i.isInline)return null;for(var s=i.marks,a=o.parent.maybeChild(o.index()),l=0;l<s.length;l++)!1!==s[l].type.spec.inclusive||a&&s[l].isInSet(a.marks)||(s=s[l--].removeFromSet(s));return s},m.prototype.sharedDepth=function sharedDepth(o){for(var i=this.depth;i>0;i--)if(this.start(i)<=o&&this.end(i)>=o)return i;return 0},m.prototype.blockRange=function blockRange(o,i){if(void 0===o&&(o=this),o.pos<this.pos)return o.blockRange(this);for(var s=this.depth-(this.parent.inlineContent||this.pos==o.pos?1:0);s>=0;s--)if(o.pos<=this.end(s)&&(!i||i(this.node(s))))return new k(this,o,s)},m.prototype.sameParent=function sameParent(o){return this.pos-this.parentOffset==o.pos-o.parentOffset},m.prototype.max=function max(o){return o.pos>this.pos?o:this},m.prototype.min=function min(o){return o.pos<this.pos?o:this},m.prototype.toString=function toString(){for(var o="",i=1;i<=this.depth;i++)o+=(o?"/":"")+this.node(i).type.name+"_"+this.index(i-1);return o+":"+this.parentOffset},m.resolve=function resolve(o,i){if(!(i>=0&&i<=o.content.size))throw new RangeError("Position "+i+" out of range");for(var s=[],a=0,l=i,c=o;;){var u=c.content.findIndex(l),d=u.index,p=u.offset,f=l-p;if(s.push(c,d,a+p),!f)break;if((c=c.child(d)).isText)break;l=f-1,a+=p+1}return new m(i,s,l)},m.resolveCached=function resolveCached(o,i){for(var s=0;s<v.length;s++){var a=v[s];if(a.pos==i&&a.doc==o)return a}var l=v[y]=m.resolve(o,i);return y=(y+1)%b,l},Object.defineProperties(m.prototype,g);var v=[],y=0,b=12,k=function NodeRange(o,i,s){this.$from=o,this.$to=i,this.depth=s},w={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};w.start.get=function(){return this.$from.before(this.depth+1)},w.end.get=function(){return this.$to.after(this.depth+1)},w.parent.get=function(){return this.$from.node(this.depth)},w.startIndex.get=function(){return this.$from.index(this.depth)},w.endIndex.get=function(){return this.$to.indexAfter(this.depth)},Object.defineProperties(k.prototype,w);var S=Object.create(null),x=function Node(o,i,s,a){this.type=o,this.attrs=i,this.content=s||l.empty,this.marks=a||d.none},C={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};C.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size},C.childCount.get=function(){return this.content.childCount},x.prototype.child=function child(o){return this.content.child(o)},x.prototype.maybeChild=function maybeChild(o){return this.content.maybeChild(o)},x.prototype.forEach=function forEach(o){this.content.forEach(o)},x.prototype.nodesBetween=function nodesBetween(o,i,s,a){void 0===a&&(a=0),this.content.nodesBetween(o,i,s,a,this)},x.prototype.descendants=function descendants(o){this.nodesBetween(0,this.content.size,o)},C.textContent.get=function(){return this.textBetween(0,this.content.size,"")},x.prototype.textBetween=function textBetween(o,i,s,a){return this.content.textBetween(o,i,s,a)},C.firstChild.get=function(){return this.content.firstChild},C.lastChild.get=function(){return this.content.lastChild},x.prototype.eq=function eq(o){return this==o||this.sameMarkup(o)&&this.content.eq(o.content)},x.prototype.sameMarkup=function sameMarkup(o){return this.hasMarkup(o.type,o.attrs,o.marks)},x.prototype.hasMarkup=function hasMarkup(o,i,s){return this.type==o&&compareDeep(this.attrs,i||o.defaultAttrs||S)&&d.sameSet(this.marks,s||d.none)},x.prototype.copy=function copy(o){return void 0===o&&(o=null),o==this.content?this:new this.constructor(this.type,this.attrs,o,this.marks)},x.prototype.mark=function mark(o){return o==this.marks?this:new this.constructor(this.type,this.attrs,this.content,o)},x.prototype.cut=function cut(o,i){return 0==o&&i==this.content.size?this:this.copy(this.content.cut(o,i))},x.prototype.slice=function slice(o,i,s){if(void 0===i&&(i=this.content.size),void 0===s&&(s=!1),o==i)return p.empty;var a=this.resolve(o),l=this.resolve(i),c=s?0:a.sharedDepth(i),u=a.start(c),d=a.node(c).content.cut(a.pos-u,l.pos-u);return new p(d,a.depth-c,l.depth-c)},x.prototype.replace=function replace$1(o,i,s){return replace(this.resolve(o),this.resolve(i),s)},x.prototype.nodeAt=function nodeAt(o){for(var i=this;;){var s=i.content.findIndex(o),a=s.index,l=s.offset;if(!(i=i.maybeChild(a)))return null;if(l==o||i.isText)return i;o-=l+1}},x.prototype.childAfter=function childAfter(o){var i=this.content.findIndex(o),s=i.index,a=i.offset;return{node:this.content.maybeChild(s),index:s,offset:a}},x.prototype.childBefore=function childBefore(o){if(0==o)return{node:null,index:0,offset:0};var i=this.content.findIndex(o),s=i.index,a=i.offset;if(a<o)return{node:this.content.child(s),index:s,offset:a};var l=this.content.child(s-1);return{node:l,index:s-1,offset:a-l.nodeSize}},x.prototype.resolve=function resolve(o){return m.resolveCached(this,o)},x.prototype.resolveNoCache=function resolveNoCache(o){return m.resolve(this,o)},x.prototype.rangeHasMark=function rangeHasMark(o,i,s){var a=!1;return i>o&&this.nodesBetween(o,i,(function(o){return s.isInSet(o.marks)&&(a=!0),!a})),a},C.isBlock.get=function(){return this.type.isBlock},C.isTextblock.get=function(){return this.type.isTextblock},C.inlineContent.get=function(){return this.type.inlineContent},C.isInline.get=function(){return this.type.isInline},C.isText.get=function(){return this.type.isText},C.isLeaf.get=function(){return this.type.isLeaf},C.isAtom.get=function(){return this.type.isAtom},x.prototype.toString=function toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var o=this.type.name;return this.content.size&&(o+="("+this.content.toStringInner()+")"),wrapMarks(this.marks,o)},x.prototype.contentMatchAt=function contentMatchAt(o){var i=this.type.contentMatch.matchFragment(this.content,0,o);if(!i)throw new Error("Called contentMatchAt on a node with invalid content");return i},x.prototype.canReplace=function canReplace(o,i,s,a,c){void 0===s&&(s=l.empty),void 0===a&&(a=0),void 0===c&&(c=s.childCount);var u=this.contentMatchAt(o).matchFragment(s,a,c),d=u&&u.matchFragment(this.content,i);if(!d||!d.validEnd)return!1;for(var p=a;p<c;p++)if(!this.type.allowsMarks(s.child(p).marks))return!1;return!0},x.prototype.canReplaceWith=function canReplaceWith(o,i,s,a){if(a&&!this.type.allowsMarks(a))return!1;var l=this.contentMatchAt(o).matchType(s),c=l&&l.matchFragment(this.content,i);return!!c&&c.validEnd},x.prototype.canAppend=function canAppend(o){return o.content.size?this.canReplace(this.childCount,this.childCount,o.content):this.type.compatibleContent(o.type)},x.prototype.check=function check(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));this.content.forEach((function(o){return o.check()}))},x.prototype.toJSON=function toJSON(){var o={type:this.type.name};for(var i in this.attrs){o.attrs=this.attrs;break}return this.content.size&&(o.content=this.content.toJSON()),this.marks.length&&(o.marks=this.marks.map((function(o){return o.toJSON()}))),o},x.fromJSON=function fromJSON(o,i){if(!i)throw new RangeError("Invalid input for Node.fromJSON");var s=null;if(i.marks){if(!Array.isArray(i.marks))throw new RangeError("Invalid mark data for Node.fromJSON");s=i.marks.map(o.markFromJSON)}if("text"==i.type){if("string"!=typeof i.text)throw new RangeError("Invalid text node in JSON");return o.text(i.text,s)}var a=l.fromJSON(o,i.content);return o.nodeType(i.type).create(i.attrs,a,s)},Object.defineProperties(x.prototype,C);var _=function(o){function TextNode(i,s,a,l){if(o.call(this,i,s,null,l),!a)throw new RangeError("Empty text nodes are not allowed");this.text=a}o&&(TextNode.__proto__=o),TextNode.prototype=Object.create(o&&o.prototype),TextNode.prototype.constructor=TextNode;var i={textContent:{configurable:!0},nodeSize:{configurable:!0}};return TextNode.prototype.toString=function toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):wrapMarks(this.marks,JSON.stringify(this.text))},i.textContent.get=function(){return this.text},TextNode.prototype.textBetween=function textBetween(o,i){return this.text.slice(o,i)},i.nodeSize.get=function(){return this.text.length},TextNode.prototype.mark=function mark(o){return o==this.marks?this:new TextNode(this.type,this.attrs,this.text,o)},TextNode.prototype.withText=function withText(o){return o==this.text?this:new TextNode(this.type,this.attrs,o,this.marks)},TextNode.prototype.cut=function cut(o,i){return void 0===o&&(o=0),void 0===i&&(i=this.text.length),0==o&&i==this.text.length?this:this.withText(this.text.slice(o,i))},TextNode.prototype.eq=function eq(o){return this.sameMarkup(o)&&this.text==o.text},TextNode.prototype.toJSON=function toJSON(){var i=o.prototype.toJSON.call(this);return i.text=this.text,i},Object.defineProperties(TextNode.prototype,i),TextNode}(x);function wrapMarks(o,i){for(var s=o.length-1;s>=0;s--)i=o[s].type.name+"("+i+")";return i}var O=function ContentMatch(o){this.validEnd=o,this.next=[],this.wrapCache=[]},M={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};O.parse=function parse(o,i){var s=new A(o,i);if(null==s.next)return O.empty;var a=parseExpr(s);s.next&&s.err("Unexpected trailing text");var l=function dfa(o){var i=Object.create(null);return explore(nullFrom(o,0));function explore(s){var a=[];s.forEach((function(i){o[i].forEach((function(i){var s=i.term,l=i.to;if(s){var c=a.indexOf(s),u=c>-1&&a[c+1];nullFrom(o,l).forEach((function(o){u||a.push(s,u=[]),-1==u.indexOf(o)&&u.push(o)}))}}))}));for(var l=i[s.join(",")]=new O(s.indexOf(o.length-1)>-1),c=0;c<a.length;c+=2){var u=a[c+1].sort(cmp);l.next.push(a[c],i[u.join(",")]||explore(u))}return l}}(function nfa(o){var i=[[]];return connect(compile(o,0),node()),i;function node(){return i.push([])-1}function edge(o,s,a){var l={term:a,to:s};return i[o].push(l),l}function connect(o,i){o.forEach((function(o){return o.to=i}))}function compile(o,i){if("choice"==o.type)return o.exprs.reduce((function(o,s){return o.concat(compile(s,i))}),[]);if("seq"==o.type)for(var s=0;;s++){var a=compile(o.exprs[s],i);if(s==o.exprs.length-1)return a;connect(a,i=node())}else{if("star"==o.type){var l=node();return edge(i,l),connect(compile(o.expr,l),l),[edge(l)]}if("plus"==o.type){var c=node();return connect(compile(o.expr,i),c),connect(compile(o.expr,c),c),[edge(c)]}if("opt"==o.type)return[edge(i)].concat(compile(o.expr,i));if("range"==o.type){for(var u=i,d=0;d<o.min;d++){var p=node();connect(compile(o.expr,u),p),u=p}if(-1==o.max)connect(compile(o.expr,u),u);else for(var f=o.min;f<o.max;f++){var m=node();edge(u,m),connect(compile(o.expr,u),m),u=m}return[edge(u)]}if("name"==o.type)return[edge(i,null,o.value)]}}}(a));return function checkForDeadEnds(o,i){for(var s=0,a=[o];s<a.length;s++){for(var l=a[s],c=!l.validEnd,u=[],d=0;d<l.next.length;d+=2){var p=l.next[d],f=l.next[d+1];u.push(p.name),!c||p.isText||p.hasRequiredAttrs()||(c=!1),-1==a.indexOf(f)&&a.push(f)}c&&i.err("Only non-generatable nodes ("+u.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(l,s),l},O.prototype.matchType=function matchType(o){for(var i=0;i<this.next.length;i+=2)if(this.next[i]==o)return this.next[i+1];return null},O.prototype.matchFragment=function matchFragment(o,i,s){void 0===i&&(i=0),void 0===s&&(s=o.childCount);for(var a=this,l=i;a&&l<s;l++)a=a.matchType(o.child(l).type);return a},M.inlineContent.get=function(){var o=this.next[0];return!!o&&o.isInline},M.defaultType.get=function(){for(var o=0;o<this.next.length;o+=2){var i=this.next[o];if(!i.isText&&!i.hasRequiredAttrs())return i}},O.prototype.compatible=function compatible(o){for(var i=0;i<this.next.length;i+=2)for(var s=0;s<o.next.length;s+=2)if(this.next[i]==o.next[s])return!0;return!1},O.prototype.fillBefore=function fillBefore(o,i,s){void 0===i&&(i=!1),void 0===s&&(s=0);var a=[this];return function search(c,u){var d=c.matchFragment(o,s);if(d&&(!i||d.validEnd))return l.from(u.map((function(o){return o.createAndFill()})));for(var p=0;p<c.next.length;p+=2){var f=c.next[p],m=c.next[p+1];if(!f.isText&&!f.hasRequiredAttrs()&&-1==a.indexOf(m)){a.push(m);var g=search(m,u.concat(f));if(g)return g}}}(this,[])},O.prototype.findWrapping=function findWrapping(o){for(var i=0;i<this.wrapCache.length;i+=2)if(this.wrapCache[i]==o)return this.wrapCache[i+1];var s=this.computeWrapping(o);return this.wrapCache.push(o,s),s},O.prototype.computeWrapping=function computeWrapping(o){for(var i=Object.create(null),s=[{match:this,type:null,via:null}];s.length;){var a=s.shift(),l=a.match;if(l.matchType(o)){for(var c=[],u=a;u.type;u=u.via)c.push(u.type);return c.reverse()}for(var d=0;d<l.next.length;d+=2){var p=l.next[d];p.isLeaf||p.hasRequiredAttrs()||p.name in i||a.type&&!l.next[d+1].validEnd||(s.push({match:p.contentMatch,type:p,via:a}),i[p.name]=!0)}}},M.edgeCount.get=function(){return this.next.length>>1},O.prototype.edge=function edge(o){var i=o<<1;if(i>=this.next.length)throw new RangeError("There's no "+o+"th edge in this content match");return{type:this.next[i],next:this.next[i+1]}},O.prototype.toString=function toString(){var o=[];return function scan(i){o.push(i);for(var s=1;s<i.next.length;s+=2)-1==o.indexOf(i.next[s])&&scan(i.next[s])}(this),o.map((function(i,s){for(var a=s+(i.validEnd?"*":" ")+" ",l=0;l<i.next.length;l+=2)a+=(l?", ":"")+i.next[l].name+"->"+o.indexOf(i.next[l+1]);return a})).join("\n")},Object.defineProperties(O.prototype,M),O.empty=new O(!0);var A=function TokenStream(o,i){this.string=o,this.nodeTypes=i,this.inline=null,this.pos=0,this.tokens=o.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()},E={next:{configurable:!0}};function parseExpr(o){var i=[];do{i.push(parseExprSeq(o))}while(o.eat("|"));return 1==i.length?i[0]:{type:"choice",exprs:i}}function parseExprSeq(o){var i=[];do{i.push(parseExprSubscript(o))}while(o.next&&")"!=o.next&&"|"!=o.next);return 1==i.length?i[0]:{type:"seq",exprs:i}}function parseExprSubscript(o){for(var i=function parseExprAtom(o){if(o.eat("(")){var i=parseExpr(o);return o.eat(")")||o.err("Missing closing paren"),i}if(!/\W/.test(o.next)){var s=function resolveName(o,i){var s=o.nodeTypes,a=s[i];if(a)return[a];var l=[];for(var c in s){var u=s[c];u.groups.indexOf(i)>-1&&l.push(u)}0==l.length&&o.err("No node type or group '"+i+"' found");return l}(o,o.next).map((function(i){return null==o.inline?o.inline=i.isInline:o.inline!=i.isInline&&o.err("Mixing inline and block content"),{type:"name",value:i}}));return o.pos++,1==s.length?s[0]:{type:"choice",exprs:s}}o.err("Unexpected token '"+o.next+"'")}(o);;)if(o.eat("+"))i={type:"plus",expr:i};else if(o.eat("*"))i={type:"star",expr:i};else if(o.eat("?"))i={type:"opt",expr:i};else{if(!o.eat("{"))break;i=parseExprRange(o,i)}return i}function parseNum(o){/\D/.test(o.next)&&o.err("Expected number, got '"+o.next+"'");var i=Number(o.next);return o.pos++,i}function parseExprRange(o,i){var s=parseNum(o),a=s;return o.eat(",")&&(a="}"!=o.next?parseNum(o):-1),o.eat("}")||o.err("Unclosed braced range"),{type:"range",min:s,max:a,expr:i}}function cmp(o,i){return i-o}function nullFrom(o,i){var s=[];return function scan(i){var a=o[i];if(1==a.length&&!a[0].term)return scan(a[0].to);s.push(i);for(var l=0;l<a.length;l++){var c=a[l],u=c.term,d=c.to;u||-1!=s.indexOf(d)||scan(d)}}(i),s.sort(cmp)}function defaultAttrs(o){var i=Object.create(null);for(var s in o){var a=o[s];if(!a.hasDefault)return null;i[s]=a.default}return i}function computeAttrs(o,i){var s=Object.create(null);for(var a in o){var l=i&&i[a];if(void 0===l){var c=o[a];if(!c.hasDefault)throw new RangeError("No value supplied for attribute "+a);l=c.default}s[a]=l}return s}function initAttrs(o){var i=Object.create(null);if(o)for(var s in o)i[s]=new I(o[s]);return i}E.next.get=function(){return this.tokens[this.pos]},A.prototype.eat=function eat(o){return this.next==o&&(this.pos++||!0)},A.prototype.err=function err(o){throw new SyntaxError(o+" (in content expression '"+this.string+"')")},Object.defineProperties(A.prototype,E);var T=function NodeType(o,i,s){this.name=o,this.schema=i,this.spec=s,this.groups=s.group?s.group.split(" "):[],this.attrs=initAttrs(s.attrs),this.defaultAttrs=defaultAttrs(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(s.inline||"text"==o),this.isText="text"==o},D={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};D.isInline.get=function(){return!this.isBlock},D.isTextblock.get=function(){return this.isBlock&&this.inlineContent},D.isLeaf.get=function(){return this.contentMatch==O.empty},D.isAtom.get=function(){return this.isLeaf||this.spec.atom},T.prototype.hasRequiredAttrs=function hasRequiredAttrs(){for(var o in this.attrs)if(this.attrs[o].isRequired)return!0;return!1},T.prototype.compatibleContent=function compatibleContent(o){return this==o||this.contentMatch.compatible(o.contentMatch)},T.prototype.computeAttrs=function computeAttrs$1(o){return!o&&this.defaultAttrs?this.defaultAttrs:computeAttrs(this.attrs,o)},T.prototype.create=function create(o,i,s){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new x(this,this.computeAttrs(o),l.from(i),d.setFrom(s))},T.prototype.createChecked=function createChecked(o,i,s){if(i=l.from(i),!this.validContent(i))throw new RangeError("Invalid content for node "+this.name);return new x(this,this.computeAttrs(o),i,d.setFrom(s))},T.prototype.createAndFill=function createAndFill(o,i,s){if(o=this.computeAttrs(o),(i=l.from(i)).size){var a=this.contentMatch.fillBefore(i);if(!a)return null;i=a.append(i)}var c=this.contentMatch.matchFragment(i).fillBefore(l.empty,!0);return c?new x(this,o,i.append(c),d.setFrom(s)):null},T.prototype.validContent=function validContent(o){var i=this.contentMatch.matchFragment(o);if(!i||!i.validEnd)return!1;for(var s=0;s<o.childCount;s++)if(!this.allowsMarks(o.child(s).marks))return!1;return!0},T.prototype.allowsMarkType=function allowsMarkType(o){return null==this.markSet||this.markSet.indexOf(o)>-1},T.prototype.allowsMarks=function allowsMarks(o){if(null==this.markSet)return!0;for(var i=0;i<o.length;i++)if(!this.allowsMarkType(o[i].type))return!1;return!0},T.prototype.allowedMarks=function allowedMarks(o){if(null==this.markSet)return o;for(var i,s=0;s<o.length;s++)this.allowsMarkType(o[s].type)?i&&i.push(o[s]):i||(i=o.slice(0,s));return i?i.length?i:d.empty:o},T.compile=function compile(o,i){var s=Object.create(null);o.forEach((function(o,a){return s[o]=new T(o,i,a)}));var a=i.spec.topNode||"doc";if(!s[a])throw new RangeError("Schema is missing its top node type ('"+a+"')");if(!s.text)throw new RangeError("Every schema needs a 'text' type");for(var l in s.text.attrs)throw new RangeError("The text node type should not have attributes");return s},Object.defineProperties(T.prototype,D);var I=function Attribute(o){this.hasDefault=Object.prototype.hasOwnProperty.call(o,"default"),this.default=o.default},N={isRequired:{configurable:!0}};N.isRequired.get=function(){return!this.hasDefault},Object.defineProperties(I.prototype,N);var R=function MarkType(o,i,s,a){this.name=o,this.schema=s,this.spec=a,this.attrs=initAttrs(a.attrs),this.rank=i,this.excluded=null;var l=defaultAttrs(this.attrs);this.instance=l&&new d(this,l)};R.prototype.create=function create(o){return!o&&this.instance?this.instance:new d(this,computeAttrs(this.attrs,o))},R.compile=function compile(o,i){var s=Object.create(null),a=0;return o.forEach((function(o,l){return s[o]=new R(o,a++,i,l)})),s},R.prototype.removeFromSet=function removeFromSet(o){for(var i=0;i<o.length;i++)o[i].type==this&&(o=o.slice(0,i).concat(o.slice(i+1)),i--);return o},R.prototype.isInSet=function isInSet(o){for(var i=0;i<o.length;i++)if(o[i].type==this)return o[i]},R.prototype.excludes=function excludes(o){return this.excluded.indexOf(o)>-1};var P=function Schema(o){for(var i in this.spec={},o)this.spec[i]=o[i];this.spec.nodes=a.from(o.nodes),this.spec.marks=a.from(o.marks),this.nodes=T.compile(this.spec.nodes,this),this.marks=R.compile(this.spec.marks,this);var s=Object.create(null);for(var l in this.nodes){if(l in this.marks)throw new RangeError(l+" can not be both a node and a mark");var c=this.nodes[l],u=c.spec.content||"",d=c.spec.marks;c.contentMatch=s[u]||(s[u]=O.parse(u,this.nodes)),c.inlineContent=c.contentMatch.inlineContent,c.markSet="_"==d?null:d?gatherMarks(this,d.split(" ")):""!=d&&c.inlineContent?null:[]}for(var p in this.marks){var f=this.marks[p],m=f.spec.excludes;f.excluded=null==m?[f]:""==m?[]:gatherMarks(this,m.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null)};function gatherMarks(o,i){for(var s=[],a=0;a<i.length;a++){var l=i[a],c=o.marks[l],u=c;if(c)s.push(c);else for(var d in o.marks){var p=o.marks[d];("_"==l||p.spec.group&&p.spec.group.split(" ").indexOf(l)>-1)&&s.push(u=p)}if(!u)throw new SyntaxError("Unknown mark type: '"+i[a]+"'")}return s}P.prototype.node=function node(o,i,s,a){if("string"==typeof o)o=this.nodeType(o);else{if(!(o instanceof T))throw new RangeError("Invalid node type: "+o);if(o.schema!=this)throw new RangeError("Node type from different schema used ("+o.name+")")}return o.createChecked(i,s,a)},P.prototype.text=function text(o,i){var s=this.nodes.text;return new _(s,s.defaultAttrs,o,d.setFrom(i))},P.prototype.mark=function mark(o,i){return"string"==typeof o&&(o=this.marks[o]),o.create(i)},P.prototype.nodeFromJSON=function nodeFromJSON(o){return x.fromJSON(this,o)},P.prototype.markFromJSON=function markFromJSON(o){return d.fromJSON(this,o)},P.prototype.nodeType=function nodeType(o){var i=this.nodes[o];if(!i)throw new RangeError("Unknown node type: "+o);return i};var L=function DOMParser(o,i){var s=this;this.schema=o,this.rules=i,this.tags=[],this.styles=[],i.forEach((function(o){o.tag?s.tags.push(o):o.style&&s.styles.push(o)})),this.normalizeLists=!this.tags.some((function(i){if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;var s=o.nodes[i.node];return s.contentMatch.matchType(s)}))};L.prototype.parse=function parse(o,i){void 0===i&&(i={});var s=new $(this,i,!1);return s.addAll(o,null,i.from,i.to),s.finish()},L.prototype.parseSlice=function parseSlice(o,i){void 0===i&&(i={});var s=new $(this,i,!0);return s.addAll(o,null,i.from,i.to),p.maxOpen(s.finish())},L.prototype.matchTag=function matchTag(o,i,s){for(var a=s?this.tags.indexOf(s)+1:0;a<this.tags.length;a++){var l=this.tags[a];if(matches(o,l.tag)&&(void 0===l.namespace||o.namespaceURI==l.namespace)&&(!l.context||i.matchesContext(l.context))){if(l.getAttrs){var c=l.getAttrs(o);if(!1===c)continue;l.attrs=c}return l}}},L.prototype.matchStyle=function matchStyle(o,i,s,a){for(var l=a?this.styles.indexOf(a)+1:0;l<this.styles.length;l++){var c=this.styles[l];if(!(0!=c.style.indexOf(o)||c.context&&!s.matchesContext(c.context)||c.style.length>o.length&&(61!=c.style.charCodeAt(o.length)||c.style.slice(o.length+1)!=i))){if(c.getAttrs){var u=c.getAttrs(i);if(!1===u)continue;c.attrs=u}return c}}},L.schemaRules=function schemaRules(o){var i=[];function insert(o){for(var s=null==o.priority?50:o.priority,a=0;a<i.length;a++){var l=i[a];if((null==l.priority?50:l.priority)<s)break}i.splice(a,0,o)}var loop=function(i){var s=o.marks[i].spec.parseDOM;s&&s.forEach((function(o){insert(o=copy(o)),o.mark=i}))};for(var s in o.marks)loop(s);var a;for(var l in o.nodes)a=void 0,(a=o.nodes[l].spec.parseDOM)&&a.forEach((function(o){insert(o=copy(o)),o.node=l}));return i},L.fromSchema=function fromSchema(o){return o.cached.domParser||(o.cached.domParser=new L(o,L.schemaRules(o)))};var F={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},B={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},z={ol:!0,ul:!0};function wsOptionsFor(o){return(o?1:0)|("full"===o?2:0)}var j=function NodeContext(o,i,s,a,l,c,u){this.type=o,this.attrs=i,this.solid=l,this.match=c||(4&u?null:o.contentMatch),this.options=u,this.content=[],this.marks=s,this.activeMarks=d.none,this.pendingMarks=a,this.stashMarks=[]};j.prototype.findWrapping=function findWrapping(o){if(!this.match){if(!this.type)return[];var i=this.type.contentMatch.fillBefore(l.from(o));if(!i){var s,a=this.type.contentMatch;return(s=a.findWrapping(o.type))?(this.match=a,s):null}this.match=this.type.contentMatch.matchFragment(i)}return this.match.findWrapping(o.type)},j.prototype.finish=function finish(o){if(!(1&this.options)){var i,s=this.content[this.content.length-1];s&&s.isText&&(i=/[ \t\r\n\u000c]+$/.exec(s.text))&&(s.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length)))}var a=l.from(this.content);return!o&&this.match&&(a=a.append(this.match.fillBefore(l.empty,!0))),this.type?this.type.create(this.attrs,a,this.marks):a},j.prototype.popFromStashMark=function popFromStashMark(o){for(var i=this.stashMarks.length-1;i>=0;i--)if(o.eq(this.stashMarks[i]))return this.stashMarks.splice(i,1)[0]},j.prototype.applyPending=function applyPending(o){for(var i=0,s=this.pendingMarks;i<s.length;i++){var a=s[i];(this.type?this.type.allowsMarkType(a.type):markMayApply(a.type,o))&&!a.isInSet(this.activeMarks)&&(this.activeMarks=a.addToSet(this.activeMarks),this.pendingMarks=a.removeFromSet(this.pendingMarks))}};var $=function ParseContext(o,i,s){this.parser=o,this.options=i,this.isOpen=s;var a,l=i.topNode,c=wsOptionsFor(i.preserveWhitespace)|(s?4:0);a=l?new j(l.type,l.attrs,d.none,d.none,!0,i.topMatch||l.type.contentMatch,c):new j(s?null:o.schema.topNodeType,null,d.none,d.none,!0,null,c),this.nodes=[a],this.open=0,this.find=i.findPositions,this.needsBlock=!1},q={top:{configurable:!0},currentPos:{configurable:!0}};function matches(o,i){return(o.matches||o.msMatchesSelector||o.webkitMatchesSelector||o.mozMatchesSelector).call(o,i)}function copy(o){var i={};for(var s in o)i[s]=o[s];return i}function markMayApply(o,i){var s=i.schema.nodes,loop=function(a){var l=s[a];if(l.allowsMarkType(o)){var c=[],scan=function(o){c.push(o);for(var s=0;s<o.edgeCount;s++){var a=o.edge(s),l=a.type,u=a.next;if(l==i)return!0;if(c.indexOf(u)<0&&scan(u))return!0}};return scan(l.contentMatch)?{v:!0}:void 0}};for(var a in s){var l=loop(a);if(l)return l.v}}q.top.get=function(){return this.nodes[this.open]},$.prototype.addDOM=function addDOM(o){if(3==o.nodeType)this.addTextNode(o);else if(1==o.nodeType){var i=o.getAttribute("style"),s=i?this.readStyles(function parseStyles(o){var i,s=/\s*([\w-]+)\s*:\s*([^;]+)/g,a=[];for(;i=s.exec(o);)a.push(i[1],i[2].trim());return a}(i)):null,a=this.top;if(null!=s)for(var l=0;l<s.length;l++)this.addPendingMark(s[l]);if(this.addElement(o),null!=s)for(var c=0;c<s.length;c++)this.removePendingMark(s[c],a)}},$.prototype.addTextNode=function addTextNode(o){var i=o.nodeValue,s=this.top;if((s.type?s.type.inlineContent:s.content.length&&s.content[0].isInline)||/[^ \t\r\n\u000c]/.test(i)){if(1&s.options)2&s.options||(i=i.replace(/\r?\n|\r/g," "));else if(i=i.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(i)&&this.open==this.nodes.length-1){var a=s.content[s.content.length-1],l=o.previousSibling;(!a||l&&"BR"==l.nodeName||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(i=i.slice(1))}i&&this.insertNode(this.parser.schema.text(i)),this.findInText(o)}else this.findInside(o)},$.prototype.addElement=function addElement(o,i){var s,a=o.nodeName.toLowerCase();z.hasOwnProperty(a)&&this.parser.normalizeLists&&function normalizeList(o){for(var i=o.firstChild,s=null;i;i=i.nextSibling){var a=1==i.nodeType?i.nodeName.toLowerCase():null;a&&z.hasOwnProperty(a)&&s?(s.appendChild(i),i=s):"li"==a?s=i:a&&(s=null)}}(o);var l=this.options.ruleFromNode&&this.options.ruleFromNode(o)||(s=this.parser.matchTag(o,this,i));if(l?l.ignore:B.hasOwnProperty(a))this.findInside(o);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(o=l.skip);var c,u=this.top,d=this.needsBlock;if(F.hasOwnProperty(a))c=!0,u.type||(this.needsBlock=!0);else if(!o.firstChild)return void this.leafFallback(o);this.addAll(o),c&&this.sync(u),this.needsBlock=d}else this.addElementByRule(o,l,!1===l.consuming?s:null)},$.prototype.leafFallback=function leafFallback(o){"BR"==o.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(o.ownerDocument.createTextNode("\n"))},$.prototype.readStyles=function readStyles(o){var i=d.none;e:for(var s=0;s<o.length;s+=2)for(var a=null;;){var l=this.parser.matchStyle(o[s],o[s+1],this,a);if(!l)continue e;if(l.ignore)return null;if(i=this.parser.schema.marks[l.mark].create(l.attrs).addToSet(i),!1!==l.consuming)break;a=l}return i},$.prototype.addElementByRule=function addElementByRule(o,i,s){var a,l,c,u=this;i.node?(l=this.parser.schema.nodes[i.node]).isLeaf?this.insertNode(l.create(i.attrs))||this.leafFallback(o):a=this.enter(l,i.attrs,i.preserveWhitespace):(c=this.parser.schema.marks[i.mark].create(i.attrs),this.addPendingMark(c));var d=this.top;if(l&&l.isLeaf)this.findInside(o);else if(s)this.addElement(o,s);else if(i.getContent)this.findInside(o),i.getContent(o,this.parser.schema).forEach((function(o){return u.insertNode(o)}));else{var p=i.contentElement;"string"==typeof p?p=o.querySelector(p):"function"==typeof p&&(p=p(o)),p||(p=o),this.findAround(o,p,!0),this.addAll(p,a)}a&&(this.sync(d),this.open--),c&&this.removePendingMark(c,d)},$.prototype.addAll=function addAll(o,i,s,a){for(var l=s||0,c=s?o.childNodes[s]:o.firstChild,u=null==a?null:o.childNodes[a];c!=u;c=c.nextSibling,++l)this.findAtPoint(o,l),this.addDOM(c),i&&F.hasOwnProperty(c.nodeName.toLowerCase())&&this.sync(i);this.findAtPoint(o,l)},$.prototype.findPlace=function findPlace(o){for(var i,s,a=this.open;a>=0;a--){var l=this.nodes[a],c=l.findWrapping(o);if(c&&(!i||i.length>c.length)&&(i=c,s=l,!c.length))break;if(l.solid)break}if(!i)return!1;this.sync(s);for(var u=0;u<i.length;u++)this.enterInner(i[u],null,!1);return!0},$.prototype.insertNode=function insertNode(o){if(o.isInline&&this.needsBlock&&!this.top.type){var i=this.textblockFromContext();i&&this.enterInner(i)}if(this.findPlace(o)){this.closeExtra();var s=this.top;s.applyPending(o.type),s.match&&(s.match=s.match.matchType(o.type));for(var a=s.activeMarks,l=0;l<o.marks.length;l++)s.type&&!s.type.allowsMarkType(o.marks[l].type)||(a=o.marks[l].addToSet(a));return s.content.push(o.mark(a)),!0}return!1},$.prototype.enter=function enter(o,i,s){var a=this.findPlace(o.create(i));return a&&this.enterInner(o,i,!0,s),a},$.prototype.enterInner=function enterInner(o,i,s,a){this.closeExtra();var l=this.top;l.applyPending(o),l.match=l.match&&l.match.matchType(o,i);var c=null==a?-5&l.options:wsOptionsFor(a);4&l.options&&0==l.content.length&&(c|=4),this.nodes.push(new j(o,i,l.activeMarks,l.pendingMarks,s,null,c)),this.open++},$.prototype.closeExtra=function closeExtra(o){var i=this.nodes.length-1;if(i>this.open){for(;i>this.open;i--)this.nodes[i-1].content.push(this.nodes[i].finish(o));this.nodes.length=this.open+1}},$.prototype.finish=function finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)},$.prototype.sync=function sync(o){for(var i=this.open;i>=0;i--)if(this.nodes[i]==o)return void(this.open=i)},q.currentPos.get=function(){this.closeExtra();for(var o=0,i=this.open;i>=0;i--){for(var s=this.nodes[i].content,a=s.length-1;a>=0;a--)o+=s[a].nodeSize;i&&o++}return o},$.prototype.findAtPoint=function findAtPoint(o,i){if(this.find)for(var s=0;s<this.find.length;s++)this.find[s].node==o&&this.find[s].offset==i&&(this.find[s].pos=this.currentPos)},$.prototype.findInside=function findInside(o){if(this.find)for(var i=0;i<this.find.length;i++)null==this.find[i].pos&&1==o.nodeType&&o.contains(this.find[i].node)&&(this.find[i].pos=this.currentPos)},$.prototype.findAround=function findAround(o,i,s){if(o!=i&&this.find)for(var a=0;a<this.find.length;a++){if(null==this.find[a].pos&&1==o.nodeType&&o.contains(this.find[a].node))i.compareDocumentPosition(this.find[a].node)&(s?2:4)&&(this.find[a].pos=this.currentPos)}},$.prototype.findInText=function findInText(o){if(this.find)for(var i=0;i<this.find.length;i++)this.find[i].node==o&&(this.find[i].pos=this.currentPos-(o.nodeValue.length-this.find[i].offset))},$.prototype.matchesContext=function matchesContext(o){var i=this;if(o.indexOf("|")>-1)return o.split(/\s*\|\s*/).some(this.matchesContext,this);var s=o.split("/"),a=this.options.context,l=!(this.isOpen||a&&a.parent.type!=this.nodes[0].type),c=-(a?a.depth+1:0)+(l?0:1),match=function(o,u){for(;o>=0;o--){var d=s[o];if(""==d){if(o==s.length-1||0==o)continue;for(;u>=c;u--)if(match(o-1,u))return!0;return!1}var p=u>0||0==u&&l?i.nodes[u].type:a&&u>=c?a.node(u-c).type:null;if(!p||p.name!=d&&-1==p.groups.indexOf(d))return!1;u--}return!0};return match(s.length-1,this.open)},$.prototype.textblockFromContext=function textblockFromContext(){var o=this.options.context;if(o)for(var i=o.depth;i>=0;i--){var s=o.node(i).contentMatchAt(o.indexAfter(i)).defaultType;if(s&&s.isTextblock&&s.defaultAttrs)return s}for(var a in this.parser.schema.nodes){var l=this.parser.schema.nodes[a];if(l.isTextblock&&l.defaultAttrs)return l}},$.prototype.addPendingMark=function addPendingMark(o){var i=function findSameMarkInSet(o,i){for(var s=0;s<i.length;s++)if(o.eq(i[s]))return i[s]}(o,this.top.pendingMarks);i&&this.top.stashMarks.push(i),this.top.pendingMarks=o.addToSet(this.top.pendingMarks)},$.prototype.removePendingMark=function removePendingMark(o,i){for(var s=this.open;s>=0;s--){var a=this.nodes[s];if(a.pendingMarks.lastIndexOf(o)>-1)a.pendingMarks=o.removeFromSet(a.pendingMarks);else{a.activeMarks=o.removeFromSet(a.activeMarks);var l=a.popFromStashMark(o);l&&a.type&&a.type.allowsMarkType(l.type)&&(a.activeMarks=l.addToSet(a.activeMarks))}if(a==i)break}},Object.defineProperties($.prototype,q);var V=function DOMSerializer(o,i){this.nodes=o||{},this.marks=i||{}};function gatherToDOM(o){var i={};for(var s in o){var a=o[s].spec.toDOM;a&&(i[s]=a)}return i}function doc(o){return o.document||window.document}V.prototype.serializeFragment=function serializeFragment(o,i,s){var a=this;void 0===i&&(i={}),s||(s=doc(i).createDocumentFragment());var l=s,c=null;return o.forEach((function(o){if(c||o.marks.length){c||(c=[]);for(var s=0,u=0;s<c.length&&u<o.marks.length;){var d=o.marks[u];if(a.marks[d.type.name]){if(!d.eq(c[s])||!1===d.type.spec.spanning)break;s+=2,u++}else u++}for(;s<c.length;)l=c.pop(),c.pop();for(;u<o.marks.length;){var p=o.marks[u++],f=a.serializeMark(p,o.isInline,i);f&&(c.push(p,l),l.appendChild(f.dom),l=f.contentDOM||f.dom)}}l.appendChild(a.serializeNode(o,i))})),s},V.prototype.serializeNode=function serializeNode(o,i){void 0===i&&(i={});var s=V.renderSpec(doc(i),this.nodes[o.type.name](o)),a=s.dom,l=s.contentDOM;if(l){if(o.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");i.onContent?i.onContent(o,l,i):this.serializeFragment(o.content,i,l)}return a},V.prototype.serializeNodeAndMarks=function serializeNodeAndMarks(o,i){void 0===i&&(i={});for(var s=this.serializeNode(o,i),a=o.marks.length-1;a>=0;a--){var l=this.serializeMark(o.marks[a],o.isInline,i);l&&((l.contentDOM||l.dom).appendChild(s),s=l.dom)}return s},V.prototype.serializeMark=function serializeMark(o,i,s){void 0===s&&(s={});var a=this.marks[o.type.name];return a&&V.renderSpec(doc(s),a(o,i))},V.renderSpec=function renderSpec(o,i,s){if(void 0===s&&(s=null),"string"==typeof i)return{dom:o.createTextNode(i)};if(null!=i.nodeType)return{dom:i};if(i.dom&&null!=i.dom.nodeType)return i;var a=i[0],l=a.indexOf(" ");l>0&&(s=a.slice(0,l),a=a.slice(l+1));var c=null,u=s?o.createElementNS(s,a):o.createElement(a),d=i[1],p=1;if(d&&"object"==typeof d&&null==d.nodeType&&!Array.isArray(d))for(var f in p=2,d)if(null!=d[f]){var m=f.indexOf(" ");m>0?u.setAttributeNS(f.slice(0,m),f.slice(m+1),d[f]):u.setAttribute(f,d[f])}for(var g=p;g<i.length;g++){var v=i[g];if(0===v){if(g<i.length-1||g>p)throw new RangeError("Content hole must be the only child of its parent node");return{dom:u,contentDOM:u}}var y=V.renderSpec(o,v,s),b=y.dom,k=y.contentDOM;if(u.appendChild(b),k){if(c)throw new RangeError("Multiple content holes");c=k}}return{dom:u,contentDOM:c}},V.fromSchema=function fromSchema(o){return o.cached.domSerializer||(o.cached.domSerializer=new V(this.nodesFromSchema(o),this.marksFromSchema(o)))},V.nodesFromSchema=function nodesFromSchema(o){var i=gatherToDOM(o.nodes);return i.text||(i.text=function(o){return o.text}),i},V.marksFromSchema=function marksFromSchema(o){return gatherToDOM(o.marks)}},MJIl:function(o,i,s){var a=s("QoRX"),l=s("ut/Y"),c=s("Nh2a"),u=s("Z0cm"),d=s("mv/X");o.exports=function some(o,i,s){var p=u(o)?a:c;return s&&d(o,i,s)&&(i=void 0),p(o,l(i,3))}},MdNu:function(o,i,s){"use strict";var a=this&&this.__createBinding||(Object.create?function(o,i,s,a){void 0===a&&(a=s),Object.defineProperty(o,a,{enumerable:!0,get:function(){return i[s]}})}:function(o,i,s,a){void 0===a&&(a=s),o[a]=i[s]}),l=this&&this.__setModuleDefault||(Object.create?function(o,i){Object.defineProperty(o,"default",{enumerable:!0,value:i})}:function(o,i){o.default=i}),c=this&&this.__importStar||function(o){if(o&&o.__esModule)return o;var i={};if(null!=o)for(var s in o)"default"!==s&&Object.prototype.hasOwnProperty.call(o,s)&&a(i,o,s);return l(i,o),i},u=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const d=c(s("q1tI")),p=s("tsqv"),f=s("UxO+"),m=s("+V57"),g=s("mG1W"),v=u(s("vOnD")),y=u(s("XXr+")),b=u(s("9Zzq")),k=u(s("hudd")),w=u(s("AKDS")),S=u(s("S5OW")),x=/!\[(?<alt>.*?)]\((?<filename>.*?)(?=\“|\))\“?(?<layoutclass>[^\”]+)?\”?\)/,C=["right-50","left-50"],getLayoutAndTitle=o=>o?C.includes(o)?{layoutClass:o}:{title:o}:{},downloadImageNode=async o=>{const i=await fetch(o.attrs.src),s=await i.blob(),a=URL.createObjectURL(s),l=s.type.split("/")[1],c=o.attrs.alt||"image",u=document.createElement("a");u.href=a,u.download=`${c}.${l}`,document.body.appendChild(u),u.click(),document.body.removeChild(u)};class Image extends S.default{constructor(){super(...arguments),this.handleKeyDown=({node:o,getPos:i})=>s=>{if("Enter"===s.key){s.preventDefault();const{view:a}=this.editor,l=i()+o.nodeSize;return a.focus(),void a.dispatch(g.setTextSelection(l)(a.state.tr))}if("Backspace"===s.key&&""===s.target.innerText){const{view:o}=this.editor,s=o.state.doc.resolve(i()),a=o.state.tr.setSelection(new f.NodeSelection(s));return o.dispatch(a.deleteSelection()),void o.focus()}},this.handleBlur=({node:o,getPos:i})=>s=>{const a=s.target.innerText,{src:l,title:c,layoutClass:u}=o.attrs;if(a===o.attrs.alt)return;const{view:d}=this.editor,{tr:p}=d.state,f=i(),m=p.setNodeMarkup(f,void 0,{src:l,alt:a,title:c,layoutClass:u});d.dispatch(m)},this.handleSelect=({getPos:o})=>i=>{i.preventDefault();const{view:s}=this.editor,a=s.state.doc.resolve(o()),l=s.state.tr.setSelection(new f.NodeSelection(a));s.dispatch(l)},this.handleDownload=({node:o})=>i=>{i.preventDefault(),i.stopPropagation(),downloadImageNode(o)},this.component=o=>{const{theme:i,isSelected:s}=o,{alt:a,src:l,title:c,layoutClass:u}=o.node.attrs,f=u?`image image-${u}`:"image";return d.createElement("div",{contentEditable:!1,className:f},d.createElement(O,{className:s?"ProseMirror-selectednode":"",onClick:this.handleSelect(o)},d.createElement(_,null,d.createElement(p.DownloadIcon,{color:"currentColor",onClick:this.handleDownload(o)})),d.createElement(y.default,{image:{src:l,alt:a,title:c},defaultStyles:{overlay:{backgroundColor:i.background}},shouldRespectMaxDimension:!0})),d.createElement(M,{onKeyDown:this.handleKeyDown(o),onBlur:this.handleBlur(o),className:"caption",tabIndex:-1,role:"textbox",contentEditable:!0,suppressContentEditableWarning:!0,"data-caption":this.options.dictionary.imageCaptionPlaceholder},a))}}get name(){return"image"}get schema(){return{inline:!0,attrs:{src:{},alt:{default:null},layoutClass:{default:null},title:{default:null}},content:"text*",marks:"",group:"inline",selectable:!0,draggable:!0,parseDOM:[{tag:"div[class~=image]",getAttrs:o=>{const i=o.getElementsByTagName("img")[0],s=o.className,a=s&&s.match(/image-(.*)$/),l=a?a[1]:null;return{src:null==i?void 0:i.getAttribute("src"),alt:null==i?void 0:i.getAttribute("alt"),title:null==i?void 0:i.getAttribute("title"),layoutClass:l}}},{tag:"img",getAttrs:o=>({src:o.getAttribute("src"),alt:o.getAttribute("alt"),title:o.getAttribute("title")})}],toDOM:o=>["div",{class:o.attrs.layoutClass?`image image-${o.attrs.layoutClass}`:"image"},["img",Object.assign(Object.assign({},o.attrs),{contentEditable:!1})],["p",{class:"caption"},0]]}}toMarkdown(o,i){let s=" !["+o.esc((i.attrs.alt||"").replace("\n","")||"")+"]("+o.esc(i.attrs.src);i.attrs.layoutClass?s+=' "'+o.esc(i.attrs.layoutClass)+'"':i.attrs.title&&(s+=' "'+o.esc(i.attrs.title)+'"'),s+=")",o.write(s)}parseMarkdown(){return{node:"image",getAttrs:o=>Object.assign({src:o.attrGet("src"),alt:o.children[0]&&o.children[0].content||null},getLayoutAndTitle(o.attrGet("title")))}}commands({type:o}){return{downloadImage:()=>async o=>{const{node:i}=o.selection;return"image"===i.type.name&&(downloadImageNode(i),!0)},deleteImage:()=>(o,i)=>(i(o.tr.deleteSelection()),!0),alignRight:()=>(o,i)=>{const s=Object.assign(Object.assign({},o.selection.node.attrs),{title:null,layoutClass:"right-50"}),{selection:a}=o;return i(o.tr.setNodeMarkup(a.from,void 0,s)),!0},alignLeft:()=>(o,i)=>{const s=Object.assign(Object.assign({},o.selection.node.attrs),{title:null,layoutClass:"left-50"}),{selection:a}=o;return i(o.tr.setNodeMarkup(a.from,void 0,s)),!0},alignCenter:()=>(o,i)=>{const s=Object.assign(Object.assign({},o.selection.node.attrs),{layoutClass:null}),{selection:a}=o;return i(o.tr.setNodeMarkup(a.from,void 0,s)),!0},createImage:i=>(s,a)=>{const{selection:l}=s,c=l.$cursor?l.$cursor.pos:l.$to.pos,u=o.create(i);return a(s.tr.insert(c,u)),!0}}}inputRules({type:o}){return[new m.InputRule(x,((i,s,a,l)=>{const[c,u,d,p]=s,{tr:f}=i;return c&&f.replaceWith(a-1,l,o.create(Object.assign({src:d,alt:u},getLayoutAndTitle(p)))),f}))]}get plugins(){return[k.default,(o=this.options,new f.Plugin({props:{handleDOMEvents:{paste(i,s){if(i.props.editable&&!i.props.editable(i.state)||!o.uploadImage)return!1;if(!s.clipboardData)return!1;const a=Array.prototype.slice.call(s.clipboardData.items).map((o=>o.getAsFile())).filter((o=>o));if(0===a.length)return!1;const{tr:l}=i.state;l.selection.empty||l.deleteSelection();const c=l.selection.from;return w.default(i,s,c,a,o),!0},drop(i,s){if(i.props.editable&&!i.props.editable(i.state)||!o.uploadImage)return!1;const a=b.default(s).filter((o=>/image/i.test(o.type)));if(0===a.length)return!1;const l=i.posAtCoords({left:s.clientX,top:s.clientY});return!!l&&(w.default(i,s,l.pos,a,o),!0)}}}}))];var o}}i.default=Image;const _=v.default.button`
  position: absolute;
  top: 8px;
  right: 8px;
  border: 0;
  margin: 0;
  padding: 0;
  border-radius: 4px;
  background: ${o=>o.theme.background};
  color: ${o=>o.theme.textSecondary};
  width: 24px;
  height: 24px;
  display: inline-block;
  cursor: pointer;
  opacity: 0;
  transition: opacity 100ms ease-in-out;

  &:active {
    transform: scale(0.98);
  }

  &:hover {
    color: ${o=>o.theme.text};
    opacity: 1;
  }
`,O=v.default.span`
  line-height: 0;
  display: inline-block;
  position: relative;

  &:hover {
    ${_} {
      opacity: 0.9;
    }
  }
`,M=v.default.p`
  border: 0;
  display: block;
  font-size: 13px;
  font-style: italic;
  font-weight: normal;
  color: ${o=>o.theme.textSecondary};
  padding: 2px 0;
  line-height: 16px;
  text-align: center;
  min-height: 1em;
  outline: none;
  background: none;
  resize: none;
  user-select: text;
  cursor: text;

  &:empty:before {
    color: ${o=>o.theme.placeholder};
    content: attr(data-caption);
    pointer-events: none;
  }
`},NAgD:function(o,i,s){"use strict";o.exports=function block(o){var i;o.inlineMode?((i=new o.Token("inline","",0)).content=o.src,i.map=[0,1],i.children=[],o.tokens.push(i)):o.md.block.parse(o.src,o.md,o.env,o.tokens)}},Nh2a:function(o,i,s){var a=s("SKAX");o.exports=function baseSome(o,i){var s;return a(o,(function(o,a,l){return!(s=i(o,a,l))})),!!s}},NmYn:function(o,i,s){var a;a=function(){var o=JSON.parse('{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","¢":"cent","£":"pound","¤":"currency","¥":"yen","©":"(c)","ª":"a","®":"(r)","º":"o","À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","Æ":"AE","Ç":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ì":"I","Í":"I","Î":"I","Ï":"I","Ð":"D","Ñ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","Ù":"U","Ú":"U","Û":"U","Ü":"U","Ý":"Y","Þ":"TH","ß":"ss","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","æ":"ae","ç":"c","è":"e","é":"e","ê":"e","ë":"e","ì":"i","í":"i","î":"i","ï":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","ù":"u","ú":"u","û":"u","ü":"u","ý":"y","þ":"th","ÿ":"y","Ā":"A","ā":"a","Ă":"A","ă":"a","Ą":"A","ą":"a","Ć":"C","ć":"c","Č":"C","č":"c","Ď":"D","ď":"d","Đ":"DJ","đ":"dj","Ē":"E","ē":"e","Ė":"E","ė":"e","Ę":"e","ę":"e","Ě":"E","ě":"e","Ğ":"G","ğ":"g","Ģ":"G","ģ":"g","Ĩ":"I","ĩ":"i","Ī":"i","ī":"i","Į":"I","į":"i","İ":"I","ı":"i","Ķ":"k","ķ":"k","Ļ":"L","ļ":"l","Ľ":"L","ľ":"l","Ł":"L","ł":"l","Ń":"N","ń":"n","Ņ":"N","ņ":"n","Ň":"N","ň":"n","Ō":"O","ō":"o","Ő":"O","ő":"o","Œ":"OE","œ":"oe","Ŕ":"R","ŕ":"r","Ř":"R","ř":"r","Ś":"S","ś":"s","Ş":"S","ş":"s","Š":"S","š":"s","Ţ":"T","ţ":"t","Ť":"T","ť":"t","Ũ":"U","ũ":"u","Ū":"u","ū":"u","Ů":"U","ů":"u","Ű":"U","ű":"u","Ų":"U","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","ź":"z","Ż":"Z","ż":"z","Ž":"Z","ž":"z","Ə":"E","ƒ":"f","Ơ":"O","ơ":"o","Ư":"U","ư":"u","ǈ":"LJ","ǉ":"lj","ǋ":"NJ","ǌ":"nj","Ș":"S","ș":"s","Ț":"T","ț":"t","ə":"e","˚":"o","Ά":"A","Έ":"E","Ή":"H","Ί":"I","Ό":"O","Ύ":"Y","Ώ":"W","ΐ":"i","Α":"A","Β":"B","Γ":"G","Δ":"D","Ε":"E","Ζ":"Z","Η":"H","Θ":"8","Ι":"I","Κ":"K","Λ":"L","Μ":"M","Ν":"N","Ξ":"3","Ο":"O","Π":"P","Ρ":"R","Σ":"S","Τ":"T","Υ":"Y","Φ":"F","Χ":"X","Ψ":"PS","Ω":"W","Ϊ":"I","Ϋ":"Y","ά":"a","έ":"e","ή":"h","ί":"i","ΰ":"y","α":"a","β":"b","γ":"g","δ":"d","ε":"e","ζ":"z","η":"h","θ":"8","ι":"i","κ":"k","λ":"l","μ":"m","ν":"n","ξ":"3","ο":"o","π":"p","ρ":"r","ς":"s","σ":"s","τ":"t","υ":"y","φ":"f","χ":"x","ψ":"ps","ω":"w","ϊ":"i","ϋ":"y","ό":"o","ύ":"y","ώ":"w","Ё":"Yo","Ђ":"DJ","Є":"Ye","І":"I","Ї":"Yi","Ј":"J","Љ":"LJ","Њ":"NJ","Ћ":"C","Џ":"DZ","А":"A","Б":"B","В":"V","Г":"G","Д":"D","Е":"E","Ж":"Zh","З":"Z","И":"I","Й":"J","К":"K","Л":"L","М":"M","Н":"N","О":"O","П":"P","Р":"R","С":"S","Т":"T","У":"U","Ф":"F","Х":"H","Ц":"C","Ч":"Ch","Ш":"Sh","Щ":"Sh","Ъ":"U","Ы":"Y","Ь":"","Э":"E","Ю":"Yu","Я":"Ya","а":"a","б":"b","в":"v","г":"g","д":"d","е":"e","ж":"zh","з":"z","и":"i","й":"j","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","х":"h","ц":"c","ч":"ch","ш":"sh","щ":"sh","ъ":"u","ы":"y","ь":"","э":"e","ю":"yu","я":"ya","ё":"yo","ђ":"dj","є":"ye","і":"i","ї":"yi","ј":"j","љ":"lj","њ":"nj","ћ":"c","ѝ":"u","џ":"dz","Ґ":"G","ґ":"g","Ғ":"GH","ғ":"gh","Қ":"KH","қ":"kh","Ң":"NG","ң":"ng","Ү":"UE","ү":"ue","Ұ":"U","ұ":"u","Һ":"H","һ":"h","Ә":"AE","ә":"ae","Ө":"OE","ө":"oe","฿":"baht","ა":"a","ბ":"b","გ":"g","დ":"d","ე":"e","ვ":"v","ზ":"z","თ":"t","ი":"i","კ":"k","ლ":"l","მ":"m","ნ":"n","ო":"o","პ":"p","ჟ":"zh","რ":"r","ს":"s","ტ":"t","უ":"u","ფ":"f","ქ":"k","ღ":"gh","ყ":"q","შ":"sh","ჩ":"ch","ც":"ts","ძ":"dz","წ":"ts","ჭ":"ch","ხ":"kh","ჯ":"j","ჰ":"h","Ẁ":"W","ẁ":"w","Ẃ":"W","ẃ":"w","Ẅ":"W","ẅ":"w","ẞ":"SS","Ạ":"A","ạ":"a","Ả":"A","ả":"a","Ấ":"A","ấ":"a","Ầ":"A","ầ":"a","Ẩ":"A","ẩ":"a","Ẫ":"A","ẫ":"a","Ậ":"A","ậ":"a","Ắ":"A","ắ":"a","Ằ":"A","ằ":"a","Ẳ":"A","ẳ":"a","Ẵ":"A","ẵ":"a","Ặ":"A","ặ":"a","Ẹ":"E","ẹ":"e","Ẻ":"E","ẻ":"e","Ẽ":"E","ẽ":"e","Ế":"E","ế":"e","Ề":"E","ề":"e","Ể":"E","ể":"e","Ễ":"E","ễ":"e","Ệ":"E","ệ":"e","Ỉ":"I","ỉ":"i","Ị":"I","ị":"i","Ọ":"O","ọ":"o","Ỏ":"O","ỏ":"o","Ố":"O","ố":"o","Ồ":"O","ồ":"o","Ổ":"O","ổ":"o","Ỗ":"O","ỗ":"o","Ộ":"O","ộ":"o","Ớ":"O","ớ":"o","Ờ":"O","ờ":"o","Ở":"O","ở":"o","Ỡ":"O","ỡ":"o","Ợ":"O","ợ":"o","Ụ":"U","ụ":"u","Ủ":"U","ủ":"u","Ứ":"U","ứ":"u","Ừ":"U","ừ":"u","Ử":"U","ử":"u","Ữ":"U","ữ":"u","Ự":"U","ự":"u","Ỳ":"Y","ỳ":"y","Ỵ":"Y","ỵ":"y","Ỷ":"Y","ỷ":"y","Ỹ":"Y","ỹ":"y","‘":"\'","’":"\'","“":"\\"","”":"\\"","†":"+","•":"*","…":"...","₠":"ecu","₢":"cruzeiro","₣":"french franc","₤":"lira","₥":"mill","₦":"naira","₧":"peseta","₨":"rupee","₩":"won","₪":"new shequel","₫":"dong","€":"euro","₭":"kip","₮":"tugrik","₯":"drachma","₰":"penny","₱":"peso","₲":"guarani","₳":"austral","₴":"hryvnia","₵":"cedi","₸":"kazakhstani tenge","₹":"indian rupee","₺":"turkish lira","₽":"russian ruble","₿":"bitcoin","℠":"sm","™":"tm","∂":"d","∆":"delta","∑":"sum","∞":"infinity","♥":"love","元":"yuan","円":"yen","﷼":"rial"}'),i=JSON.parse('{"de":{"Ä":"AE","ä":"ae","Ö":"OE","ö":"oe","Ü":"UE","ü":"ue"},"vi":{"Đ":"D","đ":"d"}}');function replace(s,a){if("string"!=typeof s)throw new Error("slugify: string argument expected");var l=i[(a="string"==typeof a?{replacement:a}:a||{}).locale]||{},c=void 0===a.replacement?"-":a.replacement,u=s.split("").reduce((function(i,s){return i+(l[s]||o[s]||s).replace(a.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")}),"").trim().replace(new RegExp("[\\s"+c+"]+","g"),c);return a.lower&&(u=u.toLowerCase()),a.strict&&(u=u.replace(new RegExp("[^a-zA-Z0-9"+c+"]","g"),"").replace(new RegExp("[\\s"+c+"]+","g"),c)),u}return replace.extend=function(i){for(var s in i)o[s]=i[s]},replace},o.exports=a(),o.exports.default=a()},OOJR:function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0}),i.LANGUAGES=void 0;const l=a(s("5YM3")),c=a(s("mRsi")),u=s("UxO+"),d=s("V2qZ"),p=s("mG1W");i.LANGUAGES={none:"None",bash:"Bash",css:"CSS",clike:"C",csharp:"C#",go:"Go",markup:"HTML",java:"Java",javascript:"JavaScript",json:"JSON",php:"PHP",powershell:"Powershell",python:"Python",ruby:"Ruby",sql:"SQL",typescript:"TypeScript",yaml:"YAML"};const f={};function getDecorations({doc:o,name:i}){const s=[],a=p.findBlockNodes(o).filter((o=>o.node.type.name===i));function parseNodes(o,i=[]){return o.map((o=>{if("element"===o.type){const s=[...i,...o.properties.className||[]];return parseNodes(o.children,s)}return{text:o.value,classes:i}}))}return a.forEach((o=>{let i=o.pos+1;const a=o.node.attrs.language;if(a&&"none"!==a&&l.default.registered(a)){if(!f[o.pos]||!f[o.pos].node.eq(o.node)){const s=l.default.highlight(o.node.textContent,a),u=c.default(parseNodes(s)).map((o=>{const s=i,a=s+o.text.length;return i=a,Object.assign(Object.assign({},o),{from:s,to:a})})).filter((o=>o.classes&&o.classes.length)).map((o=>d.Decoration.inline(o.from,o.to,{class:o.classes.join(" ")})));f[o.pos]={node:o.node,decorations:u}}f[o.pos].decorations.forEach((o=>{s.push(o)}))}})),Object.keys(f).filter((o=>!a.find((i=>i.pos===Number(o))))).forEach((o=>{delete f[Number(o)]})),d.DecorationSet.create(o,s)}i.default=function Prism({name:o}){let i=!1;return new u.Plugin({key:new u.PluginKey("prism"),state:{init:(o,{doc:i})=>d.DecorationSet.create(i,[]),apply:(s,a,l,c)=>{const u=c.selection.$head.parent.type.name,d=l.selection.$head.parent.type.name,p=s.docChanged&&[u,d].includes(o);return!i||p?(i=!0,getDecorations({doc:s.doc,name:o})):a.map(s.mapping,s.doc)}},view:o=>(i||setTimeout((()=>{o.dispatch(o.state.tr.setMeta("prism",{loaded:!0}))}),10),{}),props:{decorations(o){return this.getState(o)}}})}},Ogsv:function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=s("ABBN"),c=a(s("cohp")),u=a(s("KvXG"));class Italic extends u.default{get name(){return"em"}get schema(){return{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style",getAttrs:o=>"italic"===o}],toDOM:()=>["em"]}}inputRules({type:o}){return[c.default(/(?:^|[\s])(_([^_]+)_)$/,o),c.default(/(?:^|[^*])(\*([^*]+)\*)$/,o)]}keys({type:o}){return{"Mod-i":l.toggleMark(o),"Mod-I":l.toggleMark(o)}}get toMarkdown(){return{open:"*",close:"*",mixable:!0,expelEnclosingWhitespace:!0}}parseMarkdown(){return{mark:"em"}}}i.default=Italic},Ok6U:function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=s("Zl/q"),c=s("UxO+"),u=s("V2qZ"),d=s("mG1W"),p=a(s("S5OW")),f=a(s("E9Ky")),m=a(s("AU+6"));class ListItem extends p.default{get name(){return"list_item"}get schema(){return{content:"paragraph block*",defining:!0,draggable:!0,parseDOM:[{tag:"li"}],toDOM:()=>["li",0]}}get plugins(){return[new c.Plugin({state:{init:()=>u.DecorationSet.empty,apply:(o,i,s,a)=>{const l=o.getMeta("li");if(!l&&!o.docChanged)return i;switch(i=i.map(o.mapping,o.doc),null==l?void 0:l.event){case"mouseover":{const s=d.findParentNodeClosestToPos(a.doc.resolve(l.pos),(o=>o.type.name===this.name||"checkbox_item"===o.type.name));return s?u.DecorationSet.create(o.doc,[u.Decoration.node(s.pos,s.pos+s.node.nodeSize,{class:"hovering"})]):i}case"mouseout":{const o=d.findParentNodeClosestToPos(a.doc.resolve(l.pos),(o=>o.type.name===this.name||"checkbox_item"===o.type.name));return o?i.remove(i.find(o.pos,o.pos+o.node.nodeSize)):i}}return i}},props:{decorations(o){return this.getState(o)},handleDOMEvents:{mouseover:(o,i)=>{const{state:s,dispatch:a}=o,l=i.target,c=null==l?void 0:l.closest("li");if(!c)return!1;if(!o.dom.contains(c))return!1;const u=o.posAtDOM(c,0);return!!u&&(a(s.tr.setMeta("li",{event:"mouseover",pos:u})),!1)},mouseout:(o,i)=>{const{state:s,dispatch:a}=o,l=i.target,c=null==l?void 0:l.closest("li");if(!c)return!1;if(!o.dom.contains(c))return!1;const u=o.posAtDOM(c,0);return!!u&&(a(s.tr.setMeta("li",{event:"mouseout",pos:u})),!1)}}}})]}keys({type:o}){return{Enter:l.splitListItem(o),Tab:l.sinkListItem(o),"Shift-Tab":l.liftListItem(o),"Mod-]":l.sinkListItem(o),"Mod-[":l.liftListItem(o),"Shift-Enter":(o,i)=>{if(!f.default(o))return!1;if(!o.selection.empty)return!1;const{tr:s,selection:a}=o;return i(s.split(a.to)),!0},"Alt-ArrowUp":(o,i)=>{if(!o.selection.empty)return!1;const s=m.default(o);if(!s)return!1;const[a,l]=s,u=o.doc.resolve(l);if(!u.nodeBefore||!["list_item","checkbox_item"].includes(u.nodeBefore.type.name))return console.log("Node before not a list item"),!1;const{tr:d}=o,p=l-u.nodeBefore.nodeSize;return i(d.delete(l,l+a.nodeSize).insert(p,a).setSelection(c.TextSelection.near(d.doc.resolve(p)))),!0},"Alt-ArrowDown":(o,i)=>{if(!o.selection.empty)return!1;const s=m.default(o);if(!s)return!1;const[a,l]=s,u=o.doc.resolve(l+a.nodeSize);if(!u.nodeAfter||!["list_item","checkbox_item"].includes(u.nodeAfter.type.name))return console.log("Node after not a list item"),!1;const{tr:d}=o,p=l+a.nodeSize+u.nodeAfter.nodeSize;return i(d.insert(p,a).setSelection(c.TextSelection.near(d.doc.resolve(p))).delete(l,l+a.nodeSize)),!0}}}toMarkdown(o,i){o.renderContent(i)}parseMarkdown(){return{block:"list_item"}}}i.default=ListItem},Ox1z:function(o,i,s){"use strict";function markup(o){o.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/,name:/[^\s<>'"]+/}},cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},o.languages.markup.tag.inside["attr-value"].inside.entity=o.languages.markup.entity,o.languages.markup.doctype.inside["internal-subset"].inside=o.languages.markup,o.hooks.add("wrap",(function(o){"entity"===o.type&&(o.attributes.title=o.content.value.replace(/&amp;/,"&"))})),Object.defineProperty(o.languages.markup.tag,"addInlined",{value:function addInlined(i,s){var a={};a["language-"+s]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:o.languages[s]},a.cdata=/^<!\[CDATA\[|\]\]>$/i;var l={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:a}};l["language-"+s]={pattern:/[\s\S]+/,inside:o.languages[s]};var c={};c[i]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return i})),"i"),lookbehind:!0,greedy:!0,inside:l},o.languages.insertBefore("markup","cdata",c)}}),o.languages.html=o.languages.markup,o.languages.mathml=o.languages.markup,o.languages.svg=o.languages.markup,o.languages.xml=o.languages.extend("markup",{}),o.languages.ssml=o.languages.xml,o.languages.atom=o.languages.xml,o.languages.rss=o.languages.xml}o.exports=markup,markup.displayName="markup",markup.aliases=["html","mathml","svg","xml","ssml","atom","rss"]},PCxZ:function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=s("+V57"),c=a(s("S5OW"));class HorizontalRule extends c.default{get name(){return"hr"}get schema(){return{attrs:{markup:{default:"---"}},group:"block",parseDOM:[{tag:"hr"}],toDOM:o=>["hr",{class:"***"===o.attrs.markup?"page-break":""}]}}commands({type:o}){return i=>(s,a)=>(a(s.tr.replaceSelectionWith(o.create(i)).scrollIntoView()),!0)}keys({type:o}){return{"Mod-_":(i,s)=>(s(i.tr.replaceSelectionWith(o.create()).scrollIntoView()),!0)}}inputRules({type:o}){return[new l.InputRule(/^(?:---|___\s|\*\*\*\s)$/,((i,s,a,l)=>{const{tr:c}=i;if(s[0]){const i=s[0].trim();c.replaceWith(a-1,l,o.create({markup:i}))}return c}))]}toMarkdown(o,i){o.write(`\n${i.attrs.markup}`),o.closeBlock(i)}parseMarkdown(){return{node:"hr",getAttrs:o=>({markup:o.markup})}}}i.default=HorizontalRule},PqgG:function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=s("UxO+"),c=a(s("xqCI"));class TrailingNode extends c.default{get name(){return"trailing_node"}get defaultOptions(){return{node:"paragraph",notAfter:["paragraph","heading"]}}get plugins(){const o=new l.PluginKey(this.name),i=Object.entries(this.editor.schema.nodes).map((([,o])=>o)).filter((o=>this.options.notAfter.includes(o.name)));return[new l.Plugin({key:o,view:()=>({update:i=>{const{state:s}=i;if(!o.getState(s))return;const{doc:a,schema:l,tr:c}=s,u=l.nodes[this.options.node],d=c.insert(a.content.size,u.create());i.dispatch(d)}}),state:{init:(o,s)=>{const a=s.tr.doc.lastChild;return!!a&&!i.includes(a.type)},apply:(o,s)=>{if(!o.docChanged)return s;const a=o.doc.lastChild;return!!a&&!i.includes(a.type)}}})]}}i.default=TrailingNode},"Q+CF":function(o,i,s){"use strict";o.exports=function format(o){var i="";return i+=o.protocol||"",i+=o.slashes?"//":"",i+=o.auth?o.auth+"@":"",o.hostname&&-1!==o.hostname.indexOf(":")?i+="["+o.hostname+"]":i+=o.hostname||"",i+=o.port?":"+o.port:"",i+=o.pathname||"",i+=o.search||"",i+=o.hash||""}},"Qd3+":function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=s("ABBN"),c=a(s("cohp")),u=a(s("KvXG"));class Bold extends u.default{get name(){return"strong"}get schema(){return{parseDOM:[{tag:"b"},{tag:"strong"},{style:"font-style",getAttrs:o=>"bold"===o}],toDOM:()=>["strong"]}}inputRules({type:o}){return[c.default(/(?:\*\*)([^*]+)(?:\*\*)$/,o)]}keys({type:o}){return{"Mod-b":l.toggleMark(o),"Mod-B":l.toggleMark(o)}}get toMarkdown(){return{open:"**",close:"**",mixable:!0,expelEnclosingWhitespace:!0}}parseMarkdown(){return{mark:"strong"}}}i.default=Bold},Qg97:function(o,i,s){"use strict";function json(o){o.languages.json={property:{pattern:/"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,greedy:!0},string:{pattern:/"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:true|false)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},o.languages.webmanifest=o.languages.json}o.exports=json,json.displayName="json",json.aliases=["webmanifest"]},QjYF:function(o,i,s){"use strict";var a=s("AGgm").isSpace;o.exports=function newline(o,i){var s,l,c=o.pos;if(10!==o.src.charCodeAt(c))return!1;for(s=o.pending.length-1,l=o.posMax,i||(s>=0&&32===o.pending.charCodeAt(s)?s>=1&&32===o.pending.charCodeAt(s-1)?(o.pending=o.pending.replace(/ +$/,""),o.push("hardbreak","br",0)):(o.pending=o.pending.slice(0,-1),o.push("softbreak","br",0)):o.push("softbreak","br",0)),c++;c<l&&a(o.src.charCodeAt(c));)c++;return o.pos=c,!0}},"Qo0+":function(o,i,s){"use strict";o.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","text_collapse"]}}}},QtDi:function(o,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function isList(o,i){return o.type===i.nodes.bullet_list||o.type===i.nodes.ordered_list||o.type===i.nodes.todo_list}},RCnM:function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=s("tsqv"),c=a(s("K0ly"));i.default=function dividerMenuItems(o,i){const{schema:s}=o;return[{name:"hr",tooltip:i.pageBreak,attrs:{markup:"***"},active:c.default(s.nodes.hr,{markup:"***"}),icon:l.PageBreakIcon},{name:"hr",tooltip:i.hr,attrs:{markup:"---"},active:c.default(s.nodes.hr,{markup:"---"}),icon:l.HorizontalRuleIcon}]}},RKh7:function(o,i,s){"use strict";o.exports=function paragraph(o,i){var s,a,l,c,u,d,p=i+1,f=o.md.block.ruler.getRules("paragraph"),m=o.lineMax;for(d=o.parentType,o.parentType="paragraph";p<m&&!o.isEmpty(p);p++)if(!(o.sCount[p]-o.blkIndent>3||o.sCount[p]<0)){for(a=!1,l=0,c=f.length;l<c;l++)if(f[l](o,p,m,!0)){a=!0;break}if(a)break}return s=o.getLines(i,p,o.blkIndent,!1).trim(),o.line=p,(u=o.push("paragraph_open","p",1)).map=[i,o.line],(u=o.push("inline","",0)).content=s,u.map=[i,o.line],u.children=[],u=o.push("paragraph_close","p",-1),o.parentType=d,!0}},RWJ9:function(o,i,s){"use strict";var a=this&&this.__createBinding||(Object.create?function(o,i,s,a){void 0===a&&(a=s),Object.defineProperty(o,a,{enumerable:!0,get:function(){return i[s]}})}:function(o,i,s,a){void 0===a&&(a=s),o[a]=i[s]}),l=this&&this.__setModuleDefault||(Object.create?function(o,i){Object.defineProperty(o,"default",{enumerable:!0,value:i})}:function(o,i){o.default=i}),c=this&&this.__importStar||function(o){if(o&&o.__esModule)return o;var i={};if(null!=o)for(var s in o)"default"!==s&&Object.prototype.hasOwnProperty.call(o,s)&&a(i,o,s);return l(i,o),i},u=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const d=c(s("q1tI")),p=u(s("HIsj")),f=c(s("vOnD")),m=u(s("U/YG"));const g=f.default.button`
  display: flex;
  align-items: center;
  justify-content: flex-start;
  font-weight: 500;
  font-size: 14px;
  line-height: 1;
  width: 100%;
  height: 36px;
  cursor: pointer;
  border: none;
  opacity: ${o=>o.disabled?".5":"1"};
  color: ${o=>o.selected?o.theme.blockToolbarTextSelected:o.theme.blockToolbarText};
  background: ${o=>o.selected?o.theme.blockToolbarTrigger:"none"};
  padding: 0 16px;
  outline: none;

  &:hover,
  &:active {
    color: ${o=>o.theme.blockToolbarTextSelected};
    background: ${o=>o.selected?o.theme.blockToolbarTrigger:o.theme.blockToolbarHoverBackground};
  }
`,v=f.default.span`
  color: ${o=>o.theme.textSecondary};
  flex-grow: 1;
  text-align: right;
`;i.default=f.withTheme((function BlockMenuItem({selected:o,disabled:i,onClick:s,title:a,shortcut:l,icon:c}){const u=c,f=d.useCallback((i=>{o&&i&&p.default(i,{scrollMode:"if-needed",block:"center",boundary:o=>"block-menu-container"!==o.id})}),[o]);return d.createElement(g,{selected:o,onClick:i?void 0:s,ref:f},d.createElement(u,{color:o?m.default.blockToolbarIconSelected:m.default.blockToolbarIcon}),"  ",a,d.createElement(v,null,l))}))},RXC2:function(o,i,s){"use strict";var a=s("FWC9"),l=s("DUvi"),c=s("y3WP"),u=a.boolean,d=a.overloadedBoolean,p=a.booleanish,f=a.number,m=a.spaceSeparated,g=a.commaSeparated;o.exports=l({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:c,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:g,acceptCharset:m,accessKey:m,action:null,allow:null,allowFullScreen:u,allowPaymentRequest:u,allowUserMedia:u,alt:null,as:null,async:u,autoCapitalize:null,autoComplete:m,autoFocus:u,autoPlay:u,capture:u,charSet:null,checked:u,cite:null,className:m,cols:f,colSpan:null,content:null,contentEditable:p,controls:u,controlsList:m,coords:f|g,crossOrigin:null,data:null,dateTime:null,decoding:null,default:u,defer:u,dir:null,dirName:null,disabled:u,download:d,draggable:p,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:u,formTarget:null,headers:m,height:f,hidden:u,high:f,href:null,hrefLang:null,htmlFor:m,httpEquiv:m,id:null,imageSizes:null,imageSrcSet:g,inputMode:null,integrity:null,is:null,isMap:u,itemId:null,itemProp:m,itemRef:m,itemScope:u,itemType:m,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:u,low:f,manifest:null,max:null,maxLength:f,media:null,method:null,min:null,minLength:f,multiple:u,muted:u,name:null,nonce:null,noModule:u,noValidate:u,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextMenu:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:u,optimum:f,pattern:null,ping:m,placeholder:null,playsInline:u,poster:null,preload:null,readOnly:u,referrerPolicy:null,rel:m,required:u,reversed:u,rows:f,rowSpan:f,sandbox:m,scope:null,scoped:u,seamless:u,selected:u,shape:null,size:f,sizes:null,slot:null,span:f,spellCheck:p,src:null,srcDoc:null,srcLang:null,srcSet:g,start:f,step:null,style:null,tabIndex:f,target:null,title:null,translate:null,type:null,typeMustMatch:u,useMap:null,value:p,width:f,wrap:null,align:null,aLink:null,archive:m,axis:null,background:null,bgColor:null,border:f,borderColor:null,bottomMargin:f,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:u,declare:u,event:null,face:null,frame:null,frameBorder:null,hSpace:f,leftMargin:f,link:null,longDesc:null,lowSrc:null,marginHeight:f,marginWidth:f,noResize:u,noHref:u,noShade:u,noWrap:u,object:null,profile:null,prompt:null,rev:null,rightMargin:f,rules:null,scheme:null,scrolling:p,standby:null,summary:null,text:null,topMargin:f,valueType:null,version:null,vAlign:null,vLink:null,vSpace:f,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:u,disableRemotePlayback:u,prefix:null,property:null,results:f,security:null,unselectable:null}})},RoP8:function(o,i,s){"use strict";function bash(o){!function(o){var i="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",s={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},a={bash:s,environment:{pattern:RegExp("\\$"+i),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--?|-=|\+\+?|\+=|!=?|~|\*\*?|\*=|\/=?|%=?|<<=?|>>=?|<=?|>=?|==?|&&?|&=|\^=?|\|\|?|\|=|\?|:/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+i),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|x[0-9a-fA-F]{1,2}|u[0-9a-fA-F]{4}|U[0-9a-fA-F]{8})/};o.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)\w+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b\w+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+i),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+?)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:a},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:s}},{pattern:/(^|[^\\](?:\\\\)*)(["'])(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|(?!\2)[^\\`$])*\2/,lookbehind:!0,greedy:!0,inside:a}],environment:{pattern:RegExp("\\$?"+i),alias:"constant"},variable:a.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|aptitude|apt-cache|apt-get|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:if|then|else|elif|fi|for|while|in|case|esac|function|select|do|done|until)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|break|cd|continue|eval|exec|exit|export|getopts|hash|pwd|readonly|return|shift|test|times|trap|umask|unset|alias|bind|builtin|caller|command|declare|echo|enable|help|let|local|logout|mapfile|printf|read|readarray|source|type|typeset|ulimit|unalias|set|shopt)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:true|false)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|==?|!=?|=~|<<[<-]?|[&\d]?>>|\d?[<>]&?|&[>&]?|\|[&|]?|<=?|>=?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},s.inside=o.languages.bash;for(var l=["comment","function-name","for-or-select","assign-left","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],c=a.variable[1].inside,u=0;u<l.length;u++)c[l[u]]=o.languages.bash[l[u]];o.languages.shell=o.languages.bash}(o)}o.exports=bash,bash.displayName="bash",bash.aliases=["shell"]},"S+IR":function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0}),i.headingToPersistenceKey=void 0;const l=a(s("Te9D")),c=a(s("NmYn"));function headingToSlug(o,i=0){const s=function safeSlugify(o){return`h-${l.default(c.default(o,{remove:/[!"#$%&'\.()*+,\/:;<=>?@\[\]\\^_`{|}~]/g,lower:!0}))}`}(o.textContent);return 0===i?s:`${s}-${i}`}i.default=headingToSlug,i.headingToPersistenceKey=function headingToPersistenceKey(o,i){const s=headingToSlug(o);return`rme-${i||(null===window||void 0===window?void 0:window.location.pathname)}–${s}`}},S14j:function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=s("ABBN"),c=a(s("cohp")),u=a(s("KvXG"));class Underline extends u.default{get name(){return"underline"}get schema(){return{parseDOM:[{tag:"u"},{style:"text-decoration",getAttrs:o=>"underline"===o}],toDOM:()=>["u",0]}}inputRules({type:o}){return[c.default(/(?:__)([^_]+)(?:__)$/,o)]}keys({type:o}){return{"Mod-u":l.toggleMark(o)}}get toMarkdown(){return{open:"__",close:"__",mixable:!0,expelEnclosingWhitespace:!0}}parseMarkdown(){return{mark:"underline"}}}i.default=Underline},S5OW:function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=a(s("xqCI"));class Node extends l.default{get type(){return"node"}get markdownToken(){return""}toMarkdown(o,i){console.error("toMarkdown not implemented",o,i)}parseMarkdown(){}}i.default=Node},SINd:function(o,i,s){"use strict";function Ruler(){this.__rules__=[],this.__cache__=null}Ruler.prototype.__find__=function(o){for(var i=0;i<this.__rules__.length;i++)if(this.__rules__[i].name===o)return i;return-1},Ruler.prototype.__compile__=function(){var o=this,i=[""];o.__rules__.forEach((function(o){o.enabled&&o.alt.forEach((function(o){i.indexOf(o)<0&&i.push(o)}))})),o.__cache__={},i.forEach((function(i){o.__cache__[i]=[],o.__rules__.forEach((function(s){s.enabled&&(i&&s.alt.indexOf(i)<0||o.__cache__[i].push(s.fn))}))}))},Ruler.prototype.at=function(o,i,s){var a=this.__find__(o),l=s||{};if(-1===a)throw new Error("Parser rule not found: "+o);this.__rules__[a].fn=i,this.__rules__[a].alt=l.alt||[],this.__cache__=null},Ruler.prototype.before=function(o,i,s,a){var l=this.__find__(o),c=a||{};if(-1===l)throw new Error("Parser rule not found: "+o);this.__rules__.splice(l,0,{name:i,enabled:!0,fn:s,alt:c.alt||[]}),this.__cache__=null},Ruler.prototype.after=function(o,i,s,a){var l=this.__find__(o),c=a||{};if(-1===l)throw new Error("Parser rule not found: "+o);this.__rules__.splice(l+1,0,{name:i,enabled:!0,fn:s,alt:c.alt||[]}),this.__cache__=null},Ruler.prototype.push=function(o,i,s){var a=s||{};this.__rules__.push({name:o,enabled:!0,fn:i,alt:a.alt||[]}),this.__cache__=null},Ruler.prototype.enable=function(o,i){Array.isArray(o)||(o=[o]);var s=[];return o.forEach((function(o){var a=this.__find__(o);if(a<0){if(i)return;throw new Error("Rules manager: invalid rule name "+o)}this.__rules__[a].enabled=!0,s.push(o)}),this),this.__cache__=null,s},Ruler.prototype.enableOnly=function(o,i){Array.isArray(o)||(o=[o]),this.__rules__.forEach((function(o){o.enabled=!1})),this.enable(o,i)},Ruler.prototype.disable=function(o,i){Array.isArray(o)||(o=[o]);var s=[];return o.forEach((function(o){var a=this.__find__(o);if(a<0){if(i)return;throw new Error("Rules manager: invalid rule name "+o)}this.__rules__[a].enabled=!1,s.push(o)}),this),this.__cache__=null,s},Ruler.prototype.getRules=function(o){return null===this.__cache__&&this.__compile__(),this.__cache__[o]||[]},o.exports=Ruler},SVLc:function(o,i,s){"use strict";function ruby(o){!function(o){o.languages.ruby=o.languages.extend("clike",{comment:[/#.*/,{pattern:/^=begin\s[\s\S]*?^=end/m,greedy:!0}],"class-name":{pattern:/(\b(?:class)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:alias|and|BEGIN|begin|break|case|class|def|define_method|defined|do|each|else|elsif|END|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|protected|private|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/});var i={pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"tag"},rest:o.languages.ruby}};delete o.languages.ruby.function,o.languages.insertBefore("ruby","keyword",{regex:[{pattern:RegExp(/%r/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1[gim]{0,3}/.source,/\((?:[^()\\]|\\[\s\S])*\)[gim]{0,3}/.source,/\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}[gim]{0,3}/.source,/\[(?:[^\[\]\\]|\\[\s\S])*\][gim]{0,3}/.source,/<(?:[^<>\\]|\\[\s\S])*>[gim]{0,3}/.source].join("|")+")"),greedy:!0,inside:{interpolation:i}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[gim]{0,3}(?=\s*(?:$|[\r\n,.;})]))/,lookbehind:!0,greedy:!0}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:{pattern:/(^|[^:]):[a-zA-Z_]\w*(?:[?!]|\b)/,lookbehind:!0},"method-definition":{pattern:/(\bdef\s+)[\w.]+/,lookbehind:!0,inside:{function:/\w+$/,rest:o.languages.ruby}}}),o.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Stat|Fixnum|Float|Hash|Integer|IO|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|String|Struct|TMS|Symbol|ThreadGroup|Thread|Time|TrueClass)\b/,constant:/\b[A-Z]\w*(?:[?!]|\b)/}),o.languages.ruby.string=[{pattern:RegExp(/%[qQiIwWxs]?/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S])*\)/.source,/\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S])*\]/.source,/<(?:[^<>\\]|\\[\s\S])*>/.source].join("|")+")"),greedy:!0,inside:{interpolation:i}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:i}}],o.languages.rb=o.languages.ruby}(o)}o.exports=ruby,ruby.displayName="ruby",ruby.aliases=["rb"]},SpRm:function(o,i,s){"use strict";o.exports=function backtick(o,i){var s,a,l,c,u,d,p=o.pos;if(96!==o.src.charCodeAt(p))return!1;for(s=p,p++,a=o.posMax;p<a&&96===o.src.charCodeAt(p);)p++;for(l=o.src.slice(s,p),c=u=p;-1!==(c=o.src.indexOf("`",u));){for(u=c+1;u<a&&96===o.src.charCodeAt(u);)u++;if(u-c===l.length)return i||((d=o.push("code_inline","code",0)).markup=l,d.content=o.src.slice(p,c).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),o.pos=u,!0}return i||(o.pending+=l),o.pos+=l.length,!0}},Sz5L:function(o,i,s){"use strict";var a=s("AGgm").isSpace;function skipBulletListMarker(o,i){var s,l,c,u;return l=o.bMarks[i]+o.tShift[i],c=o.eMarks[i],42!==(s=o.src.charCodeAt(l++))&&45!==s&&43!==s||l<c&&(u=o.src.charCodeAt(l),!a(u))?-1:l}function skipOrderedListMarker(o,i){var s,l=o.bMarks[i]+o.tShift[i],c=l,u=o.eMarks[i];if(c+1>=u)return-1;if((s=o.src.charCodeAt(c++))<48||s>57)return-1;for(;;){if(c>=u)return-1;if(!((s=o.src.charCodeAt(c++))>=48&&s<=57)){if(41===s||46===s)break;return-1}if(c-l>=10)return-1}return c<u&&(s=o.src.charCodeAt(c),!a(s))?-1:c}o.exports=function list(o,i,s,a){var l,c,u,d,p,f,m,g,v,y,b,k,w,S,x,C,_,O,M,A,E,T,D,I,N,R,P,L,F=!1,B=!0;if(o.sCount[i]-o.blkIndent>=4)return!1;if(o.listIndent>=0&&o.sCount[i]-o.listIndent>=4&&o.sCount[i]<o.blkIndent)return!1;if(a&&"paragraph"===o.parentType&&o.tShift[i]>=o.blkIndent&&(F=!0),(D=skipOrderedListMarker(o,i))>=0){if(m=!0,N=o.bMarks[i]+o.tShift[i],w=Number(o.src.substr(N,D-N-1)),F&&1!==w)return!1}else{if(!((D=skipBulletListMarker(o,i))>=0))return!1;m=!1}if(F&&o.skipSpaces(D)>=o.eMarks[i])return!1;if(k=o.src.charCodeAt(D-1),a)return!0;for(b=o.tokens.length,m?(L=o.push("ordered_list_open","ol",1),1!==w&&(L.attrs=[["start",w]])):L=o.push("bullet_list_open","ul",1),L.map=y=[i,0],L.markup=String.fromCharCode(k),x=i,I=!1,P=o.md.block.ruler.getRules("list"),O=o.parentType,o.parentType="list";x<s;){for(T=D,S=o.eMarks[x],f=C=o.sCount[x]+D-(o.bMarks[i]+o.tShift[i]);T<S;){if(9===(l=o.src.charCodeAt(T)))C+=4-(C+o.bsCount[x])%4;else{if(32!==l)break;C++}T++}if((p=(c=T)>=S?1:C-f)>4&&(p=1),d=f+p,(L=o.push("list_item_open","li",1)).markup=String.fromCharCode(k),L.map=g=[i,0],E=o.tight,A=o.tShift[i],M=o.sCount[i],_=o.listIndent,o.listIndent=o.blkIndent,o.blkIndent=d,o.tight=!0,o.tShift[i]=c-o.bMarks[i],o.sCount[i]=C,c>=S&&o.isEmpty(i+1)?o.line=Math.min(o.line+2,s):o.md.block.tokenize(o,i,s,!0),o.tight&&!I||(B=!1),I=o.line-i>1&&o.isEmpty(o.line-1),o.blkIndent=o.listIndent,o.listIndent=_,o.tShift[i]=A,o.sCount[i]=M,o.tight=E,(L=o.push("list_item_close","li",-1)).markup=String.fromCharCode(k),x=i=o.line,g[1]=x,c=o.bMarks[i],x>=s)break;if(o.sCount[x]<o.blkIndent)break;if(o.sCount[i]-o.blkIndent>=4)break;for(R=!1,u=0,v=P.length;u<v;u++)if(P[u](o,x,s,!0)){R=!0;break}if(R)break;if(m){if((D=skipOrderedListMarker(o,x))<0)break}else if((D=skipBulletListMarker(o,x))<0)break;if(k!==o.src.charCodeAt(D-1))break}return(L=m?o.push("ordered_list_close","ol",-1):o.push("bullet_list_close","ul",-1)).markup=String.fromCharCode(k),y[1]=x,o.line=x,o.parentType=O,B&&function markTightParagraphs(o,i){var s,a,l=o.level+2;for(s=i+2,a=o.tokens.length-2;s<a;s++)o.tokens[s].level===l&&"paragraph_open"===o.tokens[s].type&&(o.tokens[s+2].hidden=!0,o.tokens[s].hidden=!0,s+=2)}(o,b),!0}},"T6B/":function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=s("+V57"),c=s("hyZr"),u=a(s("xqCI"));class History extends u.default{get name(){return"history"}keys(){return{"Mod-z":c.undo,"Mod-y":c.redo,"Shift-Mod-z":c.redo,Backspace:l.undoInputRule}}get plugins(){return[c.history()]}}i.default=History},T8I8:function(o,i){o.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/},TCYN:function(o,i,s){"use strict";var a=/\r\n?|\n/g,l=/\0/g;o.exports=function normalize(o){var i;i=(i=o.src.replace(a,"\n")).replace(l,"�"),o.src=i}},TLR5:function(o,i,s){"use strict";var a=s("SINd"),l=[["text",s("usqY")],["newline",s("QjYF")],["escape",s("bgCn")],["backticks",s("SpRm")],["strikethrough",s("kiyR").tokenize],["emphasis",s("yKnv").tokenize],["link",s("zQ/W")],["image",s("ky0j")],["autolink",s("KOyK")],["html_inline",s("wtjL")],["entity",s("W1Rp")]],c=[["balance_pairs",s("g40J")],["strikethrough",s("kiyR").postProcess],["emphasis",s("yKnv").postProcess],["text_collapse",s("IIUr")]];function ParserInline(){var o;for(this.ruler=new a,o=0;o<l.length;o++)this.ruler.push(l[o][0],l[o][1]);for(this.ruler2=new a,o=0;o<c.length;o++)this.ruler2.push(c[o][0],c[o][1])}ParserInline.prototype.skipToken=function(o){var i,s,a=o.pos,l=this.ruler.getRules(""),c=l.length,u=o.md.options.maxNesting,d=o.cache;if(void 0===d[a]){if(o.level<u)for(s=0;s<c&&(o.level++,i=l[s](o,!0),o.level--,!i);s++);else o.pos=o.posMax;i||o.pos++,d[a]=o.pos}else o.pos=d[a]},ParserInline.prototype.tokenize=function(o){for(var i,s,a=this.ruler.getRules(""),l=a.length,c=o.posMax,u=o.md.options.maxNesting;o.pos<c;){if(o.level<u)for(s=0;s<l&&!(i=a[s](o,!1));s++);if(i){if(o.pos>=c)break}else o.pending+=o.src[o.pos++]}o.pending&&o.pushPending()},ParserInline.prototype.parse=function(o,i,s,a){var l,c,u,d=new this.State(o,i,s,a);for(this.tokenize(d),u=(c=this.ruler2.getRules("")).length,l=0;l<u;l++)c[l](d)},ParserInline.prototype.State=s("CXva"),o.exports=ParserInline},TTG4:function(o,i,s){"use strict";i.parse=function parse(o){var i=String(o||"").trim();return""===i?[]:i.split(a)},i.stringify=function stringify(o){return o.join(" ").trim()};var a=/[ \t\n\r\f]+/g},Te9D:function(o,i,s){var a=s("/kAC"),l=s("dt0z"),c=/[&<>"']/g,u=RegExp(c.source);o.exports=function escape(o){return(o=l(o))&&u.test(o)?o.replace(c,a):o}},"U/YG":function(o,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.dark=i.light=i.base=void 0;const a={almostBlack:"#181A1B",lightBlack:"#2F3336",almostWhite:"#E6E6E6",white:"#FFF",white10:"rgba(255, 255, 255, 0.1)",black:"#000",black10:"rgba(0, 0, 0, 0.1)",primary:"#1AB6FF",greyLight:"#F4F7FA",grey:"#E8EBED",greyMid:"#C5CCD3",greyDark:"#DAE1E9"};i.base=Object.assign(Object.assign({},a),{fontFamily:"-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen, Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif",fontFamilyMono:"'SFMono-Regular',Consolas,'Liberation Mono', Menlo, Courier,monospace",fontWeight:400,zIndex:100,link:a.primary,placeholder:"#B1BECC",textSecondary:"#4E5C6E",textLight:a.white,textHighlight:"#b3e7ff",textHighlightForeground:a.black,selected:a.primary,codeComment:"#6a737d",codePunctuation:"#5e6687",codeNumber:"#d73a49",codeProperty:"#c08b30",codeTag:"#3d8fd1",codeString:"#032f62",codeSelector:"#6679cc",codeAttr:"#c76b29",codeEntity:"#22a2c9",codeKeyword:"#d73a49",codeFunction:"#6f42c1",codeStatement:"#22a2c9",codePlaceholder:"#3d8fd1",codeInserted:"#202746",codeImportant:"#c94922",blockToolbarBackground:a.white,blockToolbarTrigger:a.greyMid,blockToolbarTriggerIcon:a.white,blockToolbarItem:a.almostBlack,blockToolbarIcon:void 0,blockToolbarIconSelected:a.black,blockToolbarText:a.almostBlack,blockToolbarTextSelected:a.black,blockToolbarHoverBackground:a.greyLight,blockToolbarDivider:a.greyMid,noticeInfoBackground:"#F5BE31",noticeInfoText:a.almostBlack,noticeTipBackground:"#9E5CF7",noticeTipText:a.white,noticeWarningBackground:"#FF5C80",noticeWarningText:a.white}),i.light=Object.assign(Object.assign({},i.base),{background:a.white,text:a.almostBlack,code:a.lightBlack,cursor:a.black,divider:a.greyMid,toolbarBackground:a.lightBlack,toolbarHoverBackground:a.black,toolbarInput:a.white10,toolbarItem:a.white,tableDivider:a.greyMid,tableSelected:a.primary,tableSelectedBackground:"#E5F7FF",quote:a.greyDark,codeBackground:a.greyLight,codeBorder:a.grey,horizontalRule:a.greyMid,imageErrorBackground:a.greyLight,scrollbarBackground:a.greyLight,scrollbarThumb:a.greyMid}),i.dark=Object.assign(Object.assign({},i.base),{background:a.almostBlack,text:a.almostWhite,code:a.almostWhite,cursor:a.white,divider:"#4E5C6E",placeholder:"#52657A",toolbarBackground:a.white,toolbarHoverBackground:a.greyMid,toolbarInput:a.black10,toolbarItem:a.lightBlack,tableDivider:a.lightBlack,tableSelected:a.primary,tableSelectedBackground:"#002333",quote:a.greyDark,codeBackground:a.black,codeBorder:a.lightBlack,codeString:"#3d8fd1",horizontalRule:a.lightBlack,imageErrorBackground:"rgba(0, 0, 0, 0.5)",scrollbarBackground:a.black,scrollbarThumb:a.lightBlack}),i.default=i.light},U1So:function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=a(s("+BFG"));class CodeBlock extends l.default{get name(){return"code_block"}get markdownToken(){return"code_block"}}i.default=CodeBlock},U6jy:function(o,i){o.exports=function extend(){for(var o={},i=0;i<arguments.length;i++){var a=arguments[i];for(var l in a)s.call(a,l)&&(o[l]=a[l])}return o};var s=Object.prototype.hasOwnProperty},UIsr:function(o,i,s){"use strict";var a=this&&this.__createBinding||(Object.create?function(o,i,s,a){void 0===a&&(a=s),Object.defineProperty(o,a,{enumerable:!0,get:function(){return i[s]}})}:function(o,i,s,a){void 0===a&&(a=s),o[a]=i[s]}),l=this&&this.__setModuleDefault||(Object.create?function(o,i){Object.defineProperty(o,"default",{enumerable:!0,value:i})}:function(o,i){o.default=i}),c=this&&this.__importStar||function(o){if(o&&o.__esModule)return o;var i={};if(null!=o)for(var s in o)"default"!==s&&Object.prototype.hasOwnProperty.call(o,s)&&a(i,o,s);return l(i,o),i},u=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const d=s("+V57"),p=u(s("62gO")),f=s("tsqv"),m=c(s("q1tI")),g=u(s("i8i4")),v=u(s("S5OW"));class Notice extends v.default{constructor(){super(...arguments),this.handleStyleChange=o=>{const{view:i}=this.editor,{tr:s}=i.state,a=o.target,{top:l,left:c}=a.getBoundingClientRect(),u=i.posAtCoords({top:l,left:c});if(u){const o=s.setNodeMarkup(u.inside,void 0,{style:a.value});i.dispatch(o)}}}get styleOptions(){return Object.entries({info:this.options.dictionary.info,warning:this.options.dictionary.warning,tip:this.options.dictionary.tip})}get name(){return"container_notice"}get schema(){return{attrs:{style:{default:"info"}},content:"block+",group:"block",defining:!0,draggable:!0,parseDOM:[{tag:"div.notice-block",preserveWhitespace:"full",contentElement:"div:last-child",getAttrs:o=>({style:o.className.includes("tip")?"tip":o.className.includes("warning")?"warning":void 0})}],toDOM:o=>{const i=document.createElement("select");let s;i.addEventListener("change",this.handleStyleChange),this.styleOptions.forEach((([s,a])=>{const l=document.createElement("option");l.value=s,l.innerText=a,l.selected=o.attrs.style===s,i.appendChild(l)})),s="tip"===o.attrs.style?m.createElement(f.StarredIcon,{color:"currentColor"}):"warning"===o.attrs.style?m.createElement(f.WarningIcon,{color:"currentColor"}):m.createElement(f.InfoIcon,{color:"currentColor"});const a=document.createElement("div");return a.className="icon",g.default.render(s,a),["div",{class:`notice-block ${o.attrs.style}`},a,["div",{contentEditable:!1},i],["div",{class:"content"},0]]}}}commands({type:o}){return i=>p.default(o,i)}inputRules({type:o}){return[d.wrappingInputRule(/^:::$/,o)]}toMarkdown(o,i){o.write("\n:::"+(i.attrs.style||"info")+"\n"),o.renderContent(i),o.ensureNewLine(),o.write(":::"),o.closeBlock(i)}parseMarkdown(){return{block:"container_notice",getAttrs:o=>({style:o.info})}}}i.default=Notice},Ut8p:function(o,i,s){"use strict";o.exports=Info;var a=Info.prototype;function Info(o,i){this.property=o,this.attribute=i}a.space=null,a.attribute=null,a.property=null,a.boolean=!1,a.booleanish=!1,a.overloadedBoolean=!1,a.number=!1,a.commaSeparated=!1,a.spaceSeparated=!1,a.commaOrSpaceSeparated=!1,a.mustUseProperty=!1,a.defined=!1},"UxO+":function(o,i,s){"use strict";s.r(i),s.d(i,"AllSelection",(function(){return y})),s.d(i,"EditorState",(function(){return C})),s.d(i,"NodeSelection",(function(){return g})),s.d(i,"Plugin",(function(){return M})),s.d(i,"PluginKey",(function(){return E})),s.d(i,"Selection",(function(){return u})),s.d(i,"SelectionRange",(function(){return p})),s.d(i,"TextSelection",(function(){return f})),s.d(i,"Transaction",(function(){return k}));var a=s("MEpN"),l=s("CsC6"),c=Object.create(null),u=function Selection(o,i,s){this.ranges=s||[new p(o.min(i),o.max(i))],this.$anchor=o,this.$head=i},d={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};d.anchor.get=function(){return this.$anchor.pos},d.head.get=function(){return this.$head.pos},d.from.get=function(){return this.$from.pos},d.to.get=function(){return this.$to.pos},d.$from.get=function(){return this.ranges[0].$from},d.$to.get=function(){return this.ranges[0].$to},d.empty.get=function(){for(var o=this.ranges,i=0;i<o.length;i++)if(o[i].$from.pos!=o[i].$to.pos)return!1;return!0},u.prototype.content=function content(){return this.$from.node(0).slice(this.from,this.to,!0)},u.prototype.replace=function replace(o,i){void 0===i&&(i=a.Slice.empty);for(var s=i.content.lastChild,l=null,c=0;c<i.openEnd;c++)l=s,s=s.lastChild;for(var u=o.steps.length,d=this.ranges,p=0;p<d.length;p++){var f=d[p],m=f.$from,g=f.$to,v=o.mapping.slice(u);o.replaceRange(v.map(m.pos),v.map(g.pos),p?a.Slice.empty:i),0==p&&selectionToInsertionEnd(o,u,(s?s.isInline:l&&l.isTextblock)?-1:1)}},u.prototype.replaceWith=function replaceWith(o,i){for(var s=o.steps.length,a=this.ranges,l=0;l<a.length;l++){var c=a[l],u=c.$from,d=c.$to,p=o.mapping.slice(s),f=p.map(u.pos),m=p.map(d.pos);l?o.deleteRange(f,m):(o.replaceRangeWith(f,m,i),selectionToInsertionEnd(o,s,i.isInline?-1:1))}},u.findFrom=function findFrom(o,i,s){var a=o.parent.inlineContent?new f(o):findSelectionIn(o.node(0),o.parent,o.pos,o.index(),i,s);if(a)return a;for(var l=o.depth-1;l>=0;l--){var c=i<0?findSelectionIn(o.node(0),o.node(l),o.before(l+1),o.index(l),i,s):findSelectionIn(o.node(0),o.node(l),o.after(l+1),o.index(l)+1,i,s);if(c)return c}},u.near=function near(o,i){return void 0===i&&(i=1),this.findFrom(o,i)||this.findFrom(o,-i)||new y(o.node(0))},u.atStart=function atStart(o){return findSelectionIn(o,o,0,0,1)||new y(o)},u.atEnd=function atEnd(o){return findSelectionIn(o,o,o.content.size,o.childCount,-1)||new y(o)},u.fromJSON=function fromJSON(o,i){if(!i||!i.type)throw new RangeError("Invalid input for Selection.fromJSON");var s=c[i.type];if(!s)throw new RangeError("No selection type "+i.type+" defined");return s.fromJSON(o,i)},u.jsonID=function jsonID(o,i){if(o in c)throw new RangeError("Duplicate use of selection JSON ID "+o);return c[o]=i,i.prototype.jsonID=o,i},u.prototype.getBookmark=function getBookmark(){return f.between(this.$anchor,this.$head).getBookmark()},Object.defineProperties(u.prototype,d),u.prototype.visible=!0;var p=function SelectionRange(o,i){this.$from=o,this.$to=i},f=function(o){function TextSelection(i,s){void 0===s&&(s=i),o.call(this,i,s)}o&&(TextSelection.__proto__=o),TextSelection.prototype=Object.create(o&&o.prototype),TextSelection.prototype.constructor=TextSelection;var i={$cursor:{configurable:!0}};return i.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},TextSelection.prototype.map=function map(i,s){var a=i.resolve(s.map(this.head));if(!a.parent.inlineContent)return o.near(a);var l=i.resolve(s.map(this.anchor));return new TextSelection(l.parent.inlineContent?l:a,a)},TextSelection.prototype.replace=function replace(i,s){if(void 0===s&&(s=a.Slice.empty),o.prototype.replace.call(this,i,s),s==a.Slice.empty){var l=this.$from.marksAcross(this.$to);l&&i.ensureMarks(l)}},TextSelection.prototype.eq=function eq(o){return o instanceof TextSelection&&o.anchor==this.anchor&&o.head==this.head},TextSelection.prototype.getBookmark=function getBookmark(){return new m(this.anchor,this.head)},TextSelection.prototype.toJSON=function toJSON(){return{type:"text",anchor:this.anchor,head:this.head}},TextSelection.fromJSON=function fromJSON(o,i){if("number"!=typeof i.anchor||"number"!=typeof i.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new TextSelection(o.resolve(i.anchor),o.resolve(i.head))},TextSelection.create=function create(o,i,s){void 0===s&&(s=i);var a=o.resolve(i);return new this(a,s==i?a:o.resolve(s))},TextSelection.between=function between(i,s,a){var l=i.pos-s.pos;if(a&&!l||(a=l>=0?1:-1),!s.parent.inlineContent){var c=o.findFrom(s,a,!0)||o.findFrom(s,-a,!0);if(!c)return o.near(s,a);s=c.$head}return i.parent.inlineContent||(0==l||(i=(o.findFrom(i,-a,!0)||o.findFrom(i,a,!0)).$anchor).pos<s.pos!=l<0)&&(i=s),new TextSelection(i,s)},Object.defineProperties(TextSelection.prototype,i),TextSelection}(u);u.jsonID("text",f);var m=function TextBookmark(o,i){this.anchor=o,this.head=i};m.prototype.map=function map(o){return new m(o.map(this.anchor),o.map(this.head))},m.prototype.resolve=function resolve(o){return f.between(o.resolve(this.anchor),o.resolve(this.head))};var g=function(o){function NodeSelection(i){var s=i.nodeAfter,a=i.node(0).resolve(i.pos+s.nodeSize);o.call(this,i,a),this.node=s}return o&&(NodeSelection.__proto__=o),NodeSelection.prototype=Object.create(o&&o.prototype),NodeSelection.prototype.constructor=NodeSelection,NodeSelection.prototype.map=function map(i,s){var a=s.mapResult(this.anchor),l=a.deleted,c=a.pos,u=i.resolve(c);return l?o.near(u):new NodeSelection(u)},NodeSelection.prototype.content=function content(){return new a.Slice(a.Fragment.from(this.node),0,0)},NodeSelection.prototype.eq=function eq(o){return o instanceof NodeSelection&&o.anchor==this.anchor},NodeSelection.prototype.toJSON=function toJSON(){return{type:"node",anchor:this.anchor}},NodeSelection.prototype.getBookmark=function getBookmark(){return new v(this.anchor)},NodeSelection.fromJSON=function fromJSON(o,i){if("number"!=typeof i.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new NodeSelection(o.resolve(i.anchor))},NodeSelection.create=function create(o,i){return new this(o.resolve(i))},NodeSelection.isSelectable=function isSelectable(o){return!o.isText&&!1!==o.type.spec.selectable},NodeSelection}(u);g.prototype.visible=!1,u.jsonID("node",g);var v=function NodeBookmark(o){this.anchor=o};v.prototype.map=function map(o){var i=o.mapResult(this.anchor),s=i.deleted,a=i.pos;return s?new m(a,a):new v(a)},v.prototype.resolve=function resolve(o){var i=o.resolve(this.anchor),s=i.nodeAfter;return s&&g.isSelectable(s)?new g(i):u.near(i)};var y=function(o){function AllSelection(i){o.call(this,i.resolve(0),i.resolve(i.content.size))}return o&&(AllSelection.__proto__=o),AllSelection.prototype=Object.create(o&&o.prototype),AllSelection.prototype.constructor=AllSelection,AllSelection.prototype.replace=function replace(i,s){if(void 0===s&&(s=a.Slice.empty),s==a.Slice.empty){i.delete(0,i.doc.content.size);var l=o.atStart(i.doc);l.eq(i.selection)||i.setSelection(l)}else o.prototype.replace.call(this,i,s)},AllSelection.prototype.toJSON=function toJSON(){return{type:"all"}},AllSelection.fromJSON=function fromJSON(o){return new AllSelection(o)},AllSelection.prototype.map=function map(o){return new AllSelection(o)},AllSelection.prototype.eq=function eq(o){return o instanceof AllSelection},AllSelection.prototype.getBookmark=function getBookmark(){return b},AllSelection}(u);u.jsonID("all",y);var b={map:function map(){return this},resolve:function resolve(o){return new y(o)}};function findSelectionIn(o,i,s,a,l,c){if(i.inlineContent)return f.create(o,s);for(var u=a-(l>0?0:1);l>0?u<i.childCount:u>=0;u+=l){var d=i.child(u);if(d.isAtom){if(!c&&g.isSelectable(d))return g.create(o,s-(l<0?d.nodeSize:0))}else{var p=findSelectionIn(o,d,s+l,l<0?d.childCount:0,l,c);if(p)return p}s+=d.nodeSize*l}}function selectionToInsertionEnd(o,i,s){var a=o.steps.length-1;if(!(a<i)){var c,d=o.steps[a];if(d instanceof l.c||d instanceof l.b)o.mapping.maps[a].forEach((function(o,i,s,a){null==c&&(c=a)})),o.setSelection(u.near(o.doc.resolve(c),s))}}var k=function(o){function Transaction(i){o.call(this,i.doc),this.time=Date.now(),this.curSelection=i.selection,this.curSelectionFor=0,this.storedMarks=i.storedMarks,this.updated=0,this.meta=Object.create(null)}o&&(Transaction.__proto__=o),Transaction.prototype=Object.create(o&&o.prototype),Transaction.prototype.constructor=Transaction;var i={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return i.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},Transaction.prototype.setSelection=function setSelection(o){if(o.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=o,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this},i.selectionSet.get=function(){return(1&this.updated)>0},Transaction.prototype.setStoredMarks=function setStoredMarks(o){return this.storedMarks=o,this.updated|=2,this},Transaction.prototype.ensureMarks=function ensureMarks(o){return a.Mark.sameSet(this.storedMarks||this.selection.$from.marks(),o)||this.setStoredMarks(o),this},Transaction.prototype.addStoredMark=function addStoredMark(o){return this.ensureMarks(o.addToSet(this.storedMarks||this.selection.$head.marks()))},Transaction.prototype.removeStoredMark=function removeStoredMark(o){return this.ensureMarks(o.removeFromSet(this.storedMarks||this.selection.$head.marks()))},i.storedMarksSet.get=function(){return(2&this.updated)>0},Transaction.prototype.addStep=function addStep(i,s){o.prototype.addStep.call(this,i,s),this.updated=-3&this.updated,this.storedMarks=null},Transaction.prototype.setTime=function setTime(o){return this.time=o,this},Transaction.prototype.replaceSelection=function replaceSelection(o){return this.selection.replace(this,o),this},Transaction.prototype.replaceSelectionWith=function replaceSelectionWith(o,i){var s=this.selection;return!1!==i&&(o=o.mark(this.storedMarks||(s.empty?s.$from.marks():s.$from.marksAcross(s.$to)||a.Mark.none))),s.replaceWith(this,o),this},Transaction.prototype.deleteSelection=function deleteSelection(){return this.selection.replace(this),this},Transaction.prototype.insertText=function insertText(o,i,s){void 0===s&&(s=i);var a=this.doc.type.schema;if(null==i)return o?this.replaceSelectionWith(a.text(o),!0):this.deleteSelection();if(!o)return this.deleteRange(i,s);var l=this.storedMarks;if(!l){var c=this.doc.resolve(i);l=s==i?c.marks():c.marksAcross(this.doc.resolve(s))}return this.replaceRangeWith(i,s,a.text(o,l)),this.selection.empty||this.setSelection(u.near(this.selection.$to)),this},Transaction.prototype.setMeta=function setMeta(o,i){return this.meta["string"==typeof o?o:o.key]=i,this},Transaction.prototype.getMeta=function getMeta(o){return this.meta["string"==typeof o?o:o.key]},i.isGeneric.get=function(){for(var o in this.meta)return!1;return!0},Transaction.prototype.scrollIntoView=function scrollIntoView(){return this.updated|=4,this},i.scrolledIntoView.get=function(){return(4&this.updated)>0},Object.defineProperties(Transaction.prototype,i),Transaction}(l.d);function bind(o,i){return i&&o?o.bind(i):o}var w=function FieldDesc(o,i,s){this.name=o,this.init=bind(i.init,s),this.apply=bind(i.apply,s)},S=[new w("doc",{init:function init(o){return o.doc||o.schema.topNodeType.createAndFill()},apply:function apply(o){return o.doc}}),new w("selection",{init:function init(o,i){return o.selection||u.atStart(i.doc)},apply:function apply(o){return o.selection}}),new w("storedMarks",{init:function init(o){return o.storedMarks||null},apply:function apply(o,i,s,a){return a.selection.$cursor?o.storedMarks:null}}),new w("scrollToSelection",{init:function init(){return 0},apply:function apply(o,i){return o.scrolledIntoView?i+1:i}})],x=function Configuration(o,i){var s=this;this.schema=o,this.fields=S.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),i&&i.forEach((function(o){if(s.pluginsByKey[o.key])throw new RangeError("Adding different instances of a keyed plugin ("+o.key+")");s.plugins.push(o),s.pluginsByKey[o.key]=o,o.spec.state&&s.fields.push(new w(o.key,o.spec.state,o))}))},C=function EditorState(o){this.config=o},_={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};_.schema.get=function(){return this.config.schema},_.plugins.get=function(){return this.config.plugins},C.prototype.apply=function apply(o){return this.applyTransaction(o).state},C.prototype.filterTransaction=function filterTransaction(o,i){void 0===i&&(i=-1);for(var s=0;s<this.config.plugins.length;s++)if(s!=i){var a=this.config.plugins[s];if(a.spec.filterTransaction&&!a.spec.filterTransaction.call(a,o,this))return!1}return!0},C.prototype.applyTransaction=function applyTransaction(o){if(!this.filterTransaction(o))return{state:this,transactions:[]};for(var i=[o],s=this.applyInner(o),a=null;;){for(var l=!1,c=0;c<this.config.plugins.length;c++){var u=this.config.plugins[c];if(u.spec.appendTransaction){var d=a?a[c].n:0,p=a?a[c].state:this,f=d<i.length&&u.spec.appendTransaction.call(u,d?i.slice(d):i,p,s);if(f&&s.filterTransaction(f,c)){if(f.setMeta("appendedTransaction",o),!a){a=[];for(var m=0;m<this.config.plugins.length;m++)a.push(m<c?{state:s,n:i.length}:{state:this,n:0})}i.push(f),s=s.applyInner(f),l=!0}a&&(a[c]={state:s,n:i.length})}}if(!l)return{state:s,transactions:i}}},C.prototype.applyInner=function applyInner(o){if(!o.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var i=new C(this.config),s=this.config.fields,a=0;a<s.length;a++){var l=s[a];i[l.name]=l.apply(o,this[l.name],this,i)}for(var c=0;c<O.length;c++)O[c](this,o,i);return i},_.tr.get=function(){return new k(this)},C.create=function create(o){for(var i=new x(o.doc?o.doc.type.schema:o.schema,o.plugins),s=new C(i),a=0;a<i.fields.length;a++)s[i.fields[a].name]=i.fields[a].init(o,s);return s},C.prototype.reconfigure=function reconfigure(o){for(var i=new x(this.schema,o.plugins),s=i.fields,a=new C(i),l=0;l<s.length;l++){var c=s[l].name;a[c]=this.hasOwnProperty(c)?this[c]:s[l].init(o,a)}return a},C.prototype.toJSON=function toJSON(o){var i={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(i.storedMarks=this.storedMarks.map((function(o){return o.toJSON()}))),o&&"object"==typeof o)for(var s in o){if("doc"==s||"selection"==s)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var a=o[s],l=a.spec.state;l&&l.toJSON&&(i[s]=l.toJSON.call(a,this[a.key]))}return i},C.fromJSON=function fromJSON(o,i,s){if(!i)throw new RangeError("Invalid input for EditorState.fromJSON");if(!o.schema)throw new RangeError("Required config field 'schema' missing");var l=new x(o.schema,o.plugins),c=new C(l);return l.fields.forEach((function(l){if("doc"==l.name)c.doc=a.Node.fromJSON(o.schema,i.doc);else if("selection"==l.name)c.selection=u.fromJSON(c.doc,i.selection);else if("storedMarks"==l.name)i.storedMarks&&(c.storedMarks=i.storedMarks.map(o.schema.markFromJSON));else{if(s)for(var d in s){var p=s[d],f=p.spec.state;if(p.key==l.name&&f&&f.fromJSON&&Object.prototype.hasOwnProperty.call(i,d))return void(c[l.name]=f.fromJSON.call(p,o,i[d],c))}c[l.name]=l.init(o,c)}})),c},C.addApplyListener=function addApplyListener(o){O.push(o)},C.removeApplyListener=function removeApplyListener(o){var i=O.indexOf(o);i>-1&&O.splice(i,1)},Object.defineProperties(C.prototype,_);var O=[];function bindProps(o,i,s){for(var a in o){var l=o[a];l instanceof Function?l=l.bind(i):"handleDOMEvents"==a&&(l=bindProps(l,i,{})),s[a]=l}return s}var M=function Plugin(o){this.props={},o.props&&bindProps(o.props,this,this.props),this.spec=o,this.key=o.key?o.key.key:createKey("plugin")};M.prototype.getState=function getState(o){return o[this.key]};var A=Object.create(null);function createKey(o){return o in A?o+"$"+ ++A[o]:(A[o]=0,o+"$")}var E=function PluginKey(o){void 0===o&&(o="key"),this.key=createKey(o)};E.prototype.get=function get(o){return o.config.pluginsByKey[this.key]},E.prototype.getState=function getState(o){return o[this.key]}},V2qZ:function(o,i,s){"use strict";s.r(i),s.d(i,"Decoration",(function(){return oe})),s.d(i,"DecorationSet",(function(){return le})),s.d(i,"EditorView",(function(){return de})),s.d(i,"__endComposition",(function(){return endComposition})),s.d(i,"__parseFromClipboard",(function(){return parseFromClipboard})),s.d(i,"__serializeForClipboard",(function(){return serializeForClipboard}));var a=s("UxO+"),l=s("MEpN"),c=s("CsC6"),u={};if("undefined"!=typeof navigator&&"undefined"!=typeof document){var d=/Edge\/(\d+)/.exec(navigator.userAgent),p=/MSIE \d/.test(navigator.userAgent),f=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);u.mac=/Mac/.test(navigator.platform);var m=u.ie=!!(p||f||d);u.ie_version=p?document.documentMode||6:f?+f[1]:d?+d[1]:null,u.gecko=!m&&/gecko\/(\d+)/i.test(navigator.userAgent),u.gecko_version=u.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var g=!m&&/Chrome\/(\d+)/.exec(navigator.userAgent);u.chrome=!!g,u.chrome_version=g&&+g[1],u.safari=!m&&/Apple Computer/.test(navigator.vendor),u.ios=u.safari&&(/Mobile\/\w+/.test(navigator.userAgent)||navigator.maxTouchPoints>2),u.android=/Android \d/.test(navigator.userAgent),u.webkit="webkitFontSmoothing"in document.documentElement.style,u.webkit_version=u.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var domIndex=function(o){for(var i=0;;i++)if(!(o=o.previousSibling))return i},parentNode=function(o){var i=o.parentNode;return i&&11==i.nodeType?i.host:i},v=null,textRange=function(o,i,s){var a=v||(v=document.createRange());return a.setEnd(o,null==s?o.nodeValue.length:s),a.setStart(o,i||0),a},isEquivalentPosition=function(o,i,s,a){return s&&(scanFor(o,i,s,a,-1)||scanFor(o,i,s,a,1))},y=/^(img|br|input|textarea|hr)$/i;function scanFor(o,i,s,a,l){for(;;){if(o==s&&i==a)return!0;if(i==(l<0?0:nodeSize(o))){var c=o.parentNode;if(1!=c.nodeType||hasBlockDesc(o)||y.test(o.nodeName)||"false"==o.contentEditable)return!1;i=domIndex(o)+(l<0?0:1),o=c}else{if(1!=o.nodeType)return!1;if("false"==(o=o.childNodes[i+(l<0?-1:0)]).contentEditable)return!1;i=l<0?nodeSize(o):0}}}function nodeSize(o){return 3==o.nodeType?o.nodeValue.length:o.childNodes.length}function hasBlockDesc(o){for(var i,s=o;s&&!(i=s.pmViewDesc);s=s.parentNode);return i&&i.node&&i.node.isBlock&&(i.dom==o||i.contentDOM==o)}var selectionCollapsed=function(o){var i=o.isCollapsed;return i&&u.chrome&&o.rangeCount&&!o.getRangeAt(0).collapsed&&(i=!1),i};function keyEvent(o,i){var s=document.createEvent("Event");return s.initEvent("keydown",!0,!0),s.keyCode=o,s.key=s.code=i,s}function windowRect(o){return{left:0,right:o.documentElement.clientWidth,top:0,bottom:o.documentElement.clientHeight}}function getSide(o,i){return"number"==typeof o?o:o[i]}function clientRect(o){var i=o.getBoundingClientRect(),s=i.width/o.offsetWidth||1,a=i.height/o.offsetHeight||1;return{left:i.left,right:i.left+o.clientWidth*s,top:i.top,bottom:i.top+o.clientHeight*a}}function scrollRectIntoView(o,i,s){for(var a=o.someProp("scrollThreshold")||0,l=o.someProp("scrollMargin")||5,c=o.dom.ownerDocument,u=s||o.dom;u;u=parentNode(u))if(1==u.nodeType){var d=u==c.body||1!=u.nodeType,p=d?windowRect(c):clientRect(u),f=0,m=0;if(i.top<p.top+getSide(a,"top")?m=-(p.top-i.top+getSide(l,"top")):i.bottom>p.bottom-getSide(a,"bottom")&&(m=i.bottom-p.bottom+getSide(l,"bottom")),i.left<p.left+getSide(a,"left")?f=-(p.left-i.left+getSide(l,"left")):i.right>p.right-getSide(a,"right")&&(f=i.right-p.right+getSide(l,"right")),f||m)if(d)c.defaultView.scrollBy(f,m);else{var g=u.scrollLeft,v=u.scrollTop;m&&(u.scrollTop+=m),f&&(u.scrollLeft+=f);var y=u.scrollLeft-g,b=u.scrollTop-v;i={left:i.left-y,top:i.top-b,right:i.right-y,bottom:i.bottom-b}}if(d)break}}function scrollStack(o){for(var i=[],s=o.ownerDocument;o&&(i.push({dom:o,top:o.scrollTop,left:o.scrollLeft}),o!=s);o=parentNode(o));return i}function restoreScrollStack(o,i){for(var s=0;s<o.length;s++){var a=o[s],l=a.dom,c=a.top,u=a.left;l.scrollTop!=c+i&&(l.scrollTop=c+i),l.scrollLeft!=u&&(l.scrollLeft=u)}}var b=null;function findOffsetInNode(o,i){for(var s,a,l=2e8,c=0,u=i.top,d=i.top,p=o.firstChild,f=0;p;p=p.nextSibling,f++){var m=void 0;if(1==p.nodeType)m=p.getClientRects();else{if(3!=p.nodeType)continue;m=textRange(p).getClientRects()}for(var g=0;g<m.length;g++){var v=m[g];if(v.top<=u&&v.bottom>=d){u=Math.max(v.bottom,u),d=Math.min(v.top,d);var y=v.left>i.left?v.left-i.left:v.right<i.left?i.left-v.right:0;if(y<l){s=p,l=y,a=y&&3==s.nodeType?{left:v.right<i.left?v.right:v.left,top:i.top}:i,1==p.nodeType&&y&&(c=f+(i.left>=(v.left+v.right)/2?1:0));continue}}!s&&(i.left>=v.right&&i.top>=v.top||i.left>=v.left&&i.top>=v.bottom)&&(c=f+1)}}return s&&3==s.nodeType?function findOffsetInText(o,i){for(var s=o.nodeValue.length,a=document.createRange(),l=0;l<s;l++){a.setEnd(o,l+1),a.setStart(o,l);var c=singleRect(a,1);if(c.top!=c.bottom&&inRect(i,c))return{node:o,offset:l+(i.left>=(c.left+c.right)/2?1:0)}}return{node:o,offset:0}}(s,a):!s||l&&1==s.nodeType?{node:o,offset:c}:findOffsetInNode(s,a)}function inRect(o,i){return o.left>=i.left-1&&o.left<=i.right+1&&o.top>=i.top-1&&o.top<=i.bottom+1}function elementFromPoint(o,i,s){var a=o.childNodes.length;if(a&&s.top<s.bottom)for(var l=Math.max(0,Math.min(a-1,Math.floor(a*(i.top-s.top)/(s.bottom-s.top))-2)),c=l;;){var u=o.childNodes[c];if(1==u.nodeType)for(var d=u.getClientRects(),p=0;p<d.length;p++){var f=d[p];if(inRect(i,f))return elementFromPoint(u,i,f)}if((c=(c+1)%a)==l)break}return o}function posAtCoords(o,i){var s,a,l,c,d=o.root;if(d.caretPositionFromPoint)try{var p=d.caretPositionFromPoint(i.left,i.top);p&&(l=(s=p).offsetNode,c=s.offset)}catch(o){}if(!l&&d.caretRangeFromPoint){var f=d.caretRangeFromPoint(i.left,i.top);f&&(l=(a=f).startContainer,c=a.startOffset)}var m,g=d.elementFromPoint(i.left,i.top+1);if(!g||!o.dom.contains(1!=g.nodeType?g.parentNode:g)){var v=o.dom.getBoundingClientRect();if(!inRect(i,v))return null;if(!(g=elementFromPoint(o.dom,i,v)))return null}if(u.safari&&g.draggable&&(l=c=null),g=function targetKludge(o,i){var s=o.parentNode;return s&&/^li$/i.test(s.nodeName)&&i.left<o.getBoundingClientRect().left?s:o}(g,i),l){if(u.gecko&&1==l.nodeType&&(c=Math.min(c,l.childNodes.length))<l.childNodes.length){var y,b=l.childNodes[c];"IMG"==b.nodeName&&(y=b.getBoundingClientRect()).right<=i.left&&y.bottom>i.top&&c++}l==o.dom&&c==l.childNodes.length-1&&1==l.lastChild.nodeType&&i.top>l.lastChild.getBoundingClientRect().bottom?m=o.state.doc.content.size:0!=c&&1==l.nodeType&&"BR"==l.childNodes[c-1].nodeName||(m=function posFromCaret(o,i,s,a){for(var l=-1,c=i;c!=o.dom;){var u=o.docView.nearestDesc(c,!0);if(!u)return null;if(u.node.isBlock&&u.parent){var d=u.dom.getBoundingClientRect();if(d.left>a.left||d.top>a.top)l=u.posBefore;else{if(!(d.right<a.left||d.bottom<a.top))break;l=u.posAfter}}c=u.dom.parentNode}return l>-1?l:o.docView.posFromDOM(i,s)}(o,l,c,i))}null==m&&(m=function posFromElement(o,i,s){var a=findOffsetInNode(i,s),l=a.node,c=a.offset,u=-1;if(1==l.nodeType&&!l.firstChild){var d=l.getBoundingClientRect();u=d.left!=d.right&&s.left>(d.left+d.right)/2?1:-1}return o.docView.posFromDOM(l,c,u)}(o,g,i));var k=o.docView.nearestDesc(g,!0);return{pos:m,inside:k?k.posAtStart-k.border:-1}}function singleRect(o,i){var s=o.getClientRects();return s.length?s[i<0?0:s.length-1]:o.getBoundingClientRect()}var k=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function coordsAtPos(o,i,s){var a=o.docView.domFromPos(i,s<0?-1:1),l=a.node,c=a.offset,d=u.webkit||u.gecko;if(3==l.nodeType){if(!d||!k.test(l.nodeValue)&&(s<0?c:c!=l.nodeValue.length)){var p=c,f=c,m=s<0?1:-1;return s<0&&!c?(f++,m=-1):s>=0&&c==l.nodeValue.length?(p--,m=1):s<0?p--:f++,flattenV(singleRect(textRange(l,p,f),m),m<0)}var g=singleRect(textRange(l,c,c),s);if(u.gecko&&c&&/\s/.test(l.nodeValue[c-1])&&c<l.nodeValue.length){var v=singleRect(textRange(l,c-1,c-1),-1);if(v.top==g.top){var y=singleRect(textRange(l,c,c+1),-1);if(y.top!=g.top)return flattenV(y,y.left<v.left)}}return g}if(!o.state.doc.resolve(i).parent.inlineContent){if(c&&(s<0||c==nodeSize(l))){var b=l.childNodes[c-1];if(1==b.nodeType)return flattenH(b.getBoundingClientRect(),!1)}if(c<nodeSize(l)){var w=l.childNodes[c];if(1==w.nodeType)return flattenH(w.getBoundingClientRect(),!0)}return flattenH(l.getBoundingClientRect(),s>=0)}if(c&&(s<0||c==nodeSize(l))){var S=l.childNodes[c-1],x=3==S.nodeType?textRange(S,nodeSize(S)-(d?0:1)):1!=S.nodeType||"BR"==S.nodeName&&S.nextSibling?null:S;if(x)return flattenV(singleRect(x,1),!1)}if(c<nodeSize(l)){var C=l.childNodes[c],_=3==C.nodeType?textRange(C,0,d?0:1):1==C.nodeType?C:null;if(_)return flattenV(singleRect(_,-1),!0)}return flattenV(singleRect(3==l.nodeType?textRange(l):l,-s),s>=0)}function flattenV(o,i){if(0==o.width)return o;var s=i?o.left:o.right;return{top:o.top,bottom:o.bottom,left:s,right:s}}function flattenH(o,i){if(0==o.height)return o;var s=i?o.top:o.bottom;return{top:s,bottom:s,left:o.left,right:o.right}}function withFlushedState(o,i,s){var a=o.state,l=o.root.activeElement;a!=i&&o.updateState(i),l!=o.dom&&o.focus();try{return s()}finally{a!=i&&o.updateState(a),l!=o.dom&&l&&l.focus()}}var w=/[\u0590-\u08ac]/;var S=null,x=null,C=!1;function endOfTextblock(o,i,s){return S==i&&x==s?C:(S=i,x=s,C="up"==s||"down"==s?function endOfTextblockVertical(o,i,s){var a=i.selection,l="up"==s?a.$from:a.$to;return withFlushedState(o,i,(function(){for(var i=o.docView.domFromPos(l.pos,"up"==s?-1:1).node;;){var a=o.docView.nearestDesc(i,!0);if(!a)break;if(a.node.isBlock){i=a.dom;break}i=a.dom.parentNode}for(var c=coordsAtPos(o,l.pos,1),u=i.firstChild;u;u=u.nextSibling){var d=void 0;if(1==u.nodeType)d=u.getClientRects();else{if(3!=u.nodeType)continue;d=textRange(u,0,u.nodeValue.length).getClientRects()}for(var p=0;p<d.length;p++){var f=d[p];if(f.bottom>f.top&&("up"==s?f.bottom<c.top+1:f.top>c.bottom-1))return!1}}return!0}))}(o,i,s):function endOfTextblockHorizontal(o,i,s){var a=i.selection.$head;if(!a.parent.isTextblock)return!1;var l=a.parentOffset,c=!l,u=l==a.parent.content.size,d=getSelection();return w.test(a.parent.textContent)&&d.modify?withFlushedState(o,i,(function(){var i=d.getRangeAt(0),l=d.focusNode,c=d.focusOffset,u=d.caretBidiLevel;d.modify("move",s,"character");var p=!(a.depth?o.docView.domAfterPos(a.before()):o.dom).contains(1==d.focusNode.nodeType?d.focusNode:d.focusNode.parentNode)||l==d.focusNode&&c==d.focusOffset;return d.removeAllRanges(),d.addRange(i),null!=u&&(d.caretBidiLevel=u),p})):"left"==s||"backward"==s?c:u}(o,i,s))}var _=function ViewDesc(o,i,s,a){this.parent=o,this.children=i,this.dom=s,s.pmViewDesc=this,this.contentDOM=a,this.dirty=0},O={beforePosition:{configurable:!0},size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0},domAtom:{configurable:!0}};_.prototype.matchesWidget=function matchesWidget(){return!1},_.prototype.matchesMark=function matchesMark(){return!1},_.prototype.matchesNode=function matchesNode(){return!1},_.prototype.matchesHack=function matchesHack(){return!1},O.beforePosition.get=function(){return!1},_.prototype.parseRule=function parseRule(){return null},_.prototype.stopEvent=function stopEvent(){return!1},O.size.get=function(){for(var o=0,i=0;i<this.children.length;i++)o+=this.children[i].size;return o},O.border.get=function(){return 0},_.prototype.destroy=function destroy(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var o=0;o<this.children.length;o++)this.children[o].destroy()},_.prototype.posBeforeChild=function posBeforeChild(o){for(var i=0,s=this.posAtStart;i<this.children.length;i++){var a=this.children[i];if(a==o)return s;s+=a.size}},O.posBefore.get=function(){return this.parent.posBeforeChild(this)},O.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0},O.posAfter.get=function(){return this.posBefore+this.size},O.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border},_.prototype.localPosFromDOM=function localPosFromDOM(o,i,s){if(this.contentDOM&&this.contentDOM.contains(1==o.nodeType?o:o.parentNode)){if(s<0){var a,l;if(o==this.contentDOM)a=o.childNodes[i-1];else{for(;o.parentNode!=this.contentDOM;)o=o.parentNode;a=o.previousSibling}for(;a&&(!(l=a.pmViewDesc)||l.parent!=this);)a=a.previousSibling;return a?this.posBeforeChild(l)+l.size:this.posAtStart}var c,u;if(o==this.contentDOM)c=o.childNodes[i];else{for(;o.parentNode!=this.contentDOM;)o=o.parentNode;c=o.nextSibling}for(;c&&(!(u=c.pmViewDesc)||u.parent!=this);)c=c.nextSibling;return c?this.posBeforeChild(u):this.posAtEnd}var d;if(o==this.dom&&this.contentDOM)d=i>domIndex(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))d=2&o.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==i)for(var p=o;;p=p.parentNode){if(p==this.dom){d=!1;break}if(p.parentNode.firstChild!=p)break}if(null==d&&i==o.childNodes.length)for(var f=o;;f=f.parentNode){if(f==this.dom){d=!0;break}if(f.parentNode.lastChild!=f)break}}return(null==d?s>0:d)?this.posAtEnd:this.posAtStart},_.prototype.nearestDesc=function nearestDesc(o,i){for(var s=!0,a=o;a;a=a.parentNode){var l=this.getDesc(a);if(l&&(!i||l.node)){if(!s||!l.nodeDOM||(1==l.nodeDOM.nodeType?l.nodeDOM.contains(1==o.nodeType?o:o.parentNode):l.nodeDOM==o))return l;s=!1}}},_.prototype.getDesc=function getDesc(o){for(var i=o.pmViewDesc,s=i;s;s=s.parent)if(s==this)return i},_.prototype.posFromDOM=function posFromDOM(o,i,s){for(var a=o;a;a=a.parentNode){var l=this.getDesc(a);if(l)return l.localPosFromDOM(o,i,s)}return-1},_.prototype.descAt=function descAt(o){for(var i=0,s=0;i<this.children.length;i++){var a=this.children[i],l=s+a.size;if(s==o&&l!=s){for(;!a.border&&a.children.length;)a=a.children[0];return a}if(o<l)return a.descAt(o-s-a.border);s=l}},_.prototype.domFromPos=function domFromPos(o,i){if(!this.contentDOM)return{node:this.dom,offset:0};for(var s=0,a=0,l=!0;;a++,l=!1){for(;a<this.children.length&&(this.children[a].beforePosition||this.children[a].dom.parentNode!=this.contentDOM);)s+=this.children[a++].size;var c=a==this.children.length?null:this.children[a];if(s==o&&(0==i||!c||!c.size||c.border||i<0&&l)||c&&c.domAtom&&o<s+c.size)return{node:this.contentDOM,offset:c?domIndex(c.dom):this.contentDOM.childNodes.length};if(!c)throw new Error("Invalid position "+o);var u=s+c.size;if(!c.domAtom&&(i<0&&!c.border?u>=o:u>o)&&(u>o||a+1>=this.children.length||!this.children[a+1].beforePosition))return c.domFromPos(o-s-c.border,i);s=u}},_.prototype.parseRange=function parseRange(o,i,s){if(void 0===s&&(s=0),0==this.children.length)return{node:this.contentDOM,from:o,to:i,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var a=-1,l=-1,c=s,u=0;;u++){var d=this.children[u],p=c+d.size;if(-1==a&&o<=p){var f=c+d.border;if(o>=f&&i<=p-d.border&&d.node&&d.contentDOM&&this.contentDOM.contains(d.contentDOM))return d.parseRange(o,i,f);o=c;for(var m=u;m>0;m--){var g=this.children[m-1];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(1)){a=domIndex(g.dom)+1;break}o-=g.size}-1==a&&(a=0)}if(a>-1&&(p>i||u==this.children.length-1)){i=p;for(var v=u+1;v<this.children.length;v++){var y=this.children[v];if(y.size&&y.dom.parentNode==this.contentDOM&&!y.emptyChildAt(-1)){l=domIndex(y.dom);break}i+=y.size}-1==l&&(l=this.contentDOM.childNodes.length);break}c=p}return{node:this.contentDOM,from:o,to:i,fromOffset:a,toOffset:l}},_.prototype.emptyChildAt=function emptyChildAt(o){if(this.border||!this.contentDOM||!this.children.length)return!1;var i=this.children[o<0?0:this.children.length-1];return 0==i.size||i.emptyChildAt(o)},_.prototype.domAfterPos=function domAfterPos(o){var i=this.domFromPos(o,0),s=i.node,a=i.offset;if(1!=s.nodeType||a==s.childNodes.length)throw new RangeError("No node after pos "+o);return s.childNodes[a]},_.prototype.setSelection=function setSelection(o,i,s,a){for(var l=Math.min(o,i),c=Math.max(o,i),d=0,p=0;d<this.children.length;d++){var f=this.children[d],m=p+f.size;if(l>p&&c<m)return f.setSelection(o-p-f.border,i-p-f.border,s,a);p=m}var g=this.domFromPos(o,o?-1:1),v=i==o?g:this.domFromPos(i,i?-1:1),y=s.getSelection(),b=!1;if((u.gecko||u.safari)&&o==i){var k=g.node,w=g.offset;if(3==k.nodeType)(b=w&&"\n"==k.nodeValue[w-1])&&w==k.nodeValue.length&&k.nextSibling&&"BR"==k.nextSibling.nodeName&&(g=v={node:k.parentNode,offset:domIndex(k)+1});else{var S=k.childNodes[w-1];b=S&&("BR"==S.nodeName||"false"==S.contentEditable)}}if(a||b&&u.safari||!isEquivalentPosition(g.node,g.offset,y.anchorNode,y.anchorOffset)||!isEquivalentPosition(v.node,v.offset,y.focusNode,y.focusOffset)){var x=!1;if((y.extend||o==i)&&!b){y.collapse(g.node,g.offset);try{o!=i&&y.extend(v.node,v.offset),x=!0}catch(o){if(!(o instanceof DOMException))throw o}}if(!x){if(o>i){var C=g;g=v,v=C}var _=document.createRange();_.setEnd(v.node,v.offset),_.setStart(g.node,g.offset),y.removeAllRanges(),y.addRange(_)}}},_.prototype.ignoreMutation=function ignoreMutation(o){return!this.contentDOM&&"selection"!=o.type},O.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)},_.prototype.markDirty=function markDirty(o,i){for(var s=0,a=0;a<this.children.length;a++){var l=this.children[a],c=s+l.size;if(s==c?o<=c&&i>=s:o<c&&i>s){var u=s+l.border,d=c-l.border;if(o>=u&&i<=d)return this.dirty=o==s||i==c?2:1,void(o!=u||i!=d||!l.contentLost&&l.dom.parentNode==this.contentDOM?l.markDirty(o-u,i-u):l.dirty=3);l.dirty=3}s=c}this.dirty=2},_.prototype.markParentsDirty=function markParentsDirty(){for(var o=1,i=this.parent;i;i=i.parent,o++){var s=1==o?2:1;i.dirty<s&&(i.dirty=s)}},O.domAtom.get=function(){return!1},Object.defineProperties(_.prototype,O);var M=[],A=function(o){function WidgetViewDesc(i,s,a,l){var c,u=s.type.toDOM;if("function"==typeof u&&(u=u(a,(function(){return c?c.parent?c.parent.posBeforeChild(c):void 0:l}))),!s.type.spec.raw){if(1!=u.nodeType){var d=document.createElement("span");d.appendChild(u),u=d}u.contentEditable=!1,u.classList.add("ProseMirror-widget")}o.call(this,i,M,u,null),this.widget=s,c=this}o&&(WidgetViewDesc.__proto__=o),WidgetViewDesc.prototype=Object.create(o&&o.prototype),WidgetViewDesc.prototype.constructor=WidgetViewDesc;var i={beforePosition:{configurable:!0},domAtom:{configurable:!0}};return i.beforePosition.get=function(){return this.widget.type.side<0},WidgetViewDesc.prototype.matchesWidget=function matchesWidget(o){return 0==this.dirty&&o.type.eq(this.widget.type)},WidgetViewDesc.prototype.parseRule=function parseRule(){return{ignore:!0}},WidgetViewDesc.prototype.stopEvent=function stopEvent(o){var i=this.widget.spec.stopEvent;return!!i&&i(o)},WidgetViewDesc.prototype.ignoreMutation=function ignoreMutation(o){return"selection"!=o.type||this.widget.spec.ignoreSelection},i.domAtom.get=function(){return!0},Object.defineProperties(WidgetViewDesc.prototype,i),WidgetViewDesc}(_),E=function(o){function CompositionViewDesc(i,s,a,l){o.call(this,i,M,s,null),this.textDOM=a,this.text=l}o&&(CompositionViewDesc.__proto__=o),CompositionViewDesc.prototype=Object.create(o&&o.prototype),CompositionViewDesc.prototype.constructor=CompositionViewDesc;var i={size:{configurable:!0}};return i.size.get=function(){return this.text.length},CompositionViewDesc.prototype.localPosFromDOM=function localPosFromDOM(o,i){return o!=this.textDOM?this.posAtStart+(i?this.size:0):this.posAtStart+i},CompositionViewDesc.prototype.domFromPos=function domFromPos(o){return{node:this.textDOM,offset:o}},CompositionViewDesc.prototype.ignoreMutation=function ignoreMutation(o){return"characterData"===o.type&&o.target.nodeValue==o.oldValue},Object.defineProperties(CompositionViewDesc.prototype,i),CompositionViewDesc}(_),T=function(o){function MarkViewDesc(i,s,a,l){o.call(this,i,[],a,l),this.mark=s}return o&&(MarkViewDesc.__proto__=o),MarkViewDesc.prototype=Object.create(o&&o.prototype),MarkViewDesc.prototype.constructor=MarkViewDesc,MarkViewDesc.create=function create(o,i,s,a){var c=a.nodeViews[i.type.name],u=c&&c(i,a,s);return u&&u.dom||(u=l.DOMSerializer.renderSpec(document,i.type.spec.toDOM(i,s))),new MarkViewDesc(o,i,u.dom,u.contentDOM||u.dom)},MarkViewDesc.prototype.parseRule=function parseRule(){return{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},MarkViewDesc.prototype.matchesMark=function matchesMark(o){return 3!=this.dirty&&this.mark.eq(o)},MarkViewDesc.prototype.markDirty=function markDirty(i,s){if(o.prototype.markDirty.call(this,i,s),0!=this.dirty){for(var a=this.parent;!a.node;)a=a.parent;a.dirty<this.dirty&&(a.dirty=this.dirty),this.dirty=0}},MarkViewDesc.prototype.slice=function slice(o,i,s){var a=MarkViewDesc.create(this.parent,this.mark,!0,s),l=this.children,c=this.size;i<c&&(l=replaceNodes(l,i,c,s)),o>0&&(l=replaceNodes(l,0,o,s));for(var u=0;u<l.length;u++)l[u].parent=a;return a.children=l,a},MarkViewDesc}(_),D=function(o){function NodeViewDesc(i,s,a,l,c,u,d,p,f){o.call(this,i,s.isLeaf?M:[],c,u),this.nodeDOM=d,this.node=s,this.outerDeco=a,this.innerDeco=l,u&&this.updateChildren(p,f)}o&&(NodeViewDesc.__proto__=o),NodeViewDesc.prototype=Object.create(o&&o.prototype),NodeViewDesc.prototype.constructor=NodeViewDesc;var i={size:{configurable:!0},border:{configurable:!0},domAtom:{configurable:!0}};return NodeViewDesc.create=function create(o,i,s,a,c,u){var d,p,f=c.nodeViews[i.type.name],m=f&&f(i,c,(function(){return p?p.parent?p.parent.posBeforeChild(p):void 0:u}),s,a),g=m&&m.dom,v=m&&m.contentDOM;if(i.isText)if(g){if(3!=g.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else g=document.createTextNode(i.text);else g||(g=(d=l.DOMSerializer.renderSpec(document,i.type.spec.toDOM(i))).dom,v=d.contentDOM);v||i.isText||"BR"==g.nodeName||(g.hasAttribute("contenteditable")||(g.contentEditable=!1),i.type.spec.draggable&&(g.draggable=!0));var y=g;return g=applyOuterDeco(g,s,i),m?p=new R(o,i,s,a,g,v,y,m,c,u+1):i.isText?new I(o,i,s,a,g,y,c):new NodeViewDesc(o,i,s,a,g,v,y,c,u+1)},NodeViewDesc.prototype.parseRule=function parseRule(){var o=this;if(this.node.type.spec.reparseInView)return null;var i={node:this.node.type.name,attrs:this.node.attrs};return this.node.type.spec.code&&(i.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?i.contentElement=this.contentDOM:i.getContent=function(){return o.contentDOM?l.Fragment.empty:o.node.content},i},NodeViewDesc.prototype.matchesNode=function matchesNode(o,i,s){return 0==this.dirty&&o.eq(this.node)&&sameOuterDeco(i,this.outerDeco)&&s.eq(this.innerDeco)},i.size.get=function(){return this.node.nodeSize},i.border.get=function(){return this.node.isLeaf?0:1},NodeViewDesc.prototype.updateChildren=function updateChildren(o,i){var s=this,a=this.node.inlineContent,c=i,d=a&&o.composing&&this.localCompositionNode(o,i),p=new L(this,d&&d.node);!function iterDeco(o,i,s,a){var l=i.locals(o),c=0;if(0==l.length){for(var u=0;u<o.childCount;u++){var d=o.child(u);a(d,l,i.forChild(c,d),u),c+=d.nodeSize}return}for(var p=0,f=[],m=null,g=0;;){if(p<l.length&&l[p].to==c){for(var v=l[p++],y=void 0;p<l.length&&l[p].to==c;)(y||(y=[v])).push(l[p++]);if(y){y.sort(compareSide);for(var b=0;b<y.length;b++)s(y[b],g,!!m)}else s(v,g,!!m)}var k=void 0,w=void 0;if(m)w=-1,k=m,m=null;else{if(!(g<o.childCount))break;w=g,k=o.child(g++)}for(var S=0;S<f.length;S++)f[S].to<=c&&f.splice(S--,1);for(;p<l.length&&l[p].from<=c&&l[p].to>c;)f.push(l[p++]);var x=c+k.nodeSize;if(k.isText){var C=x;p<l.length&&l[p].from<C&&(C=l[p].from);for(var _=0;_<f.length;_++)f[_].to<C&&(C=f[_].to);C<x&&(m=k.cut(C-c),k=k.cut(0,C-c),x=C,w=-1)}a(k,f.length?k.isInline&&!k.isLeaf?f.filter((function(o){return!o.inline})):f.slice():M,i.forChild(c,k),w),c=x}}(this.node,this.innerDeco,(function(i,u,d){i.spec.marks?p.syncToMarks(i.spec.marks,a,o):i.type.side>=0&&!d&&p.syncToMarks(u==s.node.childCount?l.Mark.none:s.node.child(u).marks,a,o),p.placeWidget(i,o,c)}),(function(i,s,l,u){p.syncToMarks(i.marks,a,o),p.findNodeMatch(i,s,l,u)||p.updateNextNode(i,s,l,o,u)||p.addNode(i,s,l,o,c),c+=i.nodeSize})),p.syncToMarks(M,a,o),this.node.isTextblock&&p.addTextblockHacks(),p.destroyRest(),(p.changed||2==this.dirty)&&(d&&this.protectLocalComposition(o,d),renderDescs(this.contentDOM,this.children,o),u.ios&&function iosHacks(o){if("UL"==o.nodeName||"OL"==o.nodeName){var i=o.style.cssText;o.style.cssText=i+"; list-style: square !important",window.getComputedStyle(o).listStyle,o.style.cssText=i}}(this.dom))},NodeViewDesc.prototype.localCompositionNode=function localCompositionNode(o,i){var s=o.state.selection,l=s.from,c=s.to;if(!(!(o.state.selection instanceof a.TextSelection)||l<i||c>i+this.node.content.size)){var u=o.root.getSelection(),d=function nearbyTextNode(o,i){for(;;){if(3==o.nodeType)return o;if(1==o.nodeType&&i>0){if(o.childNodes.length>i&&3==o.childNodes[i].nodeType)return o.childNodes[i];i=nodeSize(o=o.childNodes[i-1])}else{if(!(1==o.nodeType&&i<o.childNodes.length))return null;o=o.childNodes[i],i=0}}}(u.focusNode,u.focusOffset);if(d&&this.dom.contains(d.parentNode)){var p=d.nodeValue,f=function findTextInFragment(o,i,s,a){for(var l=0,c=0;l<o.childCount&&c<=a;){var u=o.child(l++),d=c;if(c+=u.nodeSize,u.isText){for(var p=u.text;l<o.childCount;){var f=o.child(l++);if(c+=f.nodeSize,!f.isText)break;p+=f.text}if(c>=s){var m=p.lastIndexOf(i,a-d);if(m>=0&&m+i.length+d>=s)return d+m}}}return-1}(this.node.content,p,l-i,c-i);return f<0?null:{node:d,pos:f,text:p}}}},NodeViewDesc.prototype.protectLocalComposition=function protectLocalComposition(o,i){var s=i.node,a=i.pos,l=i.text;if(!this.getDesc(s)){for(var c=s;c.parentNode!=this.contentDOM;c=c.parentNode){for(;c.previousSibling;)c.parentNode.removeChild(c.previousSibling);for(;c.nextSibling;)c.parentNode.removeChild(c.nextSibling);c.pmViewDesc&&(c.pmViewDesc=null)}var u=new E(this,c,s,l);o.compositionNodes.push(u),this.children=replaceNodes(this.children,a,a+l.length,o,u)}},NodeViewDesc.prototype.update=function update(o,i,s,a){return!(3==this.dirty||!o.sameMarkup(this.node))&&(this.updateInner(o,i,s,a),!0)},NodeViewDesc.prototype.updateInner=function updateInner(o,i,s,a){this.updateOuterDeco(i),this.node=o,this.innerDeco=s,this.contentDOM&&this.updateChildren(a,this.posAtStart),this.dirty=0},NodeViewDesc.prototype.updateOuterDeco=function updateOuterDeco(o){if(!sameOuterDeco(o,this.outerDeco)){var i=1!=this.nodeDOM.nodeType,s=this.dom;this.dom=patchOuterDeco(this.dom,this.nodeDOM,computeOuterDeco(this.outerDeco,this.node,i),computeOuterDeco(o,this.node,i)),this.dom!=s&&(s.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=o}},NodeViewDesc.prototype.selectNode=function selectNode(){this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)},NodeViewDesc.prototype.deselectNode=function deselectNode(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")},i.domAtom.get=function(){return this.node.isAtom},Object.defineProperties(NodeViewDesc.prototype,i),NodeViewDesc}(_);function docViewDesc(o,i,s,a,l){return applyOuterDeco(a,i,o),new D(null,o,i,s,a,a,a,l,0)}var I=function(o){function TextViewDesc(i,s,a,l,c,u,d){o.call(this,i,s,a,l,c,null,u,d)}o&&(TextViewDesc.__proto__=o),TextViewDesc.prototype=Object.create(o&&o.prototype),TextViewDesc.prototype.constructor=TextViewDesc;var i={domAtom:{configurable:!0}};return TextViewDesc.prototype.parseRule=function parseRule(){for(var o=this.nodeDOM.parentNode;o&&o!=this.dom&&!o.pmIsDeco;)o=o.parentNode;return{skip:o||!0}},TextViewDesc.prototype.update=function update(o,i,s,a){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!o.sameMarkup(this.node))&&(this.updateOuterDeco(i),0==this.dirty&&o.text==this.node.text||o.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=o.text,a.trackWrites==this.nodeDOM&&(a.trackWrites=null)),this.node=o,this.dirty=0,!0)},TextViewDesc.prototype.inParent=function inParent(){for(var o=this.parent.contentDOM,i=this.nodeDOM;i;i=i.parentNode)if(i==o)return!0;return!1},TextViewDesc.prototype.domFromPos=function domFromPos(o){return{node:this.nodeDOM,offset:o}},TextViewDesc.prototype.localPosFromDOM=function localPosFromDOM(i,s,a){return i==this.nodeDOM?this.posAtStart+Math.min(s,this.node.text.length):o.prototype.localPosFromDOM.call(this,i,s,a)},TextViewDesc.prototype.ignoreMutation=function ignoreMutation(o){return"characterData"!=o.type&&"selection"!=o.type},TextViewDesc.prototype.slice=function slice(o,i,s){var a=this.node.cut(o,i),l=document.createTextNode(a.text);return new TextViewDesc(this.parent,a,this.outerDeco,this.innerDeco,l,l,s)},i.domAtom.get=function(){return!1},Object.defineProperties(TextViewDesc.prototype,i),TextViewDesc}(D),N=function(o){function BRHackViewDesc(){o.apply(this,arguments)}o&&(BRHackViewDesc.__proto__=o),BRHackViewDesc.prototype=Object.create(o&&o.prototype),BRHackViewDesc.prototype.constructor=BRHackViewDesc;var i={domAtom:{configurable:!0}};return BRHackViewDesc.prototype.parseRule=function parseRule(){return{ignore:!0}},BRHackViewDesc.prototype.matchesHack=function matchesHack(){return 0==this.dirty},i.domAtom.get=function(){return!0},Object.defineProperties(BRHackViewDesc.prototype,i),BRHackViewDesc}(_),R=function(o){function CustomNodeViewDesc(i,s,a,l,c,u,d,p,f,m){o.call(this,i,s,a,l,c,u,d,f,m),this.spec=p}return o&&(CustomNodeViewDesc.__proto__=o),CustomNodeViewDesc.prototype=Object.create(o&&o.prototype),CustomNodeViewDesc.prototype.constructor=CustomNodeViewDesc,CustomNodeViewDesc.prototype.update=function update(i,s,a,l){if(3==this.dirty)return!1;if(this.spec.update){var c=this.spec.update(i,s,a);return c&&this.updateInner(i,s,a,l),c}return!(!this.contentDOM&&!i.isLeaf)&&o.prototype.update.call(this,i,s,a,l)},CustomNodeViewDesc.prototype.selectNode=function selectNode(){this.spec.selectNode?this.spec.selectNode():o.prototype.selectNode.call(this)},CustomNodeViewDesc.prototype.deselectNode=function deselectNode(){this.spec.deselectNode?this.spec.deselectNode():o.prototype.deselectNode.call(this)},CustomNodeViewDesc.prototype.setSelection=function setSelection(i,s,a,l){this.spec.setSelection?this.spec.setSelection(i,s,a):o.prototype.setSelection.call(this,i,s,a,l)},CustomNodeViewDesc.prototype.destroy=function destroy(){this.spec.destroy&&this.spec.destroy(),o.prototype.destroy.call(this)},CustomNodeViewDesc.prototype.stopEvent=function stopEvent(o){return!!this.spec.stopEvent&&this.spec.stopEvent(o)},CustomNodeViewDesc.prototype.ignoreMutation=function ignoreMutation(i){return this.spec.ignoreMutation?this.spec.ignoreMutation(i):o.prototype.ignoreMutation.call(this,i)},CustomNodeViewDesc}(D);function renderDescs(o,i,s){for(var a=o.firstChild,l=!1,c=0;c<i.length;c++){var u=i[c],d=u.dom;if(d.parentNode==o){for(;d!=a;)a=rm(a),l=!0;a=a.nextSibling}else l=!0,o.insertBefore(d,a);if(u instanceof T){var p=a?a.previousSibling:o.lastChild;renderDescs(u.contentDOM,u.children,s),a=p?p.nextSibling:o.firstChild}}for(;a;)a=rm(a),l=!0;l&&s.trackWrites==o&&(s.trackWrites=null)}function OuterDecoLevel(o){o&&(this.nodeName=o)}OuterDecoLevel.prototype=Object.create(null);var P=[new OuterDecoLevel];function computeOuterDeco(o,i,s){if(0==o.length)return P;for(var a=s?P[0]:new OuterDecoLevel,l=[a],c=0;c<o.length;c++){var u=o[c].type.attrs;if(u)for(var d in u.nodeName&&l.push(a=new OuterDecoLevel(u.nodeName)),u){var p=u[d];null!=p&&(s&&1==l.length&&l.push(a=new OuterDecoLevel(i.isInline?"span":"div")),"class"==d?a.class=(a.class?a.class+" ":"")+p:"style"==d?a.style=(a.style?a.style+";":"")+p:"nodeName"!=d&&(a[d]=p))}}return l}function patchOuterDeco(o,i,s,a){if(s==P&&a==P)return i;for(var l=i,c=0;c<a.length;c++){var u=a[c],d=s[c];if(c){var p=void 0;d&&d.nodeName==u.nodeName&&l!=o&&(p=l.parentNode)&&p.tagName.toLowerCase()==u.nodeName||((p=document.createElement(u.nodeName)).pmIsDeco=!0,p.appendChild(l),d=P[0]),l=p}patchAttributes(l,d||P[0],u)}return l}function patchAttributes(o,i,s){for(var a in i)"class"==a||"style"==a||"nodeName"==a||a in s||o.removeAttribute(a);for(var l in s)"class"!=l&&"style"!=l&&"nodeName"!=l&&s[l]!=i[l]&&o.setAttribute(l,s[l]);if(i.class!=s.class){for(var c=i.class?i.class.split(" "):M,u=s.class?s.class.split(" "):M,d=0;d<c.length;d++)-1==u.indexOf(c[d])&&o.classList.remove(c[d]);for(var p=0;p<u.length;p++)-1==c.indexOf(u[p])&&o.classList.add(u[p])}if(i.style!=s.style){if(i.style)for(var f,m=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;f=m.exec(i.style);)o.style.removeProperty(f[1]);s.style&&(o.style.cssText+=s.style)}}function applyOuterDeco(o,i,s){return patchOuterDeco(o,o,P,computeOuterDeco(i,s,1!=o.nodeType))}function sameOuterDeco(o,i){if(o.length!=i.length)return!1;for(var s=0;s<o.length;s++)if(!o[s].type.eq(i[s].type))return!1;return!0}function rm(o){var i=o.nextSibling;return o.parentNode.removeChild(o),i}var L=function ViewTreeUpdater(o,i){this.top=o,this.lock=i,this.index=0,this.stack=[],this.changed=!1;var s=function preMatch(o,i){for(var s=[],a=o.childCount,l=i.length-1;a>0&&l>=0;l--){var c=i[l],u=c.node;if(u){if(u!=o.child(a-1))break;s.push(c),--a}}return{nodes:s.reverse(),offset:a}}(o.node.content,o.children);this.preMatched=s.nodes,this.preMatchOffset=s.offset};function compareSide(o,i){return o.type.side-i.type.side}function replaceNodes(o,i,s,a,l){for(var c=[],u=0,d=0;u<o.length;u++){var p=o[u],f=d,m=d+=p.size;f>=s||m<=i?c.push(p):(f<i&&c.push(p.slice(0,i-f,a)),l&&(c.push(l),l=null),m>s&&c.push(p.slice(s-f,p.size,a)))}return c}function selectionFromDOM(o,i){var s=o.root.getSelection(),l=o.state.doc;if(!s.focusNode)return null;var c=o.docView.nearestDesc(s.focusNode),u=c&&0==c.size,d=o.docView.posFromDOM(s.focusNode,s.focusOffset);if(d<0)return null;var p,f,m=l.resolve(d);if(selectionCollapsed(s)){for(p=m;c&&!c.node;)c=c.parent;if(c&&c.node.isAtom&&a.NodeSelection.isSelectable(c.node)&&c.parent&&(!c.node.isInline||!function isOnEdge(o,i,s){for(var a=0==i,l=i==nodeSize(o);a||l;){if(o==s)return!0;var c=domIndex(o);if(!(o=o.parentNode))return!1;a=a&&0==c,l=l&&c==nodeSize(o)}}(s.focusNode,s.focusOffset,c.dom))){var g=c.posBefore;f=new a.NodeSelection(d==g?m:l.resolve(g))}}else{var v=o.docView.posFromDOM(s.anchorNode,s.anchorOffset);if(v<0)return null;p=l.resolve(v)}f||(f=selectionBetween(o,p,m,"pointer"==i||o.state.selection.head<m.pos&&!u?1:-1));return f}function editorOwnsSelection(o){return o.editable?o.hasFocus():hasSelection(o)&&document.activeElement&&document.activeElement.contains(o.dom)}function selectionToDOM(o,i){var s=o.state.selection;if(syncNodeSelection(o,s),editorOwnsSelection(o)){if(o.domObserver.disconnectSelection(),o.cursorWrapper)!function selectCursorWrapper(o){var i=o.root.getSelection(),s=document.createRange(),a=o.cursorWrapper.dom,l="IMG"==a.nodeName;l?s.setEnd(a.parentNode,domIndex(a)+1):s.setEnd(a,0);s.collapse(!1),i.removeAllRanges(),i.addRange(s),!l&&!o.state.selection.visible&&u.ie&&u.ie_version<=11&&(a.disabled=!0,a.disabled=!1)}(o);else{var l,c,d=s.anchor,p=s.head;!F||s instanceof a.TextSelection||(s.$from.parent.inlineContent||(l=temporarilyEditableNear(o,s.from)),s.empty||s.$from.parent.inlineContent||(c=temporarilyEditableNear(o,s.to))),o.docView.setSelection(d,p,o.root,i),F&&(l&&resetEditable(l),c&&resetEditable(c)),s.visible?o.dom.classList.remove("ProseMirror-hideselection"):(o.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function removeClassOnSelectionChange(o){var i=o.dom.ownerDocument;i.removeEventListener("selectionchange",o.hideSelectionGuard);var s=o.root.getSelection(),a=s.anchorNode,l=s.anchorOffset;i.addEventListener("selectionchange",o.hideSelectionGuard=function(){s.anchorNode==a&&s.anchorOffset==l||(i.removeEventListener("selectionchange",o.hideSelectionGuard),setTimeout((function(){editorOwnsSelection(o)&&!o.state.selection.visible||o.dom.classList.remove("ProseMirror-hideselection")}),20))})}(o))}o.domObserver.setCurSelection(),o.domObserver.connectSelection()}}L.prototype.getPreMatch=function getPreMatch(o){return o>=this.preMatchOffset?this.preMatched[o-this.preMatchOffset]:null},L.prototype.destroyBetween=function destroyBetween(o,i){if(o!=i){for(var s=o;s<i;s++)this.top.children[s].destroy();this.top.children.splice(o,i-o),this.changed=!0}},L.prototype.destroyRest=function destroyRest(){this.destroyBetween(this.index,this.top.children.length)},L.prototype.syncToMarks=function syncToMarks(o,i,s){for(var a=0,l=this.stack.length>>1,c=Math.min(l,o.length);a<c&&(a==l-1?this.top:this.stack[a+1<<1]).matchesMark(o[a])&&!1!==o[a].type.spec.spanning;)a++;for(;a<l;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),l--;for(;l<o.length;){this.stack.push(this.top,this.index+1);for(var u=-1,d=this.index;d<Math.min(this.index+3,this.top.children.length);d++)if(this.top.children[d].matchesMark(o[l])){u=d;break}if(u>-1)u>this.index&&(this.changed=!0,this.destroyBetween(this.index,u)),this.top=this.top.children[this.index];else{var p=T.create(this.top,o[l],i,s);this.top.children.splice(this.index,0,p),this.top=p,this.changed=!0}this.index=0,l++}},L.prototype.findNodeMatch=function findNodeMatch(o,i,s,a){var l=-1,c=a<0?void 0:this.getPreMatch(a),u=this.top.children;if(c&&c.matchesNode(o,i,s))l=u.indexOf(c);else for(var d=this.index,p=Math.min(u.length,d+5);d<p;d++){var f=u[d];if(f.matchesNode(o,i,s)&&this.preMatched.indexOf(f)<0){l=d;break}}return!(l<0)&&(this.destroyBetween(this.index,l),this.index++,!0)},L.prototype.updateNextNode=function updateNextNode(o,i,s,a,l){for(var c=this.index;c<this.top.children.length;c++){var u=this.top.children[c];if(u instanceof D){var d=this.preMatched.indexOf(u);if(d>-1&&d+this.preMatchOffset!=l)return!1;var p=u.dom;if(!(this.lock&&(p==this.lock||1==p.nodeType&&p.contains(this.lock.parentNode))&&!(o.isText&&u.node&&u.node.isText&&u.nodeDOM.nodeValue==o.text&&3!=u.dirty&&sameOuterDeco(i,u.outerDeco)))&&u.update(o,i,s,a))return this.destroyBetween(this.index,c),u.dom!=p&&(this.changed=!0),this.index++,!0;break}}return!1},L.prototype.addNode=function addNode(o,i,s,a,l){this.top.children.splice(this.index++,0,D.create(this.top,o,i,s,a,l)),this.changed=!0},L.prototype.placeWidget=function placeWidget(o,i,s){var a=this.index<this.top.children.length?this.top.children[this.index]:null;if(!a||!a.matchesWidget(o)||o!=a.widget&&a.widget.type.toDOM.parentNode){var l=new A(this.top,o,i,s);this.top.children.splice(this.index++,0,l),this.changed=!0}else this.index++},L.prototype.addTextblockHacks=function addTextblockHacks(){for(var o=this.top.children[this.index-1];o instanceof T;)o=o.children[o.children.length-1];if(!o||!(o instanceof I)||/\n$/.test(o.node.text))if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack())this.index++;else{var i=document.createElement("br");this.top.children.splice(this.index++,0,new N(this.top,M,i,null)),this.changed=!0}};var F=u.safari||u.chrome&&u.chrome_version<63;function temporarilyEditableNear(o,i){var s=o.docView.domFromPos(i,0),a=s.node,l=s.offset,c=l<a.childNodes.length?a.childNodes[l]:null,d=l?a.childNodes[l-1]:null;if(u.safari&&c&&"false"==c.contentEditable)return setEditable(c);if(!(c&&"false"!=c.contentEditable||d&&"false"!=d.contentEditable)){if(c)return setEditable(c);if(d)return setEditable(d)}}function setEditable(o){return o.contentEditable="true",u.safari&&o.draggable&&(o.draggable=!1,o.wasDraggable=!0),o}function resetEditable(o){o.contentEditable="false",o.wasDraggable&&(o.draggable=!0,o.wasDraggable=null)}function syncNodeSelection(o,i){if(i instanceof a.NodeSelection){var s=o.docView.descAt(i.from);s!=o.lastSelectedViewDesc&&(clearNodeSelection(o),s&&s.selectNode(),o.lastSelectedViewDesc=s)}else clearNodeSelection(o)}function clearNodeSelection(o){o.lastSelectedViewDesc&&(o.lastSelectedViewDesc.parent&&o.lastSelectedViewDesc.deselectNode(),o.lastSelectedViewDesc=null)}function selectionBetween(o,i,s,l){return o.someProp("createSelectionBetween",(function(a){return a(o,i,s)}))||a.TextSelection.between(i,s,l)}function hasSelection(o){var i=o.root.getSelection();if(!i.anchorNode)return!1;try{return o.dom.contains(3==i.anchorNode.nodeType?i.anchorNode.parentNode:i.anchorNode)&&(o.editable||o.dom.contains(3==i.focusNode.nodeType?i.focusNode.parentNode:i.focusNode))}catch(o){return!1}}function moveSelectionBlock(o,i){var s=o.selection,l=s.$anchor,c=s.$head,u=i>0?l.max(c):l.min(c),d=u.parent.inlineContent?u.depth?o.doc.resolve(i>0?u.after():u.before()):null:u;return d&&a.Selection.findFrom(d,i)}function apply(o,i){return o.dispatch(o.state.tr.setSelection(i).scrollIntoView()),!0}function selectHorizontally(o,i,s){var l=o.state.selection;if(!(l instanceof a.TextSelection)){if(l instanceof a.NodeSelection&&l.node.isInline)return apply(o,new a.TextSelection(i>0?l.$to:l.$from));var c=moveSelectionBlock(o.state,i);return!!c&&apply(o,c)}if(!l.empty||s.indexOf("s")>-1)return!1;if(o.endOfTextblock(i>0?"right":"left")){var d=moveSelectionBlock(o.state,i);return!!(d&&d instanceof a.NodeSelection)&&apply(o,d)}if(!(u.mac&&s.indexOf("m")>-1)){var p,f=l.$head,m=f.textOffset?null:i<0?f.nodeBefore:f.nodeAfter;if(!m||m.isText)return!1;var g=i<0?f.pos-m.nodeSize:f.pos;return!!(m.isAtom||(p=o.docView.descAt(g))&&!p.contentDOM)&&(a.NodeSelection.isSelectable(m)?apply(o,new a.NodeSelection(i<0?o.state.doc.resolve(f.pos-m.nodeSize):f)):!!u.webkit&&apply(o,new a.TextSelection(o.state.doc.resolve(i<0?g:g+m.nodeSize))))}}function nodeLen(o){return 3==o.nodeType?o.nodeValue.length:o.childNodes.length}function isIgnorable(o){var i=o.pmViewDesc;return i&&0==i.size&&(o.nextSibling||"BR"!=o.nodeName)}function skipIgnoredNodesLeft(o){var i=o.root.getSelection(),s=i.focusNode,a=i.focusOffset;if(s){var l,c,d=!1;for(u.gecko&&1==s.nodeType&&a<nodeLen(s)&&isIgnorable(s.childNodes[a])&&(d=!0);;)if(a>0){if(1!=s.nodeType)break;var p=s.childNodes[a-1];if(isIgnorable(p))l=s,c=--a;else{if(3!=p.nodeType)break;a=(s=p).nodeValue.length}}else{if(isBlockNode(s))break;for(var f=s.previousSibling;f&&isIgnorable(f);)l=s.parentNode,c=domIndex(f),f=f.previousSibling;if(f)a=nodeLen(s=f);else{if((s=s.parentNode)==o.dom)break;a=0}}d?setSelFocus(o,i,s,a):l&&setSelFocus(o,i,l,c)}}function skipIgnoredNodesRight(o){var i=o.root.getSelection(),s=i.focusNode,a=i.focusOffset;if(s){for(var l,c,u=nodeLen(s);;)if(a<u){if(1!=s.nodeType)break;if(!isIgnorable(s.childNodes[a]))break;l=s,c=++a}else{if(isBlockNode(s))break;for(var d=s.nextSibling;d&&isIgnorable(d);)l=d.parentNode,c=domIndex(d)+1,d=d.nextSibling;if(d)a=0,u=nodeLen(s=d);else{if((s=s.parentNode)==o.dom)break;a=u=0}}l&&setSelFocus(o,i,l,c)}}function isBlockNode(o){var i=o.pmViewDesc;return i&&i.node&&i.node.isBlock}function setSelFocus(o,i,s,a){if(selectionCollapsed(i)){var l=document.createRange();l.setEnd(s,a),l.setStart(s,a),i.removeAllRanges(),i.addRange(l)}else i.extend&&i.extend(s,a);o.domObserver.setCurSelection();var c=o.state;setTimeout((function(){o.state==c&&selectionToDOM(o)}),50)}function selectVertically(o,i,s){var l=o.state.selection;if(l instanceof a.TextSelection&&!l.empty||s.indexOf("s")>-1)return!1;if(u.mac&&s.indexOf("m")>-1)return!1;var c=l.$from,d=l.$to;if(!c.parent.inlineContent||o.endOfTextblock(i<0?"up":"down")){var p=moveSelectionBlock(o.state,i);if(p&&p instanceof a.NodeSelection)return apply(o,p)}if(!c.parent.inlineContent){var f=i<0?c:d,m=l instanceof a.AllSelection?a.Selection.near(f,i):a.Selection.findFrom(f,i);return!!m&&apply(o,m)}return!1}function stopNativeHorizontalDelete(o,i){if(!(o.state.selection instanceof a.TextSelection))return!0;var s=o.state.selection,l=s.$head,c=s.$anchor,u=s.empty;if(!l.sameParent(c))return!0;if(!u)return!1;if(o.endOfTextblock(i>0?"forward":"backward"))return!0;var d=!l.textOffset&&(i<0?l.nodeBefore:l.nodeAfter);if(d&&!d.isText){var p=o.state.tr;return i<0?p.delete(l.pos-d.nodeSize,l.pos):p.delete(l.pos,l.pos+d.nodeSize),o.dispatch(p),!0}return!1}function switchEditable(o,i,s){o.domObserver.stop(),i.contentEditable=s,o.domObserver.start()}function captureKeyDown(o,i){var s=i.keyCode,a=function getMods(o){var i="";return o.ctrlKey&&(i+="c"),o.metaKey&&(i+="m"),o.altKey&&(i+="a"),o.shiftKey&&(i+="s"),i}(i);return 8==s||u.mac&&72==s&&"c"==a?stopNativeHorizontalDelete(o,-1)||skipIgnoredNodesLeft(o):46==s||u.mac&&68==s&&"c"==a?stopNativeHorizontalDelete(o,1)||skipIgnoredNodesRight(o):13==s||27==s||(37==s?selectHorizontally(o,-1,a)||skipIgnoredNodesLeft(o):39==s?selectHorizontally(o,1,a)||skipIgnoredNodesRight(o):38==s?selectVertically(o,-1,a)||skipIgnoredNodesLeft(o):40==s?function safariDownArrowBug(o){if(u.safari&&!(o.state.selection.$head.parentOffset>0)){var i=o.root.getSelection(),s=i.focusNode,a=i.focusOffset;if(s&&1==s.nodeType&&0==a&&s.firstChild&&"false"==s.firstChild.contentEditable){var l=s.firstChild;switchEditable(o,l,!0),setTimeout((function(){return switchEditable(o,l,!1)}),20)}}}(o)||selectVertically(o,1,a)||skipIgnoredNodesRight(o):a==(u.mac?"m":"c")&&(66==s||73==s||89==s||90==s))}function ruleFromNode(o){var i=o.pmViewDesc;if(i)return i.parseRule();if("BR"==o.nodeName&&o.parentNode){if(u.safari&&/^(ul|ol)$/i.test(o.parentNode.nodeName)){var s=document.createElement("div");return s.appendChild(document.createElement("li")),{skip:s}}if(o.parentNode.lastChild==o||u.safari&&/^(tr|table)$/i.test(o.parentNode.nodeName))return{ignore:!0}}else if("IMG"==o.nodeName&&o.getAttribute("mark-placeholder"))return{ignore:!0}}function readDOMChange(o,i,s,c,d){if(i<0){var p=o.lastSelectionTime>Date.now()-50?o.lastSelectionOrigin:null,f=selectionFromDOM(o,p);if(f&&!o.state.selection.eq(f)){var m=o.state.tr.setSelection(f);"pointer"==p?m.setMeta("pointer",!0):"key"==p&&m.scrollIntoView(),o.dispatch(m)}}else{var g=o.state.doc.resolve(i),v=g.sharedDepth(s);i=g.before(v+1),s=o.state.doc.resolve(s).after(v+1);var y=o.state.selection,b=function parseBetween(o,i,s){var a=o.docView.parseRange(i,s),c=a.node,d=a.fromOffset,p=a.toOffset,f=a.from,m=a.to,g=o.root.getSelection(),v=null,y=g.anchorNode;if(y&&o.dom.contains(1==y.nodeType?y:y.parentNode)&&(v=[{node:y,offset:g.anchorOffset}],selectionCollapsed(g)||v.push({node:g.focusNode,offset:g.focusOffset})),u.chrome&&8===o.lastKeyCode)for(var b=p;b>d;b--){var k=c.childNodes[b-1],w=k.pmViewDesc;if("BR"==k.nodeType&&!w){p=b;break}if(!w||w.size)break}var S=o.state.doc,x=o.someProp("domParser")||l.DOMParser.fromSchema(o.state.schema),C=S.resolve(f),_=null,O=x.parse(c,{topNode:C.parent,topMatch:C.parent.contentMatchAt(C.index()),topOpen:!0,from:d,to:p,preserveWhitespace:!C.parent.type.spec.code||"full",editableContent:!0,findPositions:v,ruleFromNode:ruleFromNode,context:C});if(v&&null!=v[0].pos){var M=v[0].pos,A=v[1]&&v[1].pos;null==A&&(A=M),_={anchor:M+f,head:A+f}}return{doc:O,sel:_,from:f,to:m}}(o,i,s);if(u.chrome&&o.cursorWrapper&&b.sel&&b.sel.anchor==o.cursorWrapper.deco.from){var k=o.cursorWrapper.deco.type.toDOM.nextSibling,w=k&&k.nodeValue?k.nodeValue.length:1;b.sel={anchor:b.sel.anchor+w,head:b.sel.anchor+w}}var S,x,C=o.state.doc,_=C.slice(b.from,b.to);8===o.lastKeyCode&&Date.now()-100<o.lastKeyCodeTime?(S=o.state.selection.to,x="end"):(S=o.state.selection.from,x="start"),o.lastKeyCode=null;var O=function findDiff(o,i,s,a,l){var c=o.findDiffStart(i,s);if(null==c)return null;var u=o.findDiffEnd(i,s+o.size,s+i.size),d=u.a,p=u.b;if("end"==l){a-=d+Math.max(0,c-Math.min(d,p))-c}if(d<c&&o.size<i.size){p=(c-=a<=c&&a>=d?c-a:0)+(p-d),d=c}else if(p<c){d=(c-=a<=c&&a>=p?c-a:0)+(d-p),p=c}return{start:c,endA:d,endB:p}}(_.content,b.doc.content,b.from,S,x);if(!O){if(!(c&&y instanceof a.TextSelection&&!y.empty&&y.$head.sameParent(y.$anchor))||o.composing||b.sel&&b.sel.anchor!=b.sel.head){if(u.ios&&o.lastIOSEnter>Date.now()-225&&d.some((function(o){return"DIV"==o.nodeName||"P"==o.nodeName}))&&o.someProp("handleKeyDown",(function(i){return i(o,keyEvent(13,"Enter"))})))return void(o.lastIOSEnter=0);if(b.sel){var M=resolveSelection(o,o.state.doc,b.sel);M&&!M.eq(o.state.selection)&&o.dispatch(o.state.tr.setSelection(M))}return}O={start:y.from,endA:y.to,endB:y.to}}o.domChangeCount++,o.state.selection.from<o.state.selection.to&&O.start==O.endB&&o.state.selection instanceof a.TextSelection&&(O.start>o.state.selection.from&&O.start<=o.state.selection.from+2?O.start=o.state.selection.from:O.endA<o.state.selection.to&&O.endA>=o.state.selection.to-2&&(O.endB+=o.state.selection.to-O.endA,O.endA=o.state.selection.to)),u.ie&&u.ie_version<=11&&O.endB==O.start+1&&O.endA==O.start&&O.start>b.from&&"  "==b.doc.textBetween(O.start-b.from-1,O.start-b.from+1)&&(O.start--,O.endA--,O.endB--);var A,E=b.doc.resolveNoCache(O.start-b.from),T=b.doc.resolveNoCache(O.endB-b.from),D=E.sameParent(T)&&E.parent.inlineContent;if((u.ios&&o.lastIOSEnter>Date.now()-225&&(!D||d.some((function(o){return"DIV"==o.nodeName||"P"==o.nodeName})))||!D&&E.pos<b.doc.content.size&&(A=a.Selection.findFrom(b.doc.resolve(E.pos+1),1,!0))&&A.head==T.pos)&&o.someProp("handleKeyDown",(function(i){return i(o,keyEvent(13,"Enter"))})))o.lastIOSEnter=0;else if(o.state.selection.anchor>O.start&&function looksLikeJoin(o,i,s,a,l){if(!a.parent.isTextblock||s-i<=l.pos-a.pos||skipClosingAndOpening(a,!0,!1)<l.pos)return!1;var c=o.resolve(i);if(c.parentOffset<c.parent.content.size||!c.parent.isTextblock)return!1;var u=o.resolve(skipClosingAndOpening(c,!0,!0));if(!u.parent.isTextblock||u.pos>s||skipClosingAndOpening(u,!0,!1)<s)return!1;return a.parent.content.cut(a.parentOffset).eq(u.parent.content)}(C,O.start,O.endA,E,T)&&o.someProp("handleKeyDown",(function(i){return i(o,keyEvent(8,"Backspace"))})))u.android&&u.chrome&&o.domObserver.suppressSelectionUpdates();else{u.android&&!D&&E.start()!=T.start()&&0==T.parentOffset&&E.depth==T.depth&&b.sel&&b.sel.anchor==b.sel.head&&b.sel.head==O.endA&&(O.endB-=2,T=b.doc.resolveNoCache(O.endB-b.from),setTimeout((function(){o.someProp("handleKeyDown",(function(i){return i(o,keyEvent(13,"Enter"))}))}),20));var I,N,R,P,L=O.start,F=O.endA;if(D)if(E.pos==T.pos)u.ie&&u.ie_version<=11&&0==E.parentOffset&&(o.domObserver.suppressSelectionUpdates(),setTimeout((function(){return selectionToDOM(o)}),20)),I=o.state.tr.delete(L,F),N=C.resolve(O.start).marksAcross(C.resolve(O.endA));else if(O.endA==O.endB&&(P=C.resolve(O.start))&&(R=function isMarkChange(o,i){for(var s,a,c,u=o.firstChild.marks,d=i.firstChild.marks,p=u,f=d,m=0;m<d.length;m++)p=d[m].removeFromSet(p);for(var g=0;g<u.length;g++)f=u[g].removeFromSet(f);if(1==p.length&&0==f.length)a=p[0],s="add",c=function(o){return o.mark(a.addToSet(o.marks))};else{if(0!=p.length||1!=f.length)return null;a=f[0],s="remove",c=function(o){return o.mark(a.removeFromSet(o.marks))}}for(var v=[],y=0;y<i.childCount;y++)v.push(c(i.child(y)));if(l.Fragment.from(v).eq(o))return{mark:a,type:s}}(E.parent.content.cut(E.parentOffset,T.parentOffset),P.parent.content.cut(P.parentOffset,O.endA-P.start()))))I=o.state.tr,"add"==R.type?I.addMark(L,F,R.mark):I.removeMark(L,F,R.mark);else if(E.parent.child(E.index()).isText&&E.index()==T.index()-(T.textOffset?0:1)){var B=E.parent.textBetween(E.parentOffset,T.parentOffset);if(o.someProp("handleTextInput",(function(i){return i(o,L,F,B)})))return;I=o.state.tr.insertText(B,L,F)}if(I||(I=o.state.tr.replace(L,F,b.doc.slice(O.start-b.from,O.endB-b.from))),b.sel){var z=resolveSelection(o,I.doc,b.sel);z&&!(u.chrome&&u.android&&o.composing&&z.empty&&(z.head==L||z.head==I.mapping.map(F)-1)||u.ie&&z.empty&&z.head==L)&&I.setSelection(z)}N&&I.ensureMarks(N),o.dispatch(I.scrollIntoView())}}}function resolveSelection(o,i,s){return Math.max(s.anchor,s.head)>i.content.size?null:selectionBetween(o,i.resolve(s.anchor),i.resolve(s.head))}function skipClosingAndOpening(o,i,s){for(var a=o.depth,l=i?o.end():o.pos;a>0&&(i||o.indexAfter(a)==o.node(a).childCount);)a--,l++,i=!1;if(s)for(var c=o.node(a).maybeChild(o.indexAfter(a));c&&!c.isLeaf;)c=c.firstChild,l++;return l}function serializeForClipboard(o,i){for(var s=[],a=i.content,c=i.openStart,u=i.openEnd;c>1&&u>1&&1==a.childCount&&1==a.firstChild.childCount;){c--,u--;var d=a.firstChild;s.push(d.type.name,d.attrs!=d.type.defaultAttrs?d.attrs:null),a=d.content}var p=o.someProp("clipboardSerializer")||l.DOMSerializer.fromSchema(o.state.schema),f=detachedDoc(),m=f.createElement("div");m.appendChild(p.serializeFragment(a,{document:f}));for(var g,v=m.firstChild;v&&1==v.nodeType&&(g=B[v.nodeName.toLowerCase()]);){for(var y=g.length-1;y>=0;y--){for(var b=f.createElement(g[y]);m.firstChild;)b.appendChild(m.firstChild);m.appendChild(b)}v=m.firstChild}return v&&1==v.nodeType&&v.setAttribute("data-pm-slice",c+" "+u+" "+JSON.stringify(s)),{dom:m,text:o.someProp("clipboardTextSerializer",(function(o){return o(i)}))||i.content.textBetween(0,i.content.size,"\n\n")}}function parseFromClipboard(o,i,s,a,c){var u,d,p=c.parent.type.spec.code;if(!s&&!i)return null;var f=i&&(a||p||!s);if(f){if(o.someProp("transformPastedText",(function(o){i=o(i,p||a)})),p)return new l.Slice(l.Fragment.from(o.state.schema.text(i.replace(/\r\n?/g,"\n"))),0,0);var m=o.someProp("clipboardTextParser",(function(o){return o(i,c,a)}));m?d=m:(u=document.createElement("div"),i.trim().split(/(?:\r\n?|\n)+/).forEach((function(o){u.appendChild(document.createElement("p")).textContent=o})))}else o.someProp("transformPastedHTML",(function(o){s=o(s)})),u=function readHTML(o){var i=/(\s*<meta [^>]*>)*/.exec(o);i&&(o=o.slice(i[0].length));var s,a=detachedDoc().createElement("div"),l=/(?:<meta [^>]*>)*<([a-z][^>\s]+)/i.exec(o),c=0;(s=l&&B[l[1].toLowerCase()])&&(o=s.map((function(o){return"<"+o+">"})).join("")+o+s.map((function(o){return"</"+o+">"})).reverse().join(""),c=s.length);a.innerHTML=o;for(var u=0;u<c;u++)a=a.firstChild;return a}(s);var g=u&&u.querySelector("[data-pm-slice]"),v=g&&/^(\d+) (\d+) (.*)/.exec(g.getAttribute("data-pm-slice"));if(!d){var y=o.someProp("clipboardParser")||o.someProp("domParser")||l.DOMParser.fromSchema(o.state.schema);d=y.parseSlice(u,{preserveWhitespace:!(!f&&!v),context:c})}return d=v?function addContext(o,i){if(!o.size)return o;var s,a=o.content.firstChild.type.schema;try{s=JSON.parse(i)}catch(i){return o}for(var c=o.content,u=o.openStart,d=o.openEnd,p=s.length-2;p>=0;p-=2){var f=a.nodes[s[p]];if(!f||f.hasRequiredAttrs())break;c=l.Fragment.from(f.create(s[p+1],c)),u++,d++}return new l.Slice(c,u,d)}(function closeSlice(o,i,s){i<o.openStart&&(o=new l.Slice(closeRange(o.content,-1,i,o.openStart,0,o.openEnd),i,o.openEnd));s<o.openEnd&&(o=new l.Slice(closeRange(o.content,1,s,o.openEnd,0,0),o.openStart,s));return o}(d,+v[1],+v[2]),v[3]):l.Slice.maxOpen(function normalizeSiblings(o,i){if(o.childCount<2)return o;for(var loop=function(s){var a=i.node(s).contentMatchAt(i.index(s)),c=void 0,u=[];if(o.forEach((function(o){if(u){var i,s=a.findWrapping(o.type);if(!s)return u=null;if(i=u.length&&c.length&&addToSibling(s,c,o,u[u.length-1],0))u[u.length-1]=i;else{u.length&&(u[u.length-1]=closeRight(u[u.length-1],c.length));var l=withWrappers(o,s);u.push(l),a=a.matchType(l.type,l.attrs),c=s}}})),u)return{v:l.Fragment.from(u)}},s=i.depth;s>=0;s--){var a=loop(s);if(a)return a.v}return o}(d.content,c),!1),o.someProp("transformPasted",(function(o){d=o(d)})),d}function withWrappers(o,i,s){void 0===s&&(s=0);for(var a=i.length-1;a>=s;a--)o=i[a].create(null,l.Fragment.from(o));return o}function addToSibling(o,i,s,a,c){if(c<o.length&&c<i.length&&o[c]==i[c]){var u=addToSibling(o,i,s,a.lastChild,c+1);if(u)return a.copy(a.content.replaceChild(a.childCount-1,u));if(a.contentMatchAt(a.childCount).matchType(c==o.length-1?s.type:o[c+1]))return a.copy(a.content.append(l.Fragment.from(withWrappers(s,o,c+1))))}}function closeRight(o,i){if(0==i)return o;var s=o.content.replaceChild(o.childCount-1,closeRight(o.lastChild,i-1)),a=o.contentMatchAt(o.childCount).fillBefore(l.Fragment.empty,!0);return o.copy(s.append(a))}function closeRange(o,i,s,a,c,u){var d=i<0?o.firstChild:o.lastChild,p=d.content;return c<a-1&&(p=closeRange(p,i,s,a,c+1,u)),c>=s&&(p=i<0?d.contentMatchAt(0).fillBefore(p,o.childCount>1||u<=c).append(p):p.append(d.contentMatchAt(d.childCount).fillBefore(l.Fragment.empty,!0))),o.replaceChild(i<0?0:o.childCount-1,d.copy(p))}var B={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},z=null;function detachedDoc(){return z||(z=document.implementation.createHTMLDocument("title"))}var j={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},$=u.ie&&u.ie_version<=11,q=function SelectionState(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};q.prototype.set=function set(o){this.anchorNode=o.anchorNode,this.anchorOffset=o.anchorOffset,this.focusNode=o.focusNode,this.focusOffset=o.focusOffset},q.prototype.eq=function eq(o){return o.anchorNode==this.anchorNode&&o.anchorOffset==this.anchorOffset&&o.focusNode==this.focusNode&&o.focusOffset==this.focusOffset};var V=function DOMObserver(o,i){var s=this;this.view=o,this.handleDOMChange=i,this.queue=[],this.flushingSoon=-1,this.observer=window.MutationObserver&&new window.MutationObserver((function(o){for(var i=0;i<o.length;i++)s.queue.push(o[i]);u.ie&&u.ie_version<=11&&o.some((function(o){return"childList"==o.type&&o.removedNodes.length||"characterData"==o.type&&o.oldValue.length>o.target.nodeValue.length}))?s.flushSoon():s.flush()})),this.currentSelection=new q,$&&(this.onCharData=function(o){s.queue.push({target:o.target,type:"characterData",oldValue:o.prevValue}),s.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};V.prototype.flushSoon=function flushSoon(){var o=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((function(){o.flushingSoon=-1,o.flush()}),20))},V.prototype.forceFlush=function forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())},V.prototype.start=function start(){this.observer&&this.observer.observe(this.view.dom,j),$&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()},V.prototype.stop=function stop(){var o=this;if(this.observer){var i=this.observer.takeRecords();if(i.length){for(var s=0;s<i.length;s++)this.queue.push(i[s]);window.setTimeout((function(){return o.flush()}),20)}this.observer.disconnect()}$&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()},V.prototype.connectSelection=function connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)},V.prototype.disconnectSelection=function disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)},V.prototype.suppressSelectionUpdates=function suppressSelectionUpdates(){var o=this;this.suppressingSelectionUpdates=!0,setTimeout((function(){return o.suppressingSelectionUpdates=!1}),50)},V.prototype.onSelectionChange=function onSelectionChange(){if(function hasFocusAndSelection(o){return(!o.editable||o.root.activeElement==o.dom)&&hasSelection(o)}(this.view)){if(this.suppressingSelectionUpdates)return selectionToDOM(this.view);if(u.ie&&u.ie_version<=11&&!this.view.state.selection.empty){var o=this.view.root.getSelection();if(o.focusNode&&isEquivalentPosition(o.focusNode,o.focusOffset,o.anchorNode,o.anchorOffset))return this.flushSoon()}this.flush()}},V.prototype.setCurSelection=function setCurSelection(){this.currentSelection.set(this.view.root.getSelection())},V.prototype.ignoreSelectionChange=function ignoreSelectionChange(o){if(0==o.rangeCount)return!0;var i=o.getRangeAt(0).commonAncestorContainer,s=this.view.docView.nearestDesc(i);return s&&s.ignoreMutation({type:"selection",target:3==i.nodeType?i.parentNode:i})?(this.setCurSelection(),!0):void 0},V.prototype.flush=function flush(){if(this.view.docView&&!(this.flushingSoon>-1)){var o=this.observer?this.observer.takeRecords():[];this.queue.length&&(o=this.queue.concat(o),this.queue.length=0);var i=this.view.root.getSelection(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(i)&&hasSelection(this.view)&&!this.ignoreSelectionChange(i),a=-1,l=-1,c=!1,d=[];if(this.view.editable)for(var p=0;p<o.length;p++){var f=this.registerMutation(o[p],d);f&&(a=a<0?f.from:Math.min(f.from,a),l=l<0?f.to:Math.max(f.to,l),f.typeOver&&(c=!0))}if(u.gecko&&d.length>1){var m=d.filter((function(o){return"BR"==o.nodeName}));if(2==m.length){var g=m[0],v=m[1];g.parentNode&&g.parentNode.parentNode==v.parentNode?v.remove():g.remove()}}(a>-1||s)&&(a>-1&&(this.view.docView.markDirty(a,l),function checkCSS(o){if(U)return;U=!0,"normal"==getComputedStyle(o.dom).whiteSpace&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package.")}(this.view)),this.handleDOMChange(a,l,c,d),this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(i)||selectionToDOM(this.view),this.currentSelection.set(i))}},V.prototype.registerMutation=function registerMutation(o,i){if(i.indexOf(o.target)>-1)return null;var s=this.view.docView.nearestDesc(o.target);if("attributes"==o.type&&(s==this.view.docView||"contenteditable"==o.attributeName||"style"==o.attributeName&&!o.oldValue&&!o.target.getAttribute("style")))return null;if(!s||s.ignoreMutation(o))return null;if("childList"==o.type){if(s.contentDOM&&s.contentDOM!=s.dom&&!s.contentDOM.contains(o.target))return{from:s.posBefore,to:s.posAfter};var a=o.previousSibling,l=o.nextSibling;if(u.ie&&u.ie_version<=11&&o.addedNodes.length)for(var c=0;c<o.addedNodes.length;c++){var d=o.addedNodes[c],p=d.previousSibling,f=d.nextSibling;(!p||Array.prototype.indexOf.call(o.addedNodes,p)<0)&&(a=p),(!f||Array.prototype.indexOf.call(o.addedNodes,f)<0)&&(l=f)}for(var m=a&&a.parentNode==o.target?domIndex(a)+1:0,g=s.localPosFromDOM(o.target,m,-1),v=l&&l.parentNode==o.target?domIndex(l):o.target.childNodes.length,y=0;y<o.addedNodes.length;y++)i.push(o.addedNodes[y]);return{from:g,to:s.localPosFromDOM(o.target,v,1)}}return"attributes"==o.type?{from:s.posAtStart-s.border,to:s.posAtEnd+s.border}:{from:s.posAtStart,to:s.posAtEnd,typeOver:o.target.nodeValue==o.oldValue}};var U=!1;var W={},H={};function setSelectionOrigin(o,i){o.lastSelectionOrigin=i,o.lastSelectionTime=Date.now()}function ensureListeners(o){o.someProp("handleDOMEvents",(function(i){for(var s in i)o.eventHandlers[s]||o.dom.addEventListener(s,o.eventHandlers[s]=function(i){return runCustomHandler(o,i)})}))}function runCustomHandler(o,i){return o.someProp("handleDOMEvents",(function(s){var a=s[i.type];return!!a&&(a(o,i)||i.defaultPrevented)}))}function eventCoords(o){return{left:o.clientX,top:o.clientY}}function runHandlerOnContext(o,i,s,a,l){if(-1==a)return!1;for(var c=o.state.doc.resolve(a),loop=function(a){if(o.someProp(i,(function(i){return a>c.depth?i(o,s,c.nodeAfter,c.before(a),l,!0):i(o,s,c.node(a),c.before(a),l,!1)})))return{v:!0}},u=c.depth+1;u>0;u--){var d=loop(u);if(d)return d.v}return!1}function updateSelection(o,i,s){o.focused||o.focus();var a=o.state.tr.setSelection(i);"pointer"==s&&a.setMeta("pointer",!0),o.dispatch(a)}function handleSingleClick(o,i,s,l,c){return runHandlerOnContext(o,"handleClickOn",i,s,l)||o.someProp("handleClick",(function(s){return s(o,i,l)}))||(c?function selectClickedNode(o,i){if(-1==i)return!1;var s,l,c=o.state.selection;c instanceof a.NodeSelection&&(s=c.node);for(var u=o.state.doc.resolve(i),d=u.depth+1;d>0;d--){var p=d>u.depth?u.nodeAfter:u.node(d);if(a.NodeSelection.isSelectable(p)){l=s&&c.$from.depth>0&&d>=c.$from.depth&&u.before(c.$from.depth+1)==c.$from.pos?u.before(c.$from.depth):u.before(d);break}}return null!=l&&(updateSelection(o,a.NodeSelection.create(o.state.doc,l),"pointer"),!0)}(o,s):function selectClickedLeaf(o,i){if(-1==i)return!1;var s=o.state.doc.resolve(i),l=s.nodeAfter;return!!(l&&l.isAtom&&a.NodeSelection.isSelectable(l))&&(updateSelection(o,new a.NodeSelection(s),"pointer"),!0)}(o,s))}function handleDoubleClick(o,i,s,a){return runHandlerOnContext(o,"handleDoubleClickOn",i,s,a)||o.someProp("handleDoubleClick",(function(s){return s(o,i,a)}))}function handleTripleClick(o,i,s,l){return runHandlerOnContext(o,"handleTripleClickOn",i,s,l)||o.someProp("handleTripleClick",(function(s){return s(o,i,l)}))||function defaultTripleClick(o,i){var s=o.state.doc;if(-1==i)return!!s.inlineContent&&(updateSelection(o,a.TextSelection.create(s,0,s.content.size),"pointer"),!0);for(var l=s.resolve(i),c=l.depth+1;c>0;c--){var u=c>l.depth?l.nodeAfter:l.node(c),d=l.before(c);if(u.inlineContent)updateSelection(o,a.TextSelection.create(s,d+1,d+1+u.content.size),"pointer");else{if(!a.NodeSelection.isSelectable(u))continue;updateSelection(o,a.NodeSelection.create(s,d),"pointer")}return!0}}(o,s)}function forceDOMFlush(o){return endComposition(o)}H.keydown=function(o,i){if(o.shiftKey=16==i.keyCode||i.shiftKey,!inOrNearComposition(o,i))if(o.domObserver.forceFlush(),o.lastKeyCode=i.keyCode,o.lastKeyCodeTime=Date.now(),!u.ios||13!=i.keyCode||i.ctrlKey||i.altKey||i.metaKey)o.someProp("handleKeyDown",(function(s){return s(o,i)}))||captureKeyDown(o,i)?i.preventDefault():setSelectionOrigin(o,"key");else{var s=Date.now();o.lastIOSEnter=s,o.lastIOSEnterFallbackTimeout=setTimeout((function(){o.lastIOSEnter==s&&(o.someProp("handleKeyDown",(function(i){return i(o,keyEvent(13,"Enter"))})),o.lastIOSEnter=0)}),200)}},H.keyup=function(o,i){16==i.keyCode&&(o.shiftKey=!1)},H.keypress=function(o,i){if(!(inOrNearComposition(o,i)||!i.charCode||i.ctrlKey&&!i.altKey||u.mac&&i.metaKey))if(o.someProp("handleKeyPress",(function(s){return s(o,i)})))i.preventDefault();else{var s=o.state.selection;if(!(s instanceof a.TextSelection&&s.$from.sameParent(s.$to))){var l=String.fromCharCode(i.charCode);o.someProp("handleTextInput",(function(i){return i(o,s.$from.pos,s.$to.pos,l)}))||o.dispatch(o.state.tr.insertText(l).scrollIntoView()),i.preventDefault()}}};var G=u.mac?"metaKey":"ctrlKey";W.mousedown=function(o,i){o.shiftKey=i.shiftKey;var s=forceDOMFlush(o),a=Date.now(),l="singleClick";a-o.lastClick.time<500&&function isNear(o,i){var s=i.x-o.clientX,a=i.y-o.clientY;return s*s+a*a<100}(i,o.lastClick)&&!i[G]&&("singleClick"==o.lastClick.type?l="doubleClick":"doubleClick"==o.lastClick.type&&(l="tripleClick")),o.lastClick={time:a,x:i.clientX,y:i.clientY,type:l};var c=o.posAtCoords(eventCoords(i));c&&("singleClick"==l?o.mouseDown=new K(o,c,i,s):("doubleClick"==l?handleDoubleClick:handleTripleClick)(o,c.pos,c.inside,i)?i.preventDefault():setSelectionOrigin(o,"pointer"))};var K=function MouseDown(o,i,s,l){var c,d,p=this;if(this.view=o,this.startDoc=o.state.doc,this.pos=i,this.event=s,this.flushed=l,this.selectNode=s[G],this.allowDefault=s.shiftKey,i.inside>-1)c=o.state.doc.nodeAt(i.inside),d=i.inside;else{var f=o.state.doc.resolve(i.pos);c=f.parent,d=f.depth?f.before():0}this.mightDrag=null;var m=l?null:s.target,g=m?o.docView.nearestDesc(m,!0):null;this.target=g?g.dom:null,(c.type.spec.draggable&&!1!==c.type.spec.selectable||o.state.selection instanceof a.NodeSelection&&d==o.state.selection.from)&&(this.mightDrag={node:c,pos:d,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&u.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((function(){return p.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),o.root.addEventListener("mouseup",this.up=this.up.bind(this)),o.root.addEventListener("mousemove",this.move=this.move.bind(this)),setSelectionOrigin(o,"pointer")};function inOrNearComposition(o,i){return!!o.composing||!!(u.safari&&Math.abs(i.timeStamp-o.compositionEndedAt)<500)&&(o.compositionEndedAt=-2e8,!0)}K.prototype.done=function done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.view.mouseDown=null},K.prototype.up=function up(o){if(this.done(),this.view.dom.contains(3==o.target.nodeType?o.target.parentNode:o.target)){var i=this.pos;this.view.state.doc!=this.startDoc&&(i=this.view.posAtCoords(eventCoords(o))),this.allowDefault||!i?setSelectionOrigin(this.view,"pointer"):handleSingleClick(this.view,i.pos,i.inside,o,this.selectNode)?o.preventDefault():this.flushed||u.safari&&this.mightDrag&&!this.mightDrag.node.isAtom||u.chrome&&!(this.view.state.selection instanceof a.TextSelection)&&(i.pos==this.view.state.selection.from||i.pos==this.view.state.selection.to)?(updateSelection(this.view,a.Selection.near(this.view.state.doc.resolve(i.pos)),"pointer"),o.preventDefault()):setSelectionOrigin(this.view,"pointer")}},K.prototype.move=function move(o){!this.allowDefault&&(Math.abs(this.event.x-o.clientX)>4||Math.abs(this.event.y-o.clientY)>4)&&(this.allowDefault=!0),setSelectionOrigin(this.view,"pointer")},W.touchdown=function(o){forceDOMFlush(o),setSelectionOrigin(o,"pointer")},W.contextmenu=function(o){return forceDOMFlush(o)};var J=u.android?5e3:-1;function scheduleComposeEnd(o,i){clearTimeout(o.composingTimeout),i>-1&&(o.composingTimeout=setTimeout((function(){return endComposition(o)}),i))}function clearComposition(o){for(o.composing=!1;o.compositionNodes.length>0;)o.compositionNodes.pop().markParentsDirty()}function endComposition(o,i){if(o.domObserver.forceFlush(),clearComposition(o),i||o.docView.dirty){var s=selectionFromDOM(o);return s&&!s.eq(o.state.selection)?o.dispatch(o.state.tr.setSelection(s)):o.updateState(o.state),!0}return!1}H.compositionstart=H.compositionupdate=function(o){if(!o.composing){o.domObserver.flush();var i=o.state,s=i.selection.$from;if(i.selection.empty&&(i.storedMarks||!s.textOffset&&s.parentOffset&&s.nodeBefore.marks.some((function(o){return!1===o.type.spec.inclusive}))))o.markCursor=o.state.storedMarks||s.marks(),endComposition(o,!0),o.markCursor=null;else if(endComposition(o),u.gecko&&i.selection.empty&&s.parentOffset&&!s.textOffset&&s.nodeBefore.marks.length)for(var a=o.root.getSelection(),l=a.focusNode,c=a.focusOffset;l&&1==l.nodeType&&0!=c;){var d=c<0?l.lastChild:l.childNodes[c-1];if(!d)break;if(3==d.nodeType){a.collapse(d,d.nodeValue.length);break}l=d,c=-1}o.composing=!0}scheduleComposeEnd(o,J)},H.compositionend=function(o,i){o.composing&&(o.composing=!1,o.compositionEndedAt=i.timeStamp,scheduleComposeEnd(o,20))};var Z=u.ie&&u.ie_version<15||u.ios&&u.webkit_version<604;function doPaste(o,i,s,a){var c=parseFromClipboard(o,i,s,o.shiftKey,o.state.selection.$from);if(o.someProp("handlePaste",(function(i){return i(o,a,c||l.Slice.empty)})))return!0;if(!c)return!1;var u=function sliceSingleNode(o){return 0==o.openStart&&0==o.openEnd&&1==o.content.childCount?o.content.firstChild:null}(c),d=u?o.state.tr.replaceSelectionWith(u,o.shiftKey):o.state.tr.replaceSelection(c);return o.dispatch(d.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}W.copy=H.cut=function(o,i){var s=o.state.selection,a="cut"==i.type;if(!s.empty){var l=Z?null:i.clipboardData,c=serializeForClipboard(o,s.content()),u=c.dom,d=c.text;l?(i.preventDefault(),l.clearData(),l.setData("text/html",u.innerHTML),l.setData("text/plain",d)):function captureCopy(o,i){if(o.dom.parentNode){var s=o.dom.parentNode.appendChild(document.createElement("div"));s.appendChild(i),s.style.cssText="position: fixed; left: -10000px; top: 10px";var a=getSelection(),l=document.createRange();l.selectNodeContents(i),o.dom.blur(),a.removeAllRanges(),a.addRange(l),setTimeout((function(){s.parentNode&&s.parentNode.removeChild(s),o.focus()}),50)}}(o,u),a&&o.dispatch(o.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},H.paste=function(o,i){var s=Z?null:i.clipboardData;s&&doPaste(o,s.getData("text/plain"),s.getData("text/html"),i)?i.preventDefault():function capturePaste(o,i){if(o.dom.parentNode){var s=o.shiftKey||o.state.selection.$from.parent.type.spec.code,a=o.dom.parentNode.appendChild(document.createElement(s?"textarea":"div"));s||(a.contentEditable="true"),a.style.cssText="position: fixed; left: -10000px; top: 10px",a.focus(),setTimeout((function(){o.focus(),a.parentNode&&a.parentNode.removeChild(a),s?doPaste(o,a.value,null,i):doPaste(o,a.textContent,a.innerHTML,i)}),50)}}(o,i)};var Y=function Dragging(o,i){this.slice=o,this.move=i},X=u.mac?"altKey":"ctrlKey";for(var Q in W.dragstart=function(o,i){var s=o.mouseDown;if(s&&s.done(),i.dataTransfer){var l=o.state.selection,c=l.empty?null:o.posAtCoords(eventCoords(i));if(c&&c.pos>=l.from&&c.pos<=(l instanceof a.NodeSelection?l.to-1:l.to));else if(s&&s.mightDrag)o.dispatch(o.state.tr.setSelection(a.NodeSelection.create(o.state.doc,s.mightDrag.pos)));else if(i.target&&1==i.target.nodeType){var u=o.docView.nearestDesc(i.target,!0);if(!u||!u.node.type.spec.draggable||u==o.docView)return;o.dispatch(o.state.tr.setSelection(a.NodeSelection.create(o.state.doc,u.posBefore)))}var d=o.state.selection.content(),p=serializeForClipboard(o,d),f=p.dom,m=p.text;i.dataTransfer.clearData(),i.dataTransfer.setData(Z?"Text":"text/html",f.innerHTML),Z||i.dataTransfer.setData("text/plain",m),o.dragging=new Y(d,!i[X])}},W.dragend=function(o){var i=o.dragging;window.setTimeout((function(){o.dragging==i&&(o.dragging=null)}),50)},H.dragover=H.dragenter=function(o,i){return i.preventDefault()},H.drop=function(o,i){var s=o.dragging;if(o.dragging=null,i.dataTransfer){var u=o.posAtCoords(eventCoords(i));if(u){var d=o.state.doc.resolve(u.pos);if(d){var p=s&&s.slice||parseFromClipboard(o,i.dataTransfer.getData(Z?"Text":"text/plain"),Z?null:i.dataTransfer.getData("text/html"),!1,d),f=s&&!i[X];if(o.someProp("handleDrop",(function(s){return s(o,i,p||l.Slice.empty,f)})))i.preventDefault();else if(p){i.preventDefault();var m=p?Object(c.g)(o.state.doc,d.pos,p):d.pos;null==m&&(m=d.pos);var g=o.state.tr;f&&g.deleteSelection();var v=g.mapping.map(m),y=0==p.openStart&&0==p.openEnd&&1==p.content.childCount,b=g.doc;if(y?g.replaceRangeWith(v,v,p.content.firstChild):g.replaceRange(v,v,p),!g.doc.eq(b)){var k=g.doc.resolve(v);if(y&&a.NodeSelection.isSelectable(p.content.firstChild)&&k.nodeAfter&&k.nodeAfter.sameMarkup(p.content.firstChild))g.setSelection(new a.NodeSelection(k));else{var w=g.mapping.map(m);g.mapping.maps[g.mapping.maps.length-1].forEach((function(o,i,s,a){return w=a})),g.setSelection(selectionBetween(o,k,g.doc.resolve(w)))}o.focus(),o.dispatch(g.setMeta("uiEvent","drop"))}}}}}},W.focus=function(o){o.focused||(o.domObserver.stop(),o.dom.classList.add("ProseMirror-focused"),o.domObserver.start(),o.focused=!0,setTimeout((function(){o.docView&&o.hasFocus()&&!o.domObserver.currentSelection.eq(o.root.getSelection())&&selectionToDOM(o)}),20))},W.blur=function(o){o.focused&&(o.domObserver.stop(),o.dom.classList.remove("ProseMirror-focused"),o.domObserver.start(),o.domObserver.currentSelection.set({}),o.focused=!1)},W.beforeinput=function(o,i){if(u.chrome&&u.android&&"deleteContentBackward"==i.inputType){var s=o.domChangeCount;setTimeout((function(){if(o.domChangeCount==s&&(o.dom.blur(),o.focus(),!o.someProp("handleKeyDown",(function(i){return i(o,keyEvent(8,"Backspace"))})))){var i=o.state.selection.$cursor;i&&i.pos>0&&o.dispatch(o.state.tr.delete(i.pos-1,i.pos).scrollIntoView())}}),50)}},H)W[Q]=H[Q];function compareObjs(o,i){if(o==i)return!0;for(var s in o)if(o[s]!==i[s])return!1;for(var a in i)if(!(a in o))return!1;return!0}var ee=function WidgetType(o,i){this.spec=i||ae,this.side=this.spec.side||0,this.toDOM=o};ee.prototype.map=function map(o,i,s,a){var l=o.mapResult(i.from+a,this.side<0?-1:1),c=l.pos;return l.deleted?null:new oe(c-s,c-s,this)},ee.prototype.valid=function valid(){return!0},ee.prototype.eq=function eq(o){return this==o||o instanceof ee&&(this.spec.key&&this.spec.key==o.spec.key||this.toDOM==o.toDOM&&compareObjs(this.spec,o.spec))};var te=function InlineType(o,i){this.spec=i||ae,this.attrs=o};te.prototype.map=function map(o,i,s,a){var l=o.map(i.from+a,this.spec.inclusiveStart?-1:1)-s,c=o.map(i.to+a,this.spec.inclusiveEnd?1:-1)-s;return l>=c?null:new oe(l,c,this)},te.prototype.valid=function valid(o,i){return i.from<i.to},te.prototype.eq=function eq(o){return this==o||o instanceof te&&compareObjs(this.attrs,o.attrs)&&compareObjs(this.spec,o.spec)},te.is=function is(o){return o.type instanceof te};var ne=function NodeType(o,i){this.spec=i||ae,this.attrs=o};ne.prototype.map=function map(o,i,s,a){var l=o.mapResult(i.from+a,1);if(l.deleted)return null;var c=o.mapResult(i.to+a,-1);return c.deleted||c.pos<=l.pos?null:new oe(l.pos-s,c.pos-s,this)},ne.prototype.valid=function valid(o,i){var s=o.content.findIndex(i.from),a=s.index,l=s.offset;return l==i.from&&l+o.child(a).nodeSize==i.to},ne.prototype.eq=function eq(o){return this==o||o instanceof ne&&compareObjs(this.attrs,o.attrs)&&compareObjs(this.spec,o.spec)};var oe=function Decoration(o,i,s){this.from=o,this.to=i,this.type=s},ie={spec:{configurable:!0},inline:{configurable:!0}};oe.prototype.copy=function copy(o,i){return new oe(o,i,this.type)},oe.prototype.eq=function eq(o,i){return void 0===i&&(i=0),this.type.eq(o.type)&&this.from+i==o.from&&this.to+i==o.to},oe.prototype.map=function map(o,i,s){return this.type.map(o,this,i,s)},oe.widget=function widget(o,i,s){return new oe(o,o,new ee(i,s))},oe.inline=function inline(o,i,s,a){return new oe(o,i,new te(s,a))},oe.node=function node(o,i,s,a){return new oe(o,i,new ne(s,a))},ie.spec.get=function(){return this.type.spec},ie.inline.get=function(){return this.type instanceof te},Object.defineProperties(oe.prototype,ie);var se=[],ae={},le=function DecorationSet(o,i){this.local=o&&o.length?o:se,this.children=i&&i.length?i:se};le.create=function create(o,i){return i.length?buildTree(i,o,0,ae):ce},le.prototype.find=function find(o,i,s){var a=[];return this.findInner(null==o?0:o,null==i?1e9:i,a,0,s),a},le.prototype.findInner=function findInner(o,i,s,a,l){for(var c=0;c<this.local.length;c++){var u=this.local[c];u.from<=i&&u.to>=o&&(!l||l(u.spec))&&s.push(u.copy(u.from+a,u.to+a))}for(var d=0;d<this.children.length;d+=3)if(this.children[d]<i&&this.children[d+1]>o){var p=this.children[d]+1;this.children[d+2].findInner(o-p,i-p,s,a+p,l)}},le.prototype.map=function map(o,i,s){return this==ce||0==o.maps.length?this:this.mapInner(o,i,0,0,s||ae)},le.prototype.mapInner=function mapInner(o,i,s,a,l){for(var c,u=0;u<this.local.length;u++){var d=this.local[u].map(o,s,a);d&&d.type.valid(i,d)?(c||(c=[])).push(d):l.onRemove&&l.onRemove(this.local[u].spec)}return this.children.length?function mapChildren(o,i,s,a,l,c,u){for(var d=o.slice(),shift=function(o,i,s,a){for(var u=0;u<d.length;u+=3){var p=d[u+1],f=void 0;-1==p||o>p+c||(i>=d[u]+c?d[u+1]=-1:s>=l&&(f=a-s-(i-o))&&(d[u]+=f,d[u+1]+=f))}},p=0;p<s.maps.length;p++)s.maps[p].forEach(shift);for(var f=!1,m=0;m<d.length;m+=3)if(-1==d[m+1]){var g=s.map(o[m]+c),v=g-l;if(v<0||v>=a.content.size){f=!0;continue}var y=s.map(o[m+1]+c,-1)-l,b=a.content.findIndex(v),k=b.index,w=b.offset,S=a.maybeChild(k);if(S&&w==v&&w+S.nodeSize==y){var x=d[m+2].mapInner(s,S,g+1,o[m]+c+1,u);x!=ce?(d[m]=v,d[m+1]=y,d[m+2]=x):(d[m+1]=-2,f=!0)}else f=!0}if(f){var C=buildTree(function mapAndGatherRemainingDecorations(o,i,s,a,l,c,u){function gather(o,i){for(var c=0;c<o.local.length;c++){var d=o.local[c].map(a,l,i);d?s.push(d):u.onRemove&&u.onRemove(o.local[c].spec)}for(var p=0;p<o.children.length;p+=3)gather(o.children[p+2],o.children[p]+i+1)}for(var d=0;d<o.length;d+=3)-1==o[d+1]&&gather(o[d+2],i[d]+c+1);return s}(d,o,i||[],s,l,c,u),a,0,u);i=C.local;for(var _=0;_<d.length;_+=3)d[_+1]<0&&(d.splice(_,3),_-=3);for(var O=0,M=0;O<C.children.length;O+=3){for(var A=C.children[O];M<d.length&&d[M]<A;)M+=3;d.splice(M,0,C.children[O],C.children[O+1],C.children[O+2])}}return new le(i&&i.sort(byPos),d)}(this.children,c,o,i,s,a,l):c?new le(c.sort(byPos)):ce},le.prototype.add=function add(o,i){return i.length?this==ce?le.create(o,i):this.addInner(o,i,0):this},le.prototype.addInner=function addInner(o,i,s){var a,l=this,c=0;o.forEach((function(o,u){var d,p=u+s;if(d=takeSpansForNode(i,o,p)){for(a||(a=l.children.slice());c<a.length&&a[c]<u;)c+=3;a[c]==u?a[c+2]=a[c+2].addInner(o,d,p+1):a.splice(c,0,u,u+o.nodeSize,buildTree(d,o,p+1,ae)),c+=3}}));for(var u=moveSpans(c?withoutNulls(i):i,-s),d=0;d<u.length;d++)u[d].type.valid(o,u[d])||u.splice(d--,1);return new le(u.length?this.local.concat(u).sort(byPos):this.local,a||this.children)},le.prototype.remove=function remove(o){return 0==o.length||this==ce?this:this.removeInner(o,0)},le.prototype.removeInner=function removeInner(o,i){for(var s=this.children,a=this.local,l=0;l<s.length;l+=3){for(var c=void 0,u=s[l]+i,d=s[l+1]+i,p=0,f=void 0;p<o.length;p++)(f=o[p])&&f.from>u&&f.to<d&&(o[p]=null,(c||(c=[])).push(f));if(c){s==this.children&&(s=this.children.slice());var m=s[l+2].removeInner(c,u+1);m!=ce?s[l+2]=m:(s.splice(l,3),l-=3)}}if(a.length)for(var g=0,v=void 0;g<o.length;g++)if(v=o[g])for(var y=0;y<a.length;y++)a[y].eq(v,i)&&(a==this.local&&(a=this.local.slice()),a.splice(y--,1));return s==this.children&&a==this.local?this:a.length||s.length?new le(a,s):ce},le.prototype.forChild=function forChild(o,i){if(this==ce)return this;if(i.isLeaf)return le.empty;for(var s,a,l=0;l<this.children.length;l+=3)if(this.children[l]>=o){this.children[l]==o&&(s=this.children[l+2]);break}for(var c=o+1,u=c+i.content.size,d=0;d<this.local.length;d++){var p=this.local[d];if(p.from<u&&p.to>c&&p.type instanceof te){var f=Math.max(c,p.from)-c,m=Math.min(u,p.to)-c;f<m&&(a||(a=[])).push(p.copy(f,m))}}if(a){var g=new le(a.sort(byPos));return s?new ue([g,s]):g}return s||ce},le.prototype.eq=function eq(o){if(this==o)return!0;if(!(o instanceof le)||this.local.length!=o.local.length||this.children.length!=o.children.length)return!1;for(var i=0;i<this.local.length;i++)if(!this.local[i].eq(o.local[i]))return!1;for(var s=0;s<this.children.length;s+=3)if(this.children[s]!=o.children[s]||this.children[s+1]!=o.children[s+1]||!this.children[s+2].eq(o.children[s+2]))return!1;return!0},le.prototype.locals=function locals(o){return removeOverlap(this.localsInner(o))},le.prototype.localsInner=function localsInner(o){if(this==ce)return se;if(o.inlineContent||!this.local.some(te.is))return this.local;for(var i=[],s=0;s<this.local.length;s++)this.local[s].type instanceof te||i.push(this.local[s]);return i};var ce=new le;le.empty=ce,le.removeOverlap=removeOverlap;var ue=function DecorationGroup(o){this.members=o};function moveSpans(o,i){if(!i||!o.length)return o;for(var s=[],a=0;a<o.length;a++){var l=o[a];s.push(new oe(l.from+i,l.to+i,l.type))}return s}function takeSpansForNode(o,i,s){if(i.isLeaf)return null;for(var a=s+i.nodeSize,l=null,c=0,u=void 0;c<o.length;c++)(u=o[c])&&u.from>s&&u.to<a&&((l||(l=[])).push(u),o[c]=null);return l}function withoutNulls(o){for(var i=[],s=0;s<o.length;s++)null!=o[s]&&i.push(o[s]);return i}function buildTree(o,i,s,a){var l=[],c=!1;i.forEach((function(i,u){var d=takeSpansForNode(o,i,u+s);if(d){c=!0;var p=buildTree(d,i,s+u+1,a);p!=ce&&l.push(u,u+i.nodeSize,p)}}));for(var u=moveSpans(c?withoutNulls(o):o,-s).sort(byPos),d=0;d<u.length;d++)u[d].type.valid(i,u[d])||(a.onRemove&&a.onRemove(u[d].spec),u.splice(d--,1));return u.length||l.length?new le(u,l):ce}function byPos(o,i){return o.from-i.from||o.to-i.to}function removeOverlap(o){for(var i=o,s=0;s<i.length-1;s++){var a=i[s];if(a.from!=a.to)for(var l=s+1;l<i.length;l++){var c=i[l];if(c.from!=a.from){c.from<a.to&&(i==o&&(i=o.slice()),i[s]=a.copy(a.from,c.from),insertAhead(i,l,a.copy(c.from,a.to)));break}c.to!=a.to&&(i==o&&(i=o.slice()),i[l]=c.copy(c.from,a.to),insertAhead(i,l+1,c.copy(a.to,c.to)))}}return i}function insertAhead(o,i,s){for(;i<o.length&&byPos(s,o[i])>0;)i++;o.splice(i,0,s)}function viewDecorations(o){var i=[];return o.someProp("decorations",(function(s){var a=s(o.state);a&&a!=ce&&i.push(a)})),o.cursorWrapper&&i.push(le.create(o.state.doc,[o.cursorWrapper.deco])),ue.from(i)}ue.prototype.forChild=function forChild(o,i){if(i.isLeaf)return le.empty;for(var s=[],a=0;a<this.members.length;a++){var l=this.members[a].forChild(o,i);l!=ce&&(l instanceof ue?s=s.concat(l.members):s.push(l))}return ue.from(s)},ue.prototype.eq=function eq(o){if(!(o instanceof ue)||o.members.length!=this.members.length)return!1;for(var i=0;i<this.members.length;i++)if(!this.members[i].eq(o.members[i]))return!1;return!0},ue.prototype.locals=function locals(o){for(var i,s=!0,a=0;a<this.members.length;a++){var locals=this.members[a].localsInner(o);if(locals.length)if(i){s&&(i=i.slice(),s=!1);for(var l=0;l<locals.length;l++)i.push(locals[l])}else i=locals}return i?removeOverlap(s?i:i.sort(byPos)):se},ue.from=function from(o){switch(o.length){case 0:return ce;case 1:return o[0];default:return new ue(o)}};var de=function EditorView(o,i){this._props=i,this.state=i.state,this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.trackWrites=null,this.dom=o&&o.mount||document.createElement("div"),o&&(o.appendChild?o.appendChild(this.dom):o.apply?o(this.dom):o.mount&&(this.mounted=!0)),this.editable=getEditable(this),this.markCursor=null,this.cursorWrapper=null,updateCursorWrapper(this),this.nodeViews=buildNodeViews(this),this.docView=docViewDesc(this.state.doc,computeDocDeco(this),viewDecorations(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,function initInput(o){o.shiftKey=!1,o.mouseDown=null,o.lastKeyCode=null,o.lastKeyCodeTime=0,o.lastClick={time:0,x:0,y:0,type:""},o.lastSelectionOrigin=null,o.lastSelectionTime=0,o.lastIOSEnter=0,o.lastIOSEnterFallbackTimeout=null,o.composing=!1,o.composingTimeout=null,o.compositionNodes=[],o.compositionEndedAt=-2e8,o.domObserver=new V(o,(function(i,s,a,l){return readDOMChange(o,i,s,a,l)})),o.domObserver.start(),o.domChangeCount=0,o.eventHandlers=Object.create(null);var loop=function(i){var s=W[i];o.dom.addEventListener(i,o.eventHandlers[i]=function(i){!function eventBelongsToView(o,i){if(!i.bubbles)return!0;if(i.defaultPrevented)return!1;for(var s=i.target;s!=o.dom;s=s.parentNode)if(!s||11==s.nodeType||s.pmViewDesc&&s.pmViewDesc.stopEvent(i))return!1;return!0}(o,i)||runCustomHandler(o,i)||!o.editable&&i.type in H||s(o,i)})};for(var i in W)loop(i);u.safari&&o.dom.addEventListener("input",(function(){return null})),ensureListeners(o)}(this),this.pluginViews=[],this.updatePluginViews()},pe={props:{configurable:!0},root:{configurable:!0}};function computeDocDeco(o){var i=Object.create(null);return i.class="ProseMirror",i.contenteditable=String(o.editable),o.someProp("attributes",(function(s){if("function"==typeof s&&(s=s(o.state)),s)for(var a in s)"class"==a?i.class+=" "+s[a]:i[a]||"contenteditable"==a||"nodeName"==a||(i[a]=String(s[a]))})),[oe.node(0,o.state.doc.content.size,i)]}function updateCursorWrapper(o){if(o.markCursor){var i=document.createElement("img");i.setAttribute("mark-placeholder","true"),o.cursorWrapper={dom:i,deco:oe.widget(o.state.selection.head,i,{raw:!0,marks:o.markCursor})}}else o.cursorWrapper=null}function getEditable(o){return!o.someProp("editable",(function(i){return!1===i(o.state)}))}function buildNodeViews(o){var i={};return o.someProp("nodeViews",(function(o){for(var s in o)Object.prototype.hasOwnProperty.call(i,s)||(i[s]=o[s])})),i}pe.props.get=function(){if(this._props.state!=this.state){var o=this._props;for(var i in this._props={},o)this._props[i]=o[i];this._props.state=this.state}return this._props},de.prototype.update=function update(o){o.handleDOMEvents!=this._props.handleDOMEvents&&ensureListeners(this),this._props=o,this.updateStateInner(o.state,!0)},de.prototype.setProps=function setProps(o){var i={};for(var s in this._props)i[s]=this._props[s];for(var a in i.state=this.state,o)i[a]=o[a];this.update(i)},de.prototype.updateState=function updateState(o){this.updateStateInner(o,this.state.plugins!=o.plugins)},de.prototype.updateStateInner=function updateStateInner(o,i){var s=this,l=this.state,c=!1,d=!1;if(o.storedMarks&&this.composing&&(clearComposition(this),d=!0),this.state=o,i){var p=buildNodeViews(this);(function changedNodeViews(o,i){var s=0,a=0;for(var l in o){if(o[l]!=i[l])return!0;s++}for(var c in i)a++;return s!=a})(p,this.nodeViews)&&(this.nodeViews=p,c=!0),ensureListeners(this)}this.editable=getEditable(this),updateCursorWrapper(this);var f=viewDecorations(this),m=computeDocDeco(this),g=i?"reset":o.scrollToSelection>l.scrollToSelection?"to selection":"preserve",v=c||!this.docView.matchesNode(o.doc,m,f);!v&&o.selection.eq(l.selection)||(d=!0);var y="preserve"==g&&d&&null==this.dom.style.overflowAnchor&&function storeScrollPos(o){for(var i,s,a=o.dom.getBoundingClientRect(),l=Math.max(0,a.top),c=(a.left+a.right)/2,u=l+1;u<Math.min(innerHeight,a.bottom);u+=5){var d=o.root.elementFromPoint(c,u);if(d!=o.dom&&o.dom.contains(d)){var p=d.getBoundingClientRect();if(p.top>=l-20){i=d,s=p.top;break}}}return{refDOM:i,refTop:s,stack:scrollStack(o.dom)}}(this);if(d){this.domObserver.stop();var b=v&&(u.ie||u.chrome)&&!this.composing&&!l.selection.empty&&!o.selection.empty&&function selectionContextChanged(o,i){var s=Math.min(o.$anchor.sharedDepth(o.head),i.$anchor.sharedDepth(i.head));return o.$anchor.start(s)!=i.$anchor.start(s)}(l.selection,o.selection);if(v){var k=u.chrome?this.trackWrites=this.root.getSelection().focusNode:null;!c&&this.docView.update(o.doc,m,f,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=docViewDesc(o.doc,m,f,this.dom,this)),k&&!this.trackWrites&&(b=!0)}b||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&function anchorInRightPlace(o){var i=o.docView.domFromPos(o.state.selection.anchor,0),s=o.root.getSelection();return isEquivalentPosition(i.node,i.offset,s.anchorNode,s.anchorOffset)}(this))?selectionToDOM(this,b):(syncNodeSelection(this,o.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(l),"reset"==g)this.dom.scrollTop=0;else if("to selection"==g){var w=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",(function(o){return o(s)}))||(o.selection instanceof a.NodeSelection?scrollRectIntoView(this,this.docView.domAfterPos(o.selection.from).getBoundingClientRect(),w):scrollRectIntoView(this,this.coordsAtPos(o.selection.head,1),w))}else y&&function resetScrollPos(o){var i=o.refDOM,s=o.refTop,a=o.stack,l=i?i.getBoundingClientRect().top:0;restoreScrollStack(a,0==l?0:l-s)}(y)},de.prototype.destroyPluginViews=function destroyPluginViews(){for(var o;o=this.pluginViews.pop();)o.destroy&&o.destroy()},de.prototype.updatePluginViews=function updatePluginViews(o){if(o&&o.plugins==this.state.plugins)for(var i=0;i<this.pluginViews.length;i++){var s=this.pluginViews[i];s.update&&s.update(this,o)}else{this.destroyPluginViews();for(var a=0;a<this.state.plugins.length;a++){var l=this.state.plugins[a];l.spec.view&&this.pluginViews.push(l.spec.view(this))}}},de.prototype.someProp=function someProp(o,i){var s,a=this._props&&this._props[o];if(null!=a&&(s=i?i(a):a))return s;var l=this.state.plugins;if(l)for(var c=0;c<l.length;c++){var u=l[c].props[o];if(null!=u&&(s=i?i(u):u))return s}},de.prototype.hasFocus=function hasFocus(){return this.root.activeElement==this.dom},de.prototype.focus=function focus(){this.domObserver.stop(),this.editable&&function focusPreventScroll(o){if(o.setActive)return o.setActive();if(b)return o.focus(b);var i=scrollStack(o);o.focus(null==b?{get preventScroll(){return b={preventScroll:!0},!0}}:void 0),b||(b=!1,restoreScrollStack(i,0))}(this.dom),selectionToDOM(this),this.domObserver.start()},pe.root.get=function(){var o=this._root;if(null==o)for(var i=this.dom.parentNode;i;i=i.parentNode)if(9==i.nodeType||11==i.nodeType&&i.host)return i.getSelection||(Object.getPrototypeOf(i).getSelection=function(){return document.getSelection()}),this._root=i;return o||document},de.prototype.posAtCoords=function posAtCoords$1(o){return posAtCoords(this,o)},de.prototype.coordsAtPos=function coordsAtPos$1(o,i){return void 0===i&&(i=1),coordsAtPos(this,o,i)},de.prototype.domAtPos=function domAtPos(o,i){return void 0===i&&(i=0),this.docView.domFromPos(o,i)},de.prototype.nodeDOM=function nodeDOM(o){var i=this.docView.descAt(o);return i?i.nodeDOM:null},de.prototype.posAtDOM=function posAtDOM(o,i,s){void 0===s&&(s=-1);var a=this.docView.posFromDOM(o,i,s);if(null==a)throw new RangeError("DOM position not inside the editor");return a},de.prototype.endOfTextblock=function endOfTextblock$1(o,i){return endOfTextblock(this,i||this.state,o)},de.prototype.destroy=function destroy(){this.docView&&(!function destroyInput(o){for(var i in o.domObserver.stop(),o.eventHandlers)o.dom.removeEventListener(i,o.eventHandlers[i]);clearTimeout(o.composingTimeout),clearTimeout(o.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],viewDecorations(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)},de.prototype.dispatchEvent=function dispatchEvent$1(o){return function dispatchEvent(o,i){runCustomHandler(o,i)||!W[i.type]||!o.editable&&i.type in H||W[i.type](o,i)}(this,o)},de.prototype.dispatch=function dispatch(o){var i=this._props.dispatchTransaction;i?i.call(this,o):this.updateState(this.state.apply(o))},Object.defineProperties(de.prototype,pe)},VInb:function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=s("tsqv"),c=a(s("K0ly"));i.default=function tableColMenuItems(o,i,s,a){const{schema:u}=o;return[{name:"setColumnAttr",tooltip:a.alignLeft,icon:l.AlignLeftIcon,attrs:{index:i,alignment:"left"},active:c.default(u.nodes.th,{colspan:1,rowspan:1,alignment:"left"})},{name:"setColumnAttr",tooltip:a.alignCenter,icon:l.AlignCenterIcon,attrs:{index:i,alignment:"center"},active:c.default(u.nodes.th,{colspan:1,rowspan:1,alignment:"center"})},{name:"setColumnAttr",tooltip:a.alignRight,icon:l.AlignRightIcon,attrs:{index:i,alignment:"right"},active:c.default(u.nodes.th,{colspan:1,rowspan:1,alignment:"right"})},{name:"separator"},{name:s?"addColumnAfter":"addColumnBefore",tooltip:s?a.addColumnAfter:a.addColumnBefore,icon:l.InsertLeftIcon,active:()=>!1},{name:s?"addColumnBefore":"addColumnAfter",tooltip:s?a.addColumnBefore:a.addColumnAfter,icon:l.InsertRightIcon,active:()=>!1},{name:"separator"},{name:"deleteColumn",tooltip:a.deleteColumn,icon:l.TrashIcon,active:()=>!1}]}},VUPH:function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=a(s("S5OW")),c=s("V2qZ"),u=s("Vb5C"),d=s("mG1W"),p=s("UxO+");class Table extends l.default{get name(){return"table"}get schema(){return{content:"tr+",tableRole:"table",isolating:!0,group:"block",parseDOM:[{tag:"table"}],toDOM:()=>["div",{class:"scrollable-wrapper"},["div",{class:"scrollable"},["table",{class:"rme-table"},["tbody",0]]]]}}commands({schema:o}){return{createTable:({rowsCount:i,colsCount:s})=>(a,l)=>{const c=a.tr.selection.anchor+1,u=d.createTable(o,i,s),f=a.tr.replaceSelectionWith(u).scrollIntoView(),m=f.doc.resolve(c);f.setSelection(p.TextSelection.near(m)),l(f)},setColumnAttr:({index:o,alignment:i})=>(s,a)=>{const l=d.getCellsInColumn(o)(s.selection)||[];let c=s.tr;l.forEach((({pos:o})=>{c=c.setNodeMarkup(o,null,{alignment:i})})),a(c)},addColumnBefore:()=>u.addColumnBefore,addColumnAfter:()=>u.addColumnAfter,deleteColumn:()=>u.deleteColumn,addRowAfter:({index:o})=>(i,s)=>{if(0===o){const a=d.addRowAt(o+2,!0)(i.tr);s(d.moveRow(o+2,o+1)(a))}else s(d.addRowAt(o+1,!0)(i.tr))},deleteRow:()=>u.deleteRow,deleteTable:()=>u.deleteTable,toggleHeaderColumn:()=>u.toggleHeaderColumn,toggleHeaderRow:()=>u.toggleHeaderRow,toggleHeaderCell:()=>u.toggleHeaderCell,setCellAttr:()=>u.setCellAttr,fixTables:()=>u.fixTables}}keys(){return{Tab:u.goToNextCell(1),"Shift-Tab":u.goToNextCell(-1),Enter:(o,i)=>{if(!u.isInTable(o))return!1;const s=d.getCellsInColumn(0)(o.selection)||[];return i(d.addRowAt(s.length,!0)(o.tr)),!0}}}toMarkdown(o,i){o.renderTable(i),o.closeBlock(i)}parseMarkdown(){return{block:"table"}}get plugins(){return[u.tableEditing(),new p.Plugin({props:{decorations:o=>{const{doc:i}=o,s=[];let a=0;return i.descendants(((o,i)=>{if(o.type.name!==this.name)return;const l=document.getElementsByClassName("rme-table")[a];if(!l)return;const u=l.parentElement;!!(u&&u.scrollWidth>u.clientWidth)&&s.push(c.Decoration.widget(i+1,(()=>{const o=document.createElement("div");return o.className="scrollable-shadow right",o}))),a++})),c.DecorationSet.create(i,s)}}})]}}i.default=Table},Vb5C:function(o,i,s){"use strict";s.r(i),s.d(i,"CellSelection",(function(){return w})),s.d(i,"TableMap",(function(){return b})),s.d(i,"TableView",(function(){return A})),s.d(i,"__clipCells",(function(){return clipCells})),s.d(i,"__insertCells",(function(){return insertCells})),s.d(i,"__pastedCells",(function(){return pastedCells})),s.d(i,"addColSpan",(function(){return addColSpan})),s.d(i,"addColumn",(function(){return addColumn})),s.d(i,"addColumnAfter",(function(){return addColumnAfter})),s.d(i,"addColumnBefore",(function(){return addColumnBefore})),s.d(i,"addRow",(function(){return addRow})),s.d(i,"addRowAfter",(function(){return addRowAfter})),s.d(i,"addRowBefore",(function(){return addRowBefore})),s.d(i,"cellAround",(function(){return cellAround})),s.d(i,"colCount",(function(){return colCount})),s.d(i,"columnIsHeader",(function(){return columnIsHeader})),s.d(i,"columnResizing",(function(){return columnResizing})),s.d(i,"columnResizingPluginKey",(function(){return E})),s.d(i,"deleteColumn",(function(){return deleteColumn})),s.d(i,"deleteRow",(function(){return deleteRow})),s.d(i,"deleteTable",(function(){return deleteTable})),s.d(i,"findCell",(function(){return findCell})),s.d(i,"fixTables",(function(){return fixTables})),s.d(i,"fixTablesKey",(function(){return C})),s.d(i,"goToNextCell",(function(){return goToNextCell})),s.d(i,"handlePaste",(function(){return handlePaste})),s.d(i,"inSameTable",(function(){return inSameTable})),s.d(i,"isInTable",(function(){return isInTable})),s.d(i,"mergeCells",(function(){return mergeCells})),s.d(i,"moveCellForward",(function(){return moveCellForward})),s.d(i,"nextCell",(function(){return nextCell})),s.d(i,"pointsAtCell",(function(){return pointsAtCell})),s.d(i,"removeColSpan",(function(){return removeColSpan})),s.d(i,"removeColumn",(function(){return removeColumn})),s.d(i,"removeRow",(function(){return removeRow})),s.d(i,"rowIsHeader",(function(){return rowIsHeader})),s.d(i,"selectedRect",(function(){return selectedRect})),s.d(i,"selectionCell",(function(){return selectionCell})),s.d(i,"setAttr",(function(){return setAttr})),s.d(i,"setCellAttr",(function(){return setCellAttr})),s.d(i,"splitCell",(function(){return splitCell})),s.d(i,"splitCellWithType",(function(){return splitCellWithType})),s.d(i,"tableEditing",(function(){return tableEditing})),s.d(i,"tableEditingKey",(function(){return k})),s.d(i,"tableNodeTypes",(function(){return tableNodeTypes})),s.d(i,"tableNodes",(function(){return tableNodes})),s.d(i,"toggleHeader",(function(){return toggleHeader})),s.d(i,"toggleHeaderCell",(function(){return M})),s.d(i,"toggleHeaderColumn",(function(){return O})),s.d(i,"toggleHeaderRow",(function(){return _})),s.d(i,"updateColumnsOnResize",(function(){return updateColumns}));var a,l,c=s("UxO+"),u=s("MEpN"),d=s("fwbU"),p=s("V2qZ"),f=s("CsC6");if("undefined"!=typeof WeakMap){var m=new WeakMap;a=function(o){return m.get(o)},l=function(o,i){return m.set(o,i),i}}else{var g=[],v=0;a=function(o){for(var i=0;i<g.length;i+=2)if(g[i]==o)return g[i+1]},l=function(o,i){return 10==v&&(v=0),g[v++]=o,g[v++]=i}}var y=function Rect(o,i,s,a){this.left=o,this.top=i,this.right=s,this.bottom=a},b=function TableMap(o,i,s,a){this.width=o,this.height=i,this.map=s,this.problems=a};function freshColWidth(o){if(o.colwidth)return o.colwidth.slice();for(var i=[],s=0;s<o.colspan;s++)i.push(0);return i}function getCellAttrs(o,i){var s=o.getAttribute("data-colwidth"),a=s&&/^\d+(,\d+)*$/.test(s)?s.split(",").map((function(o){return Number(o)})):null,l=Number(o.getAttribute("colspan")||1),c={colspan:l,rowspan:Number(o.getAttribute("rowspan")||1),colwidth:a&&a.length==l?a:null};for(var u in i){var d=i[u].getFromDOM,p=d&&d(o);null!=p&&(c[u]=p)}return c}function setCellAttrs(o,i){var s={};for(var a in 1!=o.attrs.colspan&&(s.colspan=o.attrs.colspan),1!=o.attrs.rowspan&&(s.rowspan=o.attrs.rowspan),o.attrs.colwidth&&(s["data-colwidth"]=o.attrs.colwidth.join(",")),i){var l=i[a].setDOMAttr;l&&l(o.attrs[a],s)}return s}function tableNodes(o){var i=o.cellAttributes||{},s={colspan:{default:1},rowspan:{default:1},colwidth:{default:null}};for(var a in i)s[a]={default:i[a].default};return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:o.tableGroup,parseDOM:[{tag:"table"}],toDOM:function toDOM(){return["table",["tbody",0]]}},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM:function toDOM(){return["tr",0]}},table_cell:{content:o.cellContent,attrs:s,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:function(o){return getCellAttrs(o,i)}}],toDOM:function toDOM(o){return["td",setCellAttrs(o,i),0]}},table_header:{content:o.cellContent,attrs:s,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:function(o){return getCellAttrs(o,i)}}],toDOM:function toDOM(o){return["th",setCellAttrs(o,i),0]}}}}function tableNodeTypes(o){var i=o.cached.tableNodeTypes;if(!i)for(var s in i=o.cached.tableNodeTypes={},o.nodes){var a=o.nodes[s],l=a.spec.tableRole;l&&(i[l]=a)}return i}b.prototype.findCell=function findCell(o){for(var i=0;i<this.map.length;i++){var s=this.map[i];if(s==o){for(var a=i%this.width,l=i/this.width|0,c=a+1,u=l+1,d=1;c<this.width&&this.map[i+d]==s;d++)c++;for(var p=1;u<this.height&&this.map[i+this.width*p]==s;p++)u++;return new y(a,l,c,u)}}throw new RangeError("No cell with offset "+o+" found")},b.prototype.colCount=function colCount(o){for(var i=0;i<this.map.length;i++)if(this.map[i]==o)return i%this.width;throw new RangeError("No cell with offset "+o+" found")},b.prototype.nextCell=function nextCell(o,i,s){var a=this.findCell(o),l=a.left,c=a.right,u=a.top,d=a.bottom;return"horiz"==i?(s<0?0==l:c==this.width)?null:this.map[u*this.width+(s<0?l-1:c)]:(s<0?0==u:d==this.height)?null:this.map[l+this.width*(s<0?u-1:d)]},b.prototype.rectBetween=function rectBetween(o,i){var s=this.findCell(o),a=s.left,l=s.right,c=s.top,u=s.bottom,d=this.findCell(i),p=d.left,f=d.right,m=d.top,g=d.bottom;return new y(Math.min(a,p),Math.min(c,m),Math.max(l,f),Math.max(u,g))},b.prototype.cellsInRect=function cellsInRect(o){for(var i=[],s={},a=o.top;a<o.bottom;a++)for(var l=o.left;l<o.right;l++){var c=a*this.width+l,u=this.map[c];s[u]||(s[u]=!0,l==o.left&&l&&this.map[c-1]==u||a==o.top&&a&&this.map[c-this.width]==u||i.push(u))}return i},b.prototype.positionAt=function positionAt(o,i,s){for(var a=0,l=0;;a++){var c=l+s.child(a).nodeSize;if(a==o){for(var u=i+o*this.width,d=(o+1)*this.width;u<d&&this.map[u]<l;)u++;return u==d?c-1:this.map[u]}l=c}},b.get=function get(o){return a(o)||l(o,function computeMap(o){if("table"!=o.type.spec.tableRole)throw new RangeError("Not a table node: "+o.type.name);for(var i=function findWidth(o){for(var i=-1,s=!1,a=0;a<o.childCount;a++){var l=o.child(a),c=0;if(s)for(var u=0;u<a;u++)for(var d=o.child(u),p=0;p<d.childCount;p++){var f=d.child(p);u+f.attrs.rowspan>a&&(c+=f.attrs.colspan)}for(var m=0;m<l.childCount;m++){var g=l.child(m);c+=g.attrs.colspan,g.attrs.rowspan>1&&(s=!0)}-1==i?i=c:i!=c&&(i=Math.max(i,c))}return i}(o),s=o.childCount,a=[],l=0,c=null,u=[],d=0,p=i*s;d<p;d++)a[d]=0;for(var f=0,m=0;f<s;f++){var g=o.child(f);m++;for(var v=0;;v++){for(;l<a.length&&0!=a[l];)l++;if(v==g.childCount)break;for(var y=g.child(v),k=y.attrs,w=k.colspan,S=k.rowspan,x=k.colwidth,C=0;C<S;C++){if(C+f>=s){(c||(c=[])).push({type:"overlong_rowspan",pos:m,n:S-C});break}for(var _=l+C*i,O=0;O<w;O++){0==a[_+O]?a[_+O]=m:(c||(c=[])).push({type:"collision",row:f,pos:m,n:w-O});var M=x&&x[O];if(M){var A=(_+O)%i*2,E=u[A];null==E||E!=M&&1==u[A+1]?(u[A]=M,u[A+1]=1):E==M&&u[A+1]++}}}l+=w,m+=y.nodeSize}for(var T=(f+1)*i,D=0;l<T;)0==a[l++]&&D++;D&&(c||(c=[])).push({type:"missing",row:f,n:D}),m++}for(var I=new b(i,s,a,c),N=!1,R=0;!N&&R<u.length;R+=2)null!=u[R]&&u[R+1]<s&&(N=!0);N&&function findBadColWidths(o,i,s){o.problems||(o.problems=[]);for(var a=0,l={};a<o.map.length;a++){var c=o.map[a];if(!l[c]){l[c]=!0;for(var u=s.nodeAt(c),d=null,p=0;p<u.attrs.colspan;p++){var f=i[2*((a+p)%o.width)];null==f||u.attrs.colwidth&&u.attrs.colwidth[p]==f||((d||(d=freshColWidth(u.attrs)))[p]=f)}d&&o.problems.unshift({type:"colwidth mismatch",pos:c,colwidth:d})}}}(I,u,o);return I}(o))};var k=new c.PluginKey("selectingCells");function cellAround(o){for(var i=o.depth-1;i>0;i--)if("row"==o.node(i).type.spec.tableRole)return o.node(0).resolve(o.before(i+1));return null}function isInTable(o){for(var i=o.selection.$head,s=i.depth;s>0;s--)if("row"==i.node(s).type.spec.tableRole)return!0;return!1}function selectionCell(o){var i=o.selection;return i.$anchorCell?i.$anchorCell.pos>i.$headCell.pos?i.$anchorCell:i.$headCell:i.node&&"cell"==i.node.type.spec.tableRole?i.$anchor:cellAround(i.$head)||function cellNear(o){for(var i=o.nodeAfter,s=o.pos;i;i=i.firstChild,s++){var a=i.type.spec.tableRole;if("cell"==a||"header_cell"==a)return o.doc.resolve(s)}for(var l=o.nodeBefore,c=o.pos;l;l=l.lastChild,c--){var u=l.type.spec.tableRole;if("cell"==u||"header_cell"==u)return o.doc.resolve(c-l.nodeSize)}}(i.$head)}function pointsAtCell(o){return"row"==o.parent.type.spec.tableRole&&o.nodeAfter}function moveCellForward(o){return o.node(0).resolve(o.pos+o.nodeAfter.nodeSize)}function inSameTable(o,i){return o.depth==i.depth&&o.pos>=i.start(-1)&&o.pos<=i.end(-1)}function findCell(o){return b.get(o.node(-1)).findCell(o.pos-o.start(-1))}function colCount(o){return b.get(o.node(-1)).colCount(o.pos-o.start(-1))}function nextCell(o,i,s){var a=o.start(-1),l=b.get(o.node(-1)).nextCell(o.pos-a,i,s);return null==l?null:o.node(0).resolve(a+l)}function setAttr(o,i,s){var a={};for(var l in o)a[l]=o[l];return a[i]=s,a}function removeColSpan(o,i,s){void 0===s&&(s=1);var a=setAttr(o,"colspan",o.colspan-s);return a.colwidth&&(a.colwidth=a.colwidth.slice(),a.colwidth.splice(i,s),a.colwidth.some((function(o){return o>0}))||(a.colwidth=null)),a}function addColSpan(o,i,s){void 0===s&&(s=1);var a=setAttr(o,"colspan",o.colspan+s);if(a.colwidth){a.colwidth=a.colwidth.slice();for(var l=0;l<s;l++)a.colwidth.splice(i,0,0)}return a}function columnIsHeader(o,i,s){for(var a=tableNodeTypes(i.type.schema).header_cell,l=0;l<o.height;l++)if(i.nodeAt(o.map[s+l*o.width]).type!=a)return!1;return!0}var w=function(o){function CellSelection(i,s){void 0===s&&(s=i);var a=i.node(-1),l=b.get(a),u=i.start(-1),d=l.rectBetween(i.pos-u,s.pos-u),p=i.node(0),f=l.cellsInRect(d).filter((function(o){return o!=s.pos-u}));f.unshift(s.pos-u);var m=f.map((function(o){var i=a.nodeAt(o),s=o+u+1;return new c.SelectionRange(p.resolve(s),p.resolve(s+i.content.size))}));o.call(this,m[0].$from,m[0].$to,m),this.$anchorCell=i,this.$headCell=s}return o&&(CellSelection.__proto__=o),CellSelection.prototype=Object.create(o&&o.prototype),CellSelection.prototype.constructor=CellSelection,CellSelection.prototype.map=function map(o,i){var s=o.resolve(i.map(this.$anchorCell.pos)),a=o.resolve(i.map(this.$headCell.pos));if(pointsAtCell(s)&&pointsAtCell(a)&&inSameTable(s,a)){var l=this.$anchorCell.node(-1)!=s.node(-1);return l&&this.isRowSelection()?CellSelection.rowSelection(s,a):l&&this.isColSelection()?CellSelection.colSelection(s,a):new CellSelection(s,a)}return c.TextSelection.between(s,a)},CellSelection.prototype.content=function content(){for(var o=this.$anchorCell.node(-1),i=b.get(o),s=this.$anchorCell.start(-1),a=i.rectBetween(this.$anchorCell.pos-s,this.$headCell.pos-s),l={},c=[],d=a.top;d<a.bottom;d++){for(var p=[],f=d*i.width+a.left,m=a.left;m<a.right;m++,f++){var g=i.map[f];if(!l[g]){l[g]=!0;var v=i.findCell(g),y=o.nodeAt(g),k=a.left-v.left,w=v.right-a.right;if(k>0||w>0){var S=y.attrs;k>0&&(S=removeColSpan(S,0,k)),w>0&&(S=removeColSpan(S,S.colspan-w,w)),y=v.left<a.left?y.type.createAndFill(S):y.type.create(S,y.content)}if(v.top<a.top||v.bottom>a.bottom){var x=setAttr(y.attrs,"rowspan",Math.min(v.bottom,a.bottom)-Math.max(v.top,a.top));y=v.top<a.top?y.type.createAndFill(x):y.type.create(x,y.content)}p.push(y)}}c.push(o.child(d).copy(u.Fragment.from(p)))}var C=this.isColSelection()&&this.isRowSelection()?o:c;return new u.Slice(u.Fragment.from(C),1,1)},CellSelection.prototype.replace=function replace(i,s){void 0===s&&(s=u.Slice.empty);for(var a=i.steps.length,l=this.ranges,c=0;c<l.length;c++){var d=l[c],p=d.$from,f=d.$to,m=i.mapping.slice(a);i.replace(m.map(p.pos),m.map(f.pos),c?u.Slice.empty:s)}var g=o.findFrom(i.doc.resolve(i.mapping.slice(a).map(this.to)),-1);g&&i.setSelection(g)},CellSelection.prototype.replaceWith=function replaceWith(o,i){this.replace(o,new u.Slice(u.Fragment.from(i),0,0))},CellSelection.prototype.forEachCell=function forEachCell(o){for(var i=this.$anchorCell.node(-1),s=b.get(i),a=this.$anchorCell.start(-1),l=s.cellsInRect(s.rectBetween(this.$anchorCell.pos-a,this.$headCell.pos-a)),c=0;c<l.length;c++)o(i.nodeAt(l[c]),a+l[c])},CellSelection.prototype.isColSelection=function isColSelection(){var o=this.$anchorCell.index(-1),i=this.$headCell.index(-1);if(Math.min(o,i)>0)return!1;var s=o+this.$anchorCell.nodeAfter.attrs.rowspan,a=i+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(s,a)==this.$headCell.node(-1).childCount},CellSelection.colSelection=function colSelection(o,i){void 0===i&&(i=o);var s=b.get(o.node(-1)),a=o.start(-1),l=s.findCell(o.pos-a),c=s.findCell(i.pos-a),u=o.node(0);return l.top<=c.top?(l.top>0&&(o=u.resolve(a+s.map[l.left])),c.bottom<s.height&&(i=u.resolve(a+s.map[s.width*(s.height-1)+c.right-1]))):(c.top>0&&(i=u.resolve(a+s.map[c.left])),l.bottom<s.height&&(o=u.resolve(a+s.map[s.width*(s.height-1)+l.right-1]))),new CellSelection(o,i)},CellSelection.prototype.isRowSelection=function isRowSelection(){var o=b.get(this.$anchorCell.node(-1)),i=this.$anchorCell.start(-1),s=o.colCount(this.$anchorCell.pos-i),a=o.colCount(this.$headCell.pos-i);if(Math.min(s,a)>0)return!1;var l=s+this.$anchorCell.nodeAfter.attrs.colspan,c=a+this.$headCell.nodeAfter.attrs.colspan;return Math.max(l,c)==o.width},CellSelection.prototype.eq=function eq(o){return o instanceof CellSelection&&o.$anchorCell.pos==this.$anchorCell.pos&&o.$headCell.pos==this.$headCell.pos},CellSelection.rowSelection=function rowSelection(o,i){void 0===i&&(i=o);var s=b.get(o.node(-1)),a=o.start(-1),l=s.findCell(o.pos-a),c=s.findCell(i.pos-a),u=o.node(0);return l.left<=c.left?(l.left>0&&(o=u.resolve(a+s.map[l.top*s.width])),c.right<s.width&&(i=u.resolve(a+s.map[s.width*(c.top+1)-1]))):(c.left>0&&(i=u.resolve(a+s.map[c.top*s.width])),l.right<s.width&&(o=u.resolve(a+s.map[s.width*(l.top+1)-1]))),new CellSelection(o,i)},CellSelection.prototype.toJSON=function toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}},CellSelection.fromJSON=function fromJSON(o,i){return new CellSelection(o.resolve(i.anchor),o.resolve(i.head))},CellSelection.create=function create(o,i,s){return void 0===s&&(s=i),new CellSelection(o.resolve(i),o.resolve(s))},CellSelection.prototype.getBookmark=function getBookmark(){return new S(this.$anchorCell.pos,this.$headCell.pos)},CellSelection}(c.Selection);w.prototype.visible=!1,c.Selection.jsonID("cell",w);var S=function CellBookmark(o,i){this.anchor=o,this.head=i};function drawCellSelection(o){if(!(o.selection instanceof w))return null;var i=[];return o.selection.forEachCell((function(o,s){i.push(p.Decoration.node(s,s+o.nodeSize,{class:"selectedCell"}))})),p.DecorationSet.create(o.doc,i)}function pastedCells(o){if(!o.size)return null;for(var i=o.content,s=o.openStart,a=o.openEnd;1==i.childCount&&(s>0&&a>0||"table"==i.firstChild.type.spec.tableRole);)s--,a--,i=i.firstChild.content;var l=i.firstChild,c=l.type.spec.tableRole,d=l.type.schema,p=[];if("row"==c)for(var f=0;f<i.childCount;f++){var m=i.child(f).content,g=f?0:Math.max(0,s-1),v=f<i.childCount-1?0:Math.max(0,a-1);(g||v)&&(m=fitSlice(tableNodeTypes(d).row,new u.Slice(m,g,v)).content),p.push(m)}else{if("cell"!=c&&"header_cell"!=c)return null;p.push(s||a?fitSlice(tableNodeTypes(d).row,new u.Slice(i,s,a)).content:i)}return function ensureRectangular(o,i){for(var s=[],a=0;a<i.length;a++)for(var l=i[a],c=l.childCount-1;c>=0;c--)for(var d=l.child(c).attrs,p=d.rowspan,f=d.colspan,m=a;m<a+p;m++)s[m]=(s[m]||0)+f;for(var g=0,v=0;v<s.length;v++)g=Math.max(g,s[v]);for(var y=0;y<s.length;y++)if(y>=i.length&&i.push(u.Fragment.empty),s[y]<g){for(var b=tableNodeTypes(o).cell.createAndFill(),k=[],w=s[y];w<g;w++)k.push(b);i[y]=i[y].append(u.Fragment.from(k))}return{height:i.length,width:g,rows:i}}(d,p)}function fitSlice(o,i){var s=o.createAndFill();return new f.d(s).replace(0,s.content.size,i).doc}function clipCells(o,i,s){var a=o.width,l=o.height,c=o.rows;if(a!=i){for(var d=[],p=[],f=0;f<c.length;f++){for(var m=c[f],g=[],v=d[f]||0,y=0;v<i;y++){var b=m.child(y%m.childCount);v+b.attrs.colspan>i&&(b=b.type.create(removeColSpan(b.attrs,b.attrs.colspan,v+b.attrs.colspan-i),b.content)),g.push(b),v+=b.attrs.colspan;for(var k=1;k<b.attrs.rowspan;k++)d[f+k]=(d[f+k]||0)+b.attrs.colspan}p.push(u.Fragment.from(g))}c=p,a=i}if(l!=s){for(var w=[],S=0,x=0;S<s;S++,x++){for(var C=[],_=c[x%l],O=0;O<_.childCount;O++){var M=_.child(O);S+M.attrs.rowspan>s&&(M=M.type.create(setAttr(M.attrs,"rowspan",Math.max(1,s-M.attrs.rowspan)),M.content)),C.push(M)}w.push(u.Fragment.from(C))}c=w,l=s}return{width:a,height:l,rows:c}}function isolateHorizontal(o,i,s,a,l,c,u,d){if(0==u||u==i.height)return!1;for(var p=!1,f=l;f<c;f++){var m=u*i.width+f,g=i.map[m];if(i.map[m-i.width]==g){p=!0;var v=s.nodeAt(g),y=i.findCell(g),b=y.top,k=y.left;o.setNodeMarkup(o.mapping.slice(d).map(g+a),null,setAttr(v.attrs,"rowspan",u-b)),o.insert(o.mapping.slice(d).map(i.positionAt(u,k,s)),v.type.createAndFill(setAttr(v.attrs,"rowspan",b+v.attrs.rowspan-u))),f+=v.attrs.colspan-1}}return p}function isolateVertical(o,i,s,a,l,c,u,d){if(0==u||u==i.width)return!1;for(var p=!1,f=l;f<c;f++){var m=f*i.width+u,g=i.map[m];if(i.map[m-1]==g){p=!0;var v=s.nodeAt(g),y=i.colCount(g),b=o.mapping.slice(d).map(g+a);o.setNodeMarkup(b,null,removeColSpan(v.attrs,u-y,v.attrs.colspan-(u-y))),o.insert(b+v.nodeSize,v.type.createAndFill(removeColSpan(v.attrs,0,u-y))),f+=v.attrs.rowspan-1}}return p}function insertCells(o,i,s,a,l){var c=s?o.doc.nodeAt(s-1):o.doc,d=b.get(c),p=a.top,f=a.left,m=f+l.width,g=p+l.height,v=o.tr,y=0;function recomp(){c=s?v.doc.nodeAt(s-1):v.doc,d=b.get(c),y=v.mapping.maps.length}(function growTable(o,i,s,a,l,c,d){var p,f,m=tableNodeTypes(o.doc.type.schema);if(l>i.width)for(var g=0,v=0;g<i.height;g++){var y=s.child(g);v+=y.nodeSize;var b=[],k=void 0;k=null==y.lastChild||y.lastChild.type==m.cell?p||(p=m.cell.createAndFill()):f||(f=m.header_cell.createAndFill());for(var w=i.width;w<l;w++)b.push(k);o.insert(o.mapping.slice(d).map(v-1+a),b)}if(c>i.height){for(var S=[],x=0,C=(i.height-1)*i.width;x<Math.max(i.width,l);x++){var _=!(x>=i.width)&&s.nodeAt(i.map[C+x]).type==m.header_cell;S.push(_?f||(f=m.header_cell.createAndFill()):p||(p=m.cell.createAndFill()))}for(var O=m.row.create(null,u.Fragment.from(S)),M=[],A=i.height;A<c;A++)M.push(O);o.insert(o.mapping.slice(d).map(a+s.nodeSize-2),M)}return!(!p&&!f)})(v,d,c,s,m,g,y)&&recomp(),isolateHorizontal(v,d,c,s,f,m,p,y)&&recomp(),isolateHorizontal(v,d,c,s,f,m,g,y)&&recomp(),isolateVertical(v,d,c,s,p,g,f,y)&&recomp(),isolateVertical(v,d,c,s,p,g,m,y)&&recomp();for(var k=p;k<g;k++){var S=d.positionAt(k,f,c),x=d.positionAt(k,m,c);v.replace(v.mapping.slice(y).map(S+s),v.mapping.slice(y).map(x+s),new u.Slice(l.rows[k-p],0,0))}recomp(),v.setSelection(new w(v.doc.resolve(s+d.positionAt(p,f,c)),v.doc.resolve(s+d.positionAt(g-1,m-1,c)))),i(v)}S.prototype.map=function map(o){return new S(o.map(this.anchor),o.map(this.head))},S.prototype.resolve=function resolve(o){var i=o.resolve(this.anchor),s=o.resolve(this.head);return"row"==i.parent.type.spec.tableRole&&"row"==s.parent.type.spec.tableRole&&i.index()<i.parent.childCount&&s.index()<s.parent.childCount&&inSameTable(i,s)?new w(i,s):c.Selection.near(s,1)};var x=Object(d.keydownHandler)({ArrowLeft:arrow("horiz",-1),ArrowRight:arrow("horiz",1),ArrowUp:arrow("vert",-1),ArrowDown:arrow("vert",1),"Shift-ArrowLeft":shiftArrow("horiz",-1),"Shift-ArrowRight":shiftArrow("horiz",1),"Shift-ArrowUp":shiftArrow("vert",-1),"Shift-ArrowDown":shiftArrow("vert",1),Backspace:deleteCellSelection,"Mod-Backspace":deleteCellSelection,Delete:deleteCellSelection,"Mod-Delete":deleteCellSelection});function maybeSetSelection(o,i,s){return!s.eq(o.selection)&&(i&&i(o.tr.setSelection(s).scrollIntoView()),!0)}function arrow(o,i){return function(s,a,l){var u=s.selection;if(u instanceof w)return maybeSetSelection(s,a,c.Selection.near(u.$headCell,i));if("horiz"!=o&&!u.empty)return!1;var d=atEndOfCell(l,o,i);if(null==d)return!1;if("horiz"==o)return maybeSetSelection(s,a,c.Selection.near(s.doc.resolve(u.head+i),i));var p,f=s.doc.resolve(d),m=nextCell(f,o,i);return p=m?c.Selection.near(m,1):i<0?c.Selection.near(s.doc.resolve(f.before(-1)),-1):c.Selection.near(s.doc.resolve(f.after(-1)),1),maybeSetSelection(s,a,p)}}function shiftArrow(o,i){return function(s,a,l){var c=s.selection;if(!(c instanceof w)){var u=atEndOfCell(l,o,i);if(null==u)return!1;c=new w(s.doc.resolve(u))}var d=nextCell(c.$headCell,o,i);return!!d&&maybeSetSelection(s,a,new w(c.$anchorCell,d))}}function deleteCellSelection(o,i){var s=o.selection;if(!(s instanceof w))return!1;if(i){var a=o.tr,l=tableNodeTypes(o.schema).cell.createAndFill().content;s.forEachCell((function(o,i){o.content.eq(l)||a.replace(a.mapping.map(i+1),a.mapping.map(i+o.nodeSize-1),new u.Slice(l,0,0))})),a.docChanged&&i(a)}return!0}function handleTripleClick(o,i){var s=cellAround(o.state.doc.resolve(i));return!!s&&(o.dispatch(o.state.tr.setSelection(new w(s))),!0)}function handlePaste(o,i,s){if(!isInTable(o.state))return!1;var a=pastedCells(s),l=o.state.selection;if(l instanceof w){a||(a={width:1,height:1,rows:[u.Fragment.from(fitSlice(tableNodeTypes(o.state.schema).cell,s))]});var c=l.$anchorCell.node(-1),d=l.$anchorCell.start(-1),p=b.get(c).rectBetween(l.$anchorCell.pos-d,l.$headCell.pos-d);return a=clipCells(a,p.right-p.left,p.bottom-p.top),insertCells(o.state,o.dispatch,d,p,a),!0}if(a){var f=selectionCell(o.state),m=f.start(-1);return insertCells(o.state,o.dispatch,m,b.get(f.node(-1)).findCell(f.pos-m),a),!0}return!1}function handleMouseDown(o,i){if(!i.ctrlKey&&!i.metaKey){var s,a=domInCell(o,i.target);if(i.shiftKey&&o.state.selection instanceof w)setCellSelection(o.state.selection.$anchorCell,i),i.preventDefault();else if(i.shiftKey&&a&&null!=(s=cellAround(o.state.selection.$anchor))&&cellUnderMouse(o,i).pos!=s.pos)setCellSelection(s,i),i.preventDefault();else if(!a)return;o.root.addEventListener("mouseup",stop),o.root.addEventListener("dragstart",stop),o.root.addEventListener("mousemove",move)}function setCellSelection(i,s){var a=cellUnderMouse(o,s),l=null==k.getState(o.state);if(!a||!inSameTable(i,a)){if(!l)return;a=i}var c=new w(i,a);if(l||!o.state.selection.eq(c)){var u=o.state.tr.setSelection(c);l&&u.setMeta(k,i.pos),o.dispatch(u)}}function stop(){o.root.removeEventListener("mouseup",stop),o.root.removeEventListener("dragstart",stop),o.root.removeEventListener("mousemove",move),null!=k.getState(o.state)&&o.dispatch(o.state.tr.setMeta(k,-1))}function move(s){var l,c=k.getState(o.state);if(null!=c)l=o.state.doc.resolve(c);else if(domInCell(o,s.target)!=a&&!(l=cellUnderMouse(o,i)))return stop();l&&setCellSelection(l,s)}}function atEndOfCell(o,i,s){if(!(o.state.selection instanceof c.TextSelection))return null;for(var a=o.state.selection.$head,l=a.depth-1;l>=0;l--){var u=a.node(l);if((s<0?a.index(l):a.indexAfter(l))!=(s<0?0:u.childCount))return null;if("cell"==u.type.spec.tableRole||"header_cell"==u.type.spec.tableRole){var d=a.before(l),p="vert"==i?s>0?"down":"up":s>0?"right":"left";return o.endOfTextblock(p)?d:null}}return null}function domInCell(o,i){for(;i&&i!=o.dom;i=i.parentNode)if("TD"==i.nodeName||"TH"==i.nodeName)return i}function cellUnderMouse(o,i){var s=o.posAtCoords({left:i.clientX,top:i.clientY});return s&&s?cellAround(o.state.doc.resolve(s.pos)):null}var C=new c.PluginKey("fix-tables");function changedDescendants(o,i,s,a){var l=o.childCount,c=i.childCount;e:for(var u=0,d=0;u<c;u++){for(var p=i.child(u),f=d,m=Math.min(l,u+3);f<m;f++)if(o.child(f)==p){d=f+1,s+=p.nodeSize;continue e}a(p,s),d<l&&o.child(d).sameMarkup(p)?changedDescendants(o.child(d),p,s+1,a):p.nodesBetween(0,p.content.size,a,s+1),s+=p.nodeSize}}function fixTables(o,i){var s,check=function(i,a){"table"==i.type.spec.tableRole&&(s=function fixTable(o,i,s,a){var l=b.get(i);if(!l.problems)return a;a||(a=o.tr);for(var c,u,d=[],p=0;p<l.height;p++)d.push(0);for(var f=0;f<l.problems.length;f++){var m=l.problems[f];if("collision"==m.type){for(var g=i.nodeAt(m.pos),v=0;v<g.attrs.rowspan;v++)d[m.row+v]+=m.n;a.setNodeMarkup(a.mapping.map(s+1+m.pos),null,removeColSpan(g.attrs,g.attrs.colspan-m.n,m.n))}else if("missing"==m.type)d[m.row]+=m.n;else if("overlong_rowspan"==m.type){var y=i.nodeAt(m.pos);a.setNodeMarkup(a.mapping.map(s+1+m.pos),null,setAttr(y.attrs,"rowspan",y.attrs.rowspan-m.n))}else if("colwidth mismatch"==m.type){var k=i.nodeAt(m.pos);a.setNodeMarkup(a.mapping.map(s+1+m.pos),null,setAttr(k.attrs,"colwidth",m.colwidth))}}for(var w=0;w<d.length;w++)d[w]&&(null==c&&(c=w),u=w);for(var S=0,x=s+1;S<l.height;S++){var _=i.child(S),O=x+_.nodeSize,M=d[S];if(M>0){var A="cell";_.firstChild&&(A=_.firstChild.type.spec.tableRole);for(var E=[],T=0;T<M;T++)E.push(tableNodeTypes(o.schema)[A].createAndFill());var D=0!=S&&c!=S-1||u!=S?O-1:x+1;a.insert(a.mapping.map(D),E)}x=O}return a.setMeta(C,{fixTables:!0})}(o,i,a,s))};return i?i.doc!=o.doc&&changedDescendants(i.doc,o.doc,0,check):o.doc.descendants(check),s}function selectedRect(o){var i,s=o.selection,a=selectionCell(o),l=a.node(-1),c=a.start(-1),u=b.get(l);return(i=s instanceof w?u.rectBetween(s.$anchorCell.pos-c,s.$headCell.pos-c):u.findCell(a.pos-c)).tableStart=c,i.map=u,i.table=l,i}function addColumn(o,i,s){var a=i.map,l=i.tableStart,c=i.table,u=s>0?-1:0;columnIsHeader(a,c,s+u)&&(u=0==s||s==a.width?null:0);for(var d=0;d<a.height;d++){var p=d*a.width+s;if(s>0&&s<a.width&&a.map[p-1]==a.map[p]){var f=a.map[p],m=c.nodeAt(f);o.setNodeMarkup(o.mapping.map(l+f),null,addColSpan(m.attrs,s-a.colCount(f))),d+=m.attrs.rowspan-1}else{var g=null==u?tableNodeTypes(c.type.schema).cell:c.nodeAt(a.map[p+u]).type,v=a.positionAt(d,s,c);o.insert(o.mapping.map(l+v),g.createAndFill())}}return o}function addColumnBefore(o,i){if(!isInTable(o))return!1;if(i){var s=selectedRect(o);i(addColumn(o.tr,s,s.left))}return!0}function addColumnAfter(o,i){if(!isInTable(o))return!1;if(i){var s=selectedRect(o);i(addColumn(o.tr,s,s.right))}return!0}function removeColumn(o,i,s){for(var a=i.map,l=i.table,c=i.tableStart,u=o.mapping.maps.length,d=0;d<a.height;){var p=d*a.width+s,f=a.map[p],m=l.nodeAt(f);if(s>0&&a.map[p-1]==f||s<a.width-1&&a.map[p+1]==f)o.setNodeMarkup(o.mapping.slice(u).map(c+f),null,removeColSpan(m.attrs,s-a.colCount(f)));else{var g=o.mapping.slice(u).map(c+f);o.delete(g,g+m.nodeSize)}d+=m.attrs.rowspan}}function deleteColumn(o,i){if(!isInTable(o))return!1;if(i){var s=selectedRect(o),a=o.tr;if(0==s.left&&s.right==s.map.width)return!1;for(var l=s.right-1;removeColumn(a,s,l),l!=s.left;l--)s.table=s.tableStart?a.doc.nodeAt(s.tableStart-1):a.doc,s.map=b.get(s.table);i(a)}return!0}function rowIsHeader(o,i,s){for(var a=tableNodeTypes(i.type.schema).header_cell,l=0;l<o.width;l++)if(i.nodeAt(o.map[l+s*o.width]).type!=a)return!1;return!0}function addRow(o,i,s){for(var a=i.map,l=i.tableStart,c=i.table,u=l,d=0;d<s;d++)u+=c.child(d).nodeSize;var p=[],f=s>0?-1:0;rowIsHeader(a,c,s+f)&&(f=0==s||s==a.height?null:0);for(var m=0,g=a.width*s;m<a.width;m++,g++)if(s>0&&s<a.height&&a.map[g]==a.map[g-a.width]){var v=a.map[g],y=c.nodeAt(v).attrs;o.setNodeMarkup(l+v,null,setAttr(y,"rowspan",y.rowspan+1)),m+=y.colspan-1}else{var b=null==f?tableNodeTypes(c.type.schema).cell:c.nodeAt(a.map[g+f*a.width]).type;p.push(b.createAndFill())}return o.insert(u,tableNodeTypes(c.type.schema).row.create(null,p)),o}function addRowBefore(o,i){if(!isInTable(o))return!1;if(i){var s=selectedRect(o);i(addRow(o.tr,s,s.top))}return!0}function addRowAfter(o,i){if(!isInTable(o))return!1;if(i){var s=selectedRect(o);i(addRow(o.tr,s,s.bottom))}return!0}function removeRow(o,i,s){for(var a=i.map,l=i.table,c=i.tableStart,u=0,d=0;d<s;d++)u+=l.child(d).nodeSize;var p=u+l.child(s).nodeSize,f=o.mapping.maps.length;o.delete(u+c,p+c);for(var m=0,g=s*a.width;m<a.width;m++,g++){var v=a.map[g];if(s>0&&v==a.map[g-a.width]){var y=l.nodeAt(v).attrs;o.setNodeMarkup(o.mapping.slice(f).map(v+c),null,setAttr(y,"rowspan",y.rowspan-1)),m+=y.colspan-1}else if(s<a.width&&v==a.map[g+a.width]){var b=l.nodeAt(v),k=b.type.create(setAttr(b.attrs,"rowspan",b.attrs.rowspan-1),b.content),w=a.positionAt(s+1,m,l);o.insert(o.mapping.slice(f).map(c+w),k),m+=b.attrs.colspan-1}}}function deleteRow(o,i){if(!isInTable(o))return!1;if(i){var s=selectedRect(o),a=o.tr;if(0==s.top&&s.bottom==s.map.height)return!1;for(var l=s.bottom-1;removeRow(a,s,l),l!=s.top;l--)s.table=s.tableStart?a.doc.nodeAt(s.tableStart-1):a.doc,s.map=b.get(s.table);i(a)}return!0}function isEmpty(o){var i=o.content;return 1==i.childCount&&i.firstChild.isTextblock&&0==i.firstChild.childCount}function mergeCells(o,i){var s=o.selection;if(!(s instanceof w)||s.$anchorCell.pos==s.$headCell.pos)return!1;var a=selectedRect(o),l=a.map;if(function cellsOverlapRectangle(o,i){for(var s=o.width,a=o.height,l=o.map,c=i.top*s+i.left,u=c,d=(i.bottom-1)*s+i.left,p=c+(i.right-i.left-1),f=i.top;f<i.bottom;f++){if(i.left>0&&l[u]==l[u-1]||i.right<s&&l[p]==l[p+1])return!0;u+=s,p+=s}for(var m=i.left;m<i.right;m++){if(i.top>0&&l[c]==l[c-s]||i.bottom<a&&l[d]==l[d+s])return!0;c++,d++}return!1}(l,a))return!1;if(i){for(var c,d,p=o.tr,f={},m=u.Fragment.empty,g=a.top;g<a.bottom;g++)for(var v=a.left;v<a.right;v++){var y=l.map[g*l.width+v],b=a.table.nodeAt(y);if(!f[y])if(f[y]=!0,null==c)c=y,d=b;else{isEmpty(b)||(m=m.append(b.content));var k=p.mapping.map(y+a.tableStart);p.delete(k,k+b.nodeSize)}}if(p.setNodeMarkup(c+a.tableStart,null,setAttr(addColSpan(d.attrs,d.attrs.colspan,a.right-a.left-d.attrs.colspan),"rowspan",a.bottom-a.top)),m.size){var S=c+1+d.content.size,x=isEmpty(d)?c+1:S;p.replaceWith(x+a.tableStart,S+a.tableStart,m)}p.setSelection(new w(p.doc.resolve(c+a.tableStart))),i(p)}return!0}function splitCell(o,i){var s=tableNodeTypes(o.schema);return splitCellWithType((function(o){var i=o.node;return s[i.type.spec.tableRole]}))(o,i)}function splitCellWithType(o){return function(i,s){var a,l,c=i.selection;if(c instanceof w){if(c.$anchorCell.pos!=c.$headCell.pos)return!1;a=c.$anchorCell.nodeAfter,l=c.$anchorCell.pos}else{if(!(a=function cellWrapping(o){for(var i=o.depth;i>0;i--){var s=o.node(i).type.spec.tableRole;if("cell"===s||"header_cell"===s)return o.node(i)}return null}(c.$from)))return!1;l=cellAround(c.$from).pos}if(1==a.attrs.colspan&&1==a.attrs.rowspan)return!1;if(s){var u=a.attrs,d=[],p=u.colwidth;u.rowspan>1&&(u=setAttr(u,"rowspan",1)),u.colspan>1&&(u=setAttr(u,"colspan",1));for(var f,m=selectedRect(i),g=i.tr,v=0;v<m.right-m.left;v++)d.push(p?setAttr(u,"colwidth",p&&p[v]?[p[v]]:null):u);for(var y=m.top;y<m.bottom;y++){var b=m.map.positionAt(y,m.left,m.table);y==m.top&&(b+=a.nodeSize);for(var k=m.left,S=0;k<m.right;k++,S++)k==m.left&&y==m.top||g.insert(f=g.mapping.map(b+m.tableStart,1),o({node:a,row:y,col:k}).createAndFill(d[S]))}g.setNodeMarkup(l,o({node:a,row:m.top,col:m.left}),d[0]),c instanceof w&&g.setSelection(new w(g.doc.resolve(c.$anchorCell.pos),f&&g.doc.resolve(f))),s(g)}return!0}}function setCellAttr(o,i){return function(s,a){if(!isInTable(s))return!1;var l=selectionCell(s);if(l.nodeAfter.attrs[o]===i)return!1;if(a){var c=s.tr;s.selection instanceof w?s.selection.forEachCell((function(s,a){s.attrs[o]!==i&&c.setNodeMarkup(a,null,setAttr(s.attrs,o,i))})):c.setNodeMarkup(l.pos,null,setAttr(l.nodeAfter.attrs,o,i)),a(c)}return!0}}function isHeaderEnabledByType(o,i,s){for(var a=i.map.cellsInRect({left:0,top:0,right:"row"==o?i.map.width:1,bottom:"column"==o?i.map.height:1}),l=0;l<a.length;l++){var c=i.table.nodeAt(a[l]);if(c&&c.type!==s.header_cell)return!1}return!0}function toggleHeader(o,i){return(i=i||{useDeprecatedLogic:!1}).useDeprecatedLogic?function deprecated_toggleHeader(o){return function(i,s){if(!isInTable(i))return!1;if(s){for(var a=tableNodeTypes(i.schema),l=selectedRect(i),c=i.tr,u=l.map.cellsInRect("column"==o?new y(l.left,0,l.right,l.map.height):"row"==o?new y(0,l.top,l.map.width,l.bottom):l),d=u.map((function(o){return l.table.nodeAt(o)})),p=0;p<u.length;p++)d[p].type==a.header_cell&&c.setNodeMarkup(l.tableStart+u[p],a.cell,d[p].attrs);if(0==c.steps.length)for(var f=0;f<u.length;f++)c.setNodeMarkup(l.tableStart+u[f],a.header_cell,d[f].attrs);s(c)}return!0}}(o):function(i,s){if(!isInTable(i))return!1;if(s){var a=tableNodeTypes(i.schema),l=selectedRect(i),c=i.tr,u=isHeaderEnabledByType("row",l,a),d=isHeaderEnabledByType("column",l,a),p=("column"===o?u:"row"===o&&d)?1:0,f="column"==o?new y(0,p,1,l.map.height):"row"==o?new y(p,0,l.map.width,1):l,m="column"==o?d?a.cell:a.header_cell:"row"==o?u?a.cell:a.header_cell:a.cell;l.map.cellsInRect(f).forEach((function(o){var i=o+l.tableStart,s=c.doc.nodeAt(i);s&&c.setNodeMarkup(i,m,s.attrs)})),s(c)}return!0}}var _=toggleHeader("row",{useDeprecatedLogic:!0}),O=toggleHeader("column",{useDeprecatedLogic:!0}),M=toggleHeader("cell",{useDeprecatedLogic:!0});function goToNextCell(o){return function(i,s){if(!isInTable(i))return!1;var a=function findNextCell(o,i){if(i<0){var s=o.nodeBefore;if(s)return o.pos-s.nodeSize;for(var a=o.index(-1)-1,l=o.before();a>=0;a--){var c=o.node(-1).child(a);if(c.childCount)return l-1-c.lastChild.nodeSize;l-=c.nodeSize}}else{if(o.index()<o.parent.childCount-1)return o.pos+o.nodeAfter.nodeSize;for(var u=o.node(-1),d=o.indexAfter(-1),p=o.after();d<u.childCount;d++){var f=u.child(d);if(f.childCount)return p+1;p+=f.nodeSize}}}(selectionCell(i),o);if(null!=a){if(s){var l=i.doc.resolve(a);s(i.tr.setSelection(c.TextSelection.between(l,moveCellForward(l))).scrollIntoView())}return!0}}}function deleteTable(o,i){for(var s=o.selection.$anchor,a=s.depth;a>0;a--){if("table"==s.node(a).type.spec.tableRole)return i&&i(o.tr.delete(s.before(a),s.after(a)).scrollIntoView()),!0}return!1}var A=function TableView(o,i){this.node=o,this.cellMinWidth=i,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),updateColumns(o,this.colgroup,this.table,i),this.contentDOM=this.table.appendChild(document.createElement("tbody"))};function updateColumns(o,i,s,a,l,c){for(var u=0,d=!0,p=i.firstChild,f=o.firstChild,m=0,g=0;m<f.childCount;m++)for(var v=f.child(m).attrs,y=v.colspan,b=v.colwidth,k=0;k<y;k++,g++){var w=l==g?c:b&&b[k],S=w?w+"px":"";u+=w||a,w||(d=!1),p?(p.style.width!=S&&(p.style.width=S),p=p.nextSibling):i.appendChild(document.createElement("col")).style.width=S}for(;p;){var x=p.nextSibling;p.parentNode.removeChild(p),p=x}d?(s.style.width=u+"px",s.style.minWidth=""):(s.style.width="",s.style.minWidth=u+"px")}A.prototype.update=function update(o){return o.type==this.node.type&&(this.node=o,updateColumns(o,this.colgroup,this.table,this.cellMinWidth),!0)},A.prototype.ignoreMutation=function ignoreMutation(o){return"attributes"==o.type&&(o.target==this.table||this.colgroup.contains(o.target))};var E=new c.PluginKey("tableColumnResizing");function columnResizing(o){void 0===o&&(o={});var i=o.handleWidth;void 0===i&&(i=5);var s=o.cellMinWidth;void 0===s&&(s=25);var a=o.View;void 0===a&&(a=A);var l=o.lastColumnResizable;return void 0===l&&(l=!0),new c.Plugin({key:E,state:{init:function init(o,i){return this.spec.props.nodeViews[tableNodeTypes(i.schema).table.name]=function(o,i){return new a(o,s,i)},new T(-1,!1)},apply:function apply(o,i){return i.apply(o)}},props:{attributes:function attributes(o){return E.getState(o).activeHandle>-1?{class:"resize-cursor"}:null},handleDOMEvents:{mousemove:function mousemove(o,s){!function handleMouseMove(o,i,s,a,l){var c=E.getState(o.state);if(!c.dragging){var u=function domCellAround(o){for(;o&&"TD"!=o.nodeName&&"TH"!=o.nodeName;)o=o.classList.contains("ProseMirror")?null:o.parentNode;return o}(i.target),d=-1;if(u){var p=u.getBoundingClientRect(),f=p.left,m=p.right;i.clientX-f<=s?d=edgeCell(o,i,"left"):m-i.clientX<=s&&(d=edgeCell(o,i,"right"))}if(d!=c.activeHandle){if(!l&&-1!==d){var g=o.state.doc.resolve(d),v=g.node(-1),y=b.get(v),k=g.start(-1);if(y.colCount(g.pos-k)+g.nodeAfter.attrs.colspan-1==y.width-1)return}updateHandle(o,d)}}}(o,s,i,0,l)},mouseleave:function mouseleave(o){!function handleMouseLeave(o){var i=E.getState(o.state);i.activeHandle>-1&&!i.dragging&&updateHandle(o,-1)}(o)},mousedown:function mousedown(o,i){!function handleMouseDown$1(o,i,s){var a=E.getState(o.state);if(-1==a.activeHandle||a.dragging)return!1;var l=o.state.doc.nodeAt(a.activeHandle),c=function currentColWidth(o,i,s){var a=s.colspan,l=s.colwidth,c=l&&l[l.length-1];if(c)return c;var u=o.domAtPos(i),d=u.node.childNodes[u.offset].offsetWidth,p=a;if(l)for(var f=0;f<a;f++)l[f]&&(d-=l[f],p--);return d/p}(o,a.activeHandle,l.attrs);function finish(i){window.removeEventListener("mouseup",finish),window.removeEventListener("mousemove",move);var a=E.getState(o.state);a.dragging&&(!function updateColumnWidth(o,i,s){for(var a=o.state.doc.resolve(i),l=a.node(-1),c=b.get(l),u=a.start(-1),d=c.colCount(a.pos-u)+a.nodeAfter.attrs.colspan-1,p=o.state.tr,f=0;f<c.height;f++){var m=f*c.width+d;if(!f||c.map[m]!=c.map[m-c.width]){var g=c.map[m],v=l.nodeAt(g).attrs,y=1==v.colspan?0:d-c.colCount(g);if(!v.colwidth||v.colwidth[y]!=s){var k=v.colwidth?v.colwidth.slice():zeroes(v.colspan);k[y]=s,p.setNodeMarkup(u+g,null,setAttr(v,"colwidth",k))}}}p.docChanged&&o.dispatch(p)}(o,a.activeHandle,draggedWidth(a.dragging,i,s)),o.dispatch(o.state.tr.setMeta(E,{setDragging:null})))}function move(i){if(!i.which)return finish(i);var a=E.getState(o.state),l=draggedWidth(a.dragging,i,s);!function displayColumnWidth(o,i,s,a){var l=o.state.doc.resolve(i),c=l.node(-1),u=l.start(-1),d=b.get(c).colCount(l.pos-u)+l.nodeAfter.attrs.colspan-1,p=o.domAtPos(l.start(-1)).node;for(;"TABLE"!=p.nodeName;)p=p.parentNode;updateColumns(c,p.firstChild,p,a,d,s)}(o,a.activeHandle,l,s)}return o.dispatch(o.state.tr.setMeta(E,{setDragging:{startX:i.clientX,startWidth:c}})),window.addEventListener("mouseup",finish),window.addEventListener("mousemove",move),i.preventDefault(),!0}(o,i,s)}},decorations:function decorations(o){var i=E.getState(o);if(i.activeHandle>-1)return function handleDecorations(o,i){for(var s=[],a=o.doc.resolve(i),l=a.node(-1),c=b.get(l),u=a.start(-1),d=c.colCount(a.pos-u)+a.nodeAfter.attrs.colspan,f=0;f<c.height;f++){var m=d+f*c.width-1;if(!(d!=c.width&&c.map[m]==c.map[m+1]||0!=f&&c.map[m-1]==c.map[m-1-c.width])){var g=c.map[m],v=u+g+l.nodeAt(g).nodeSize-1,y=document.createElement("div");y.className="column-resize-handle",s.push(p.Decoration.widget(v,y))}}return p.DecorationSet.create(o.doc,s)}(o,i.activeHandle)},nodeViews:{}}})}var T=function ResizeState(o,i){this.activeHandle=o,this.dragging=i};function edgeCell(o,i,s){var a=o.posAtCoords({left:i.clientX,top:i.clientY});if(!a)return-1;var l=a.pos,c=cellAround(o.state.doc.resolve(l));if(!c)return-1;if("right"==s)return c.pos;var u=b.get(c.node(-1)),d=c.start(-1),p=u.map.indexOf(c.pos-d);return p%u.width==0?-1:d+u.map[p-1]}function draggedWidth(o,i,s){var a=i.clientX-o.startX;return Math.max(s,o.startWidth+a)}function updateHandle(o,i){o.dispatch(o.state.tr.setMeta(E,{setHandle:i}))}function zeroes(o){for(var i=[],s=0;s<o;s++)i.push(0);return i}function tableEditing(o){void 0===o&&(o={});var i=o.allowTableNodeSelection;return void 0===i&&(i=!1),new c.Plugin({key:k,state:{init:function init(){return null},apply:function apply(o,i){var s=o.getMeta(k);if(null!=s)return-1==s?null:s;if(null==i||!o.docChanged)return i;var a=o.mapping.mapResult(i),l=a.deleted,c=a.pos;return l?null:c}},props:{decorations:drawCellSelection,handleDOMEvents:{mousedown:handleMouseDown},createSelectionBetween:function createSelectionBetween(o){if(null!=k.getState(o.state))return o.state.selection},handleTripleClick:handleTripleClick,handleKeyDown:x,handlePaste:handlePaste},appendTransaction:function appendTransaction(o,s,a){return function normalizeSelection(o,i,s){var a,l,u=(i||o).selection,d=(i||o).doc;if(u instanceof c.NodeSelection&&(l=u.node.type.spec.tableRole)){if("cell"==l||"header_cell"==l)a=w.create(d,u.from);else if("row"==l){var p=d.resolve(u.from+1);a=w.rowSelection(p,p)}else if(!s){var f=b.get(u.node),m=u.from+1,g=m+f.map[f.width*f.height-1];a=w.create(d,m+1,g)}}else u instanceof c.TextSelection&&function isCellBoundarySelection(o){var i=o.$from,s=o.$to;if(i.pos==s.pos||i.pos<i.pos-6)return!1;for(var a=i.pos,l=s.pos,c=i.depth;c>=0&&!(i.after(c+1)<i.end(c));c--,a++);for(var u=s.depth;u>=0&&!(s.before(u+1)>s.start(u));u--,l--);return a==l&&/row|table/.test(i.node(c).type.spec.tableRole)}(u)?a=c.TextSelection.create(d,u.from):u instanceof c.TextSelection&&function isTextSelectionAcrossCells(o){for(var i,s,a=o.$from,l=o.$to,c=a.depth;c>0;c--){var u=a.node(c);if("cell"===u.type.spec.tableRole||"header_cell"===u.type.spec.tableRole){i=u;break}}for(var d=l.depth;d>0;d--){var p=l.node(d);if("cell"===p.type.spec.tableRole||"header_cell"===p.type.spec.tableRole){s=p;break}}return i!==s&&0===l.parentOffset}(u)&&(a=c.TextSelection.create(d,u.$from.start(),u.$from.end()));return a&&(i||(i=o.tr)).setSelection(a),i}(a,fixTables(a,s),i)}})}T.prototype.apply=function apply(o){var i=this,s=o.getMeta(E);if(s&&null!=s.setHandle)return new T(s.setHandle,null);if(s&&void 0!==s.setDragging)return new T(i.activeHandle,s.setDragging);if(i.activeHandle>-1&&o.docChanged){var a=o.mapping.map(i.activeHandle,-1);pointsAtCell(o.doc.resolve(a))||(a=null),i=new T(a,i.dragging)}return i}},"Vlv/":function(o,i,s){"use strict";i.parseLinkLabel=s("31bW"),i.parseLinkDestination=s("5Mrk"),i.parseLinkTitle=s("fZFN")},Vwaf:function(o,i,s){"use strict";var a="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",l="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",c=new RegExp("^(?:"+a+"|"+l+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|<[?].*?[?]>|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),u=new RegExp("^(?:"+a+"|"+l+")");o.exports.HTML_TAG_RE=c,o.exports.HTML_OPEN_CLOSE_TAG_RE=u},"Vy+z":function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=a(s("S5OW"));class Text extends l.default{get name(){return"text"}get schema(){return{group:"inline"}}toMarkdown(o,i){o.text(i.text)}}i.default=Text},W1Rp:function(o,i,s){"use strict";var a=s("vWgF"),l=s("AGgm").has,c=s("AGgm").isValidEntityCode,u=s("AGgm").fromCodePoint,d=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,p=/^&([a-z][a-z0-9]{1,31});/i;o.exports=function entity(o,i){var s,f,m=o.pos,g=o.posMax;if(38!==o.src.charCodeAt(m))return!1;if(m+1<g)if(35===o.src.charCodeAt(m+1)){if(f=o.src.slice(m).match(d))return i||(s="x"===f[1][0].toLowerCase()?parseInt(f[1].slice(1),16):parseInt(f[1],10),o.pending+=c(s)?u(s):u(65533)),o.pos+=f[0].length,!0}else if((f=o.src.slice(m).match(p))&&l(a,f[1]))return i||(o.pending+=a[f[1]]),o.pos+=f[0].length,!0;return i||(o.pending+="&"),o.pos++,!0}},WUdu:function(o,i,s){"use strict";function typescript(o){!function(o){o.languages.typescript=o.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},keyword:/\b(?:abstract|as|asserts|async|await|break|case|catch|class|const|constructor|continue|debugger|declare|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|is|keyof|let|module|namespace|new|null|of|package|private|protected|public|readonly|return|require|set|static|super|switch|this|throw|try|type|typeof|undefined|var|void|while|with|yield)\b/,builtin:/\b(?:string|Function|any|number|boolean|Array|symbol|console|Promise|unknown|never)\b/}),delete o.languages.typescript.parameter;var i=o.languages.extend("typescript",{});delete i["class-name"],o.languages.typescript["class-name"].inside=i,o.languages.insertBefore("typescript","function",{"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:i}}}}),o.languages.ts=o.languages.typescript}(o)}o.exports=typescript,typescript.displayName="typescript",typescript.aliases=["ts"]},WtKE:function(o,i,s){"use strict";var a;o.exports=function decodeEntity(o){var i,s="&"+o+";";if((a=a||document.createElement("i")).innerHTML=s,59===(i=a.textContent).charCodeAt(i.length-1)&&"semi"!==o)return!1;return i!==s&&i}},X71X:function(o,i,s){"use strict";var a=s("4fNk"),l=s("Vwaf").HTML_OPEN_CLOSE_TAG_RE,c=[[/^<(script|pre|style)(?=(\s|>|$))/i,/<\/(script|pre|style)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+a.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(l.source+"\\s*$"),/^$/,!1]];o.exports=function html_block(o,i,s,a){var l,u,d,p,f=o.bMarks[i]+o.tShift[i],m=o.eMarks[i];if(o.sCount[i]-o.blkIndent>=4)return!1;if(!o.md.options.html)return!1;if(60!==o.src.charCodeAt(f))return!1;for(p=o.src.slice(f,m),l=0;l<c.length&&!c[l][0].test(p);l++);if(l===c.length)return!1;if(a)return c[l][2];if(u=i+1,!c[l][1].test(p))for(;u<s&&!(o.sCount[u]<o.blkIndent);u++)if(f=o.bMarks[u]+o.tShift[u],m=o.eMarks[u],p=o.src.slice(f,m),c[l][1].test(p)){0!==p.length&&u++;break}return o.line=u,(d=o.push("html_block","",0)).map=[i,u],d.content=o.getLines(i,u,o.blkIndent,!0),!0}},"Xo1/":function(o,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const a=s("tsqv");i.default=function tableRowMenuItems(o,i,s){return[{name:"addRowAfter",tooltip:s.addRowBefore,icon:a.InsertAboveIcon,attrs:{index:i-1},active:()=>!1,visible:0!==i},{name:"addRowAfter",tooltip:s.addRowAfter,icon:a.InsertBelowIcon,attrs:{index:i},active:()=>!1},{name:"separator"},{name:"deleteRow",tooltip:s.deleteRow,icon:a.TrashIcon,active:()=>!1}]}},Yosg:function(o,i,s){"use strict";var a=this&&this.__createBinding||(Object.create?function(o,i,s,a){void 0===a&&(a=s),Object.defineProperty(o,a,{enumerable:!0,get:function(){return i[s]}})}:function(o,i,s,a){void 0===a&&(a=s),o[a]=i[s]}),l=this&&this.__setModuleDefault||(Object.create?function(o,i){Object.defineProperty(o,"default",{enumerable:!0,value:i})}:function(o,i){o.default=i}),c=this&&this.__importStar||function(o){if(o&&o.__esModule)return o;var i={};if(null!=o)for(var s in o)"default"!==s&&Object.prototype.hasOwnProperty.call(o,s)&&a(i,o,s);return l(i,o),i},u=this&&this.__rest||function(o,i){var s={};for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&i.indexOf(a)<0&&(s[a]=o[a]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(a=Object.getOwnPropertySymbols(o);l<a.length;l++)i.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(o,a[l])&&(s[a[l]]=o[a[l]])}return s},d=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const p=c(s("q1tI")),f=d(s("HIsj")),m=d(s("vOnD"));const g=m.default.span`
  flex-shrink: 0;
  margin-right: 4px;
  opacity: 0.8;
`,v=m.default.li`
  display: flex;
  align-items: center;
  padding: 8px;
  border-radius: 2px;
  color: ${o=>o.theme.toolbarItem};
  background: ${o=>o.selected?o.theme.toolbarHoverBackground:"transparent"};
  font-family: ${o=>o.theme.fontFamily};
  text-decoration: none;
  overflow: hidden;
  white-space: nowrap;
  cursor: pointer;
  user-select: none;
  line-height: ${o=>o.compact?"inherit":"1.2"};
  height: ${o=>o.compact?"28px":"auto"};
`,y=m.default.div`
  font-size: 14px;
  font-weight: 500;
`,b=m.default.div`
  font-size: 13px;
  opacity: ${o=>o.selected?.75:.5};
`;i.default=function LinkSearchResult(o){var{title:i,subtitle:s,selected:a,icon:l}=o,c=u(o,["title","subtitle","selected","icon"]);const d=p.useCallback((o=>{a&&o&&f.default(o,{scrollMode:"if-needed",block:"center",boundary:o=>"link-search-results"!==o.id})}),[a]);return p.createElement(v,Object.assign({ref:d,compact:!s,selected:a},c),p.createElement(g,null,l),p.createElement("div",null,p.createElement(y,null,i),s?p.createElement(b,{selected:a},s):null))}},Z87L:function(o){o.exports=JSON.parse('{"0":"�","128":"€","130":"‚","131":"ƒ","132":"„","133":"…","134":"†","135":"‡","136":"ˆ","137":"‰","138":"Š","139":"‹","140":"Œ","142":"Ž","145":"‘","146":"’","147":"“","148":"”","149":"•","150":"–","151":"—","152":"˜","153":"™","154":"š","155":"›","156":"œ","158":"ž","159":"Ÿ"}')},ZONP:function(o,i,s){"use strict";o.exports=function decimal(o){var i="string"==typeof o?o.charCodeAt(0):o;return i>=48&&i<=57}},ZWk2:function(o,i,s){"use strict";var a=s("m2n9"),l=s("Z87L"),c=s("ZONP"),u=s("fjrl"),d=s("J5yW"),p=s("WtKE");o.exports=function parseEntities(o,i){var s,c,u={};i||(i={});for(c in v)s=i[c],u[c]=null==s?v[c]:s;(u.position.indent||u.position.start)&&(u.indent=u.position.indent||[],u.position=u.position.start);return function parse(o,i){var s,c,u,v,C,_,O,M,A,E,T,D,I,N,R,P,L,F,B,z=i.additional,j=i.nonTerminated,$=i.text,q=i.reference,V=i.warning,U=i.textContext,W=i.referenceContext,H=i.warningContext,G=i.position,K=i.indent||[],J=o.length,Z=0,Y=-1,X=G.column||1,Q=G.line||1,ee="",te=[];"string"==typeof z&&(z=z.charCodeAt(0));P=now(),M=V?parseError:g,Z--,J++;for(;++Z<J;)if(10===C&&(X=K[Y]||1),38===(C=o.charCodeAt(Z))){if(9===(O=o.charCodeAt(Z+1))||10===O||12===O||32===O||38===O||60===O||O!=O||z&&O===z){ee+=m(C),X++;continue}for(D=I=Z+1,B=I,35===O?(B=++D,88===(O=o.charCodeAt(B))||120===O?(N=b,B=++D):N=k):N=y,s="",T="",v="",R=S[N],B--;++B<J&&R(O=o.charCodeAt(B));)v+=m(O),N===y&&f.call(a,v)&&(s=v,T=a[v]);(u=59===o.charCodeAt(B))&&(B++,(c=N===y&&p(v))&&(s=v,T=c)),F=1+B-I,(u||j)&&(v?N===y?(u&&!T?M(5,1):(s!==v&&(F=1+(B=D+s.length)-D,u=!1),u||(A=s?1:3,i.attribute?61===(O=o.charCodeAt(B))?(M(A,F),T=null):d(O)?T=null:M(A,F):M(A,F))),_=T):(u||M(2,F),prohibited(_=parseInt(v,w[N]))?(M(7,F),_=m(65533)):_ in l?(M(6,F),_=l[_]):(E="",disallowed(_)&&M(6,F),_>65535&&(E+=m((_-=65536)>>>10|55296),_=56320|1023&_),_=E+m(_))):N!==y&&M(4,F)),_?(flush(),P=now(),Z=B-1,X+=B-I+1,te.push(_),(L=now()).offset++,q&&q.call(W,_,{start:P,end:L},o.slice(I-1,B)),P=L):(v=o.slice(I-1,B),ee+=v,X+=v.length,Z=B-1)}else 10===C&&(Q++,Y++,X=0),C==C?(ee+=m(C),X++):flush();return te.join("");function now(){return{line:Q,column:X,offset:Z+(G.offset||0)}}function parseError(o,i){var s=now();s.column+=i,s.offset+=i,V.call(H,x[o],s,o)}function flush(){ee&&(te.push(ee),$&&$.call(U,ee,{start:P,end:now()}),ee="")}}(o,u)};var f={}.hasOwnProperty,m=String.fromCharCode,g=Function.prototype,v={warning:null,reference:null,text:null,warningContext:null,referenceContext:null,textContext:null,position:{},additional:null,attribute:!1,nonTerminated:!0},y="named",b="hexadecimal",k="decimal",w={hexadecimal:16,decimal:10},S={};S.named=d,S[k]=c,S[b]=u;var x={};function prohibited(o){return o>=55296&&o<=57343||o>1114111}function disallowed(o){return o>=1&&o<=8||11===o||o>=13&&o<=31||o>=127&&o<=159||o>=64976&&o<=65007||65535==(65535&o)||65534==(65535&o)}x[1]="Named character references must be terminated by a semicolon",x[2]="Numeric character references must be terminated by a semicolon",x[3]="Named character references cannot be empty",x[4]="Numeric character references cannot be empty",x[5]="Named character references must be known",x[6]="Numeric character references cannot be disallowed",x[7]="Numeric character references cannot be outside the permissible Unicode range"},"Zl/q":function(o,i,s){"use strict";s.r(i),s.d(i,"addListNodes",(function(){return addListNodes})),s.d(i,"bulletList",(function(){return f})),s.d(i,"liftListItem",(function(){return liftListItem})),s.d(i,"listItem",(function(){return m})),s.d(i,"orderedList",(function(){return p})),s.d(i,"sinkListItem",(function(){return sinkListItem})),s.d(i,"splitListItem",(function(){return splitListItem})),s.d(i,"wrapInList",(function(){return wrapInList}));var a=s("CsC6"),l=s("MEpN"),c=["ol",0],u=["ul",0],d=["li",0],p={attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs:function getAttrs(o){return{order:o.hasAttribute("start")?+o.getAttribute("start"):1}}}],toDOM:function toDOM(o){return 1==o.attrs.order?c:["ol",{start:o.attrs.order},0]}},f={parseDOM:[{tag:"ul"}],toDOM:function toDOM(){return u}},m={parseDOM:[{tag:"li"}],toDOM:function toDOM(){return d},defining:!0};function add(o,i){var s={};for(var a in o)s[a]=o[a];for(var l in i)s[l]=i[l];return s}function addListNodes(o,i,s){return o.append({ordered_list:add(p,{content:"list_item+",group:s}),bullet_list:add(f,{content:"list_item+",group:s}),list_item:add(m,{content:i})})}function wrapInList(o,i){return function(s,c){var u=s.selection,d=u.$from,p=u.$to,f=d.blockRange(p),m=!1,g=f;if(!f)return!1;if(f.depth>=2&&d.node(f.depth-1).type.compatibleContent(o)&&0==f.startIndex){if(0==d.index(f.depth-1))return!1;var v=s.doc.resolve(f.start-2);g=new l.NodeRange(v,v,f.depth),f.endIndex<f.parent.childCount&&(f=new l.NodeRange(d,s.doc.resolve(p.end(f.depth)),f.depth)),m=!0}var y=Object(a.h)(g,o,i,f);return!!y&&(c&&c(function doWrapInList(o,i,s,c,u){for(var d=l.Fragment.empty,p=s.length-1;p>=0;p--)d=l.Fragment.from(s[p].type.create(s[p].attrs,d));o.step(new a.b(i.start-(c?2:0),i.end,i.start,i.end,new l.Slice(d,0,0),s.length,!0));for(var f=0,m=0;m<s.length;m++)s[m].type==u&&(f=m+1);for(var g=s.length-f,v=i.start+s.length-(c?2:0),y=i.parent,b=i.startIndex,k=i.endIndex,w=!0;b<k;b++,w=!1)!w&&Object(a.f)(o.doc,v,g)&&(o.split(v,g),v+=2*g),v+=y.child(b).nodeSize;return o}(s.tr,f,y,m,o).scrollIntoView()),!0)}}function splitListItem(o){return function(i,s){var c=i.selection,u=c.$from,d=c.$to,p=c.node;if(p&&p.isBlock||u.depth<2||!u.sameParent(d))return!1;var f=u.node(-1);if(f.type!=o)return!1;if(0==u.parent.content.size&&u.node(-1).childCount==u.indexAfter(-1)){if(2==u.depth||u.node(-3).type!=o||u.index(-2)!=u.node(-2).childCount-1)return!1;if(s){for(var m=l.Fragment.empty,g=u.index(-1)>0,v=u.depth-(g?1:2);v>=u.depth-3;v--)m=l.Fragment.from(u.node(v).copy(m));m=m.append(l.Fragment.from(o.createAndFill()));var y=i.tr.replace(u.before(g?null:-1),u.after(-3),new l.Slice(m,g?3:2,2));y.setSelection(i.selection.constructor.near(y.doc.resolve(u.pos+(g?3:2)))),s(y.scrollIntoView())}return!0}var b=d.pos==u.end()?f.contentMatchAt(0).defaultType:null,k=i.tr.delete(u.pos,d.pos),w=b&&[null,{type:b}];return!!Object(a.f)(k.doc,u.pos,2,w)&&(s&&s(k.split(u.pos,2,w).scrollIntoView()),!0)}}function liftListItem(o){return function(i,s){var c=i.selection,u=c.$from,d=c.$to,p=u.blockRange(d,(function(i){return i.childCount&&i.firstChild.type==o}));return!!p&&(!s||(u.node(p.depth-1).type==o?function liftToOuterList(o,i,s,c){var u=o.tr,d=c.end,p=c.$to.end(c.depth);d<p&&(u.step(new a.b(d-1,p,d,p,new l.Slice(l.Fragment.from(s.create(null,c.parent.copy())),1,0),1,!0)),c=new l.NodeRange(u.doc.resolve(c.$from.pos),u.doc.resolve(p),c.depth));return i(u.lift(c,Object(a.j)(c)).scrollIntoView()),!0}(i,s,o,p):function liftOutOfList(o,i,s){for(var c=o.tr,u=s.parent,d=s.end,p=s.endIndex-1,f=s.startIndex;p>f;p--)d-=u.child(p).nodeSize,c.delete(d-1,d+1);var m=c.doc.resolve(s.start),g=m.nodeAfter,v=0==s.startIndex,y=s.endIndex==u.childCount,b=m.node(-1),k=m.index(-1);if(!b.canReplace(k+(v?0:1),k+1,g.content.append(y?l.Fragment.empty:l.Fragment.from(u))))return!1;var w=m.pos,S=w+g.nodeSize;return c.step(new a.b(w-(v?1:0),S+(y?1:0),w+1,S-1,new l.Slice((v?l.Fragment.empty:l.Fragment.from(u.copy(l.Fragment.empty))).append(y?l.Fragment.empty:l.Fragment.from(u.copy(l.Fragment.empty))),v?0:1,y?0:1),v?0:1)),i(c.scrollIntoView()),!0}(i,s,p)))}}function sinkListItem(o){return function(i,s){var c=i.selection,u=c.$from,d=c.$to,p=u.blockRange(d,(function(i){return i.childCount&&i.firstChild.type==o}));if(!p)return!1;var f=p.startIndex;if(0==f)return!1;var m=p.parent,g=m.child(f-1);if(g.type!=o)return!1;if(s){var v=g.lastChild&&g.lastChild.type==m.type,y=l.Fragment.from(v?o.create():null),b=new l.Slice(l.Fragment.from(o.create(null,l.Fragment.from(m.type.create(null,y)))),v?3:1,0),k=p.start,w=p.end;s(i.tr.step(new a.b(k-(v?3:1),w,k,w,b,1,!0)).scrollIntoView())}return!0}}},ZvBK:function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=s("+V57"),c=a(s("8CBE")),u=a(s("S5OW"));class BulletList extends u.default{get name(){return"bullet_list"}get schema(){return{content:"list_item+",group:"block",parseDOM:[{tag:"ul"}],toDOM:()=>["ul",0]}}commands({type:o,schema:i}){return()=>c.default(o,i.nodes.list_item)}keys({type:o,schema:i}){return{"Shift-Ctrl-8":c.default(o,i.nodes.list_item)}}inputRules({type:o}){return[l.wrappingInputRule(/^\s*([-+*])\s$/,o)]}toMarkdown(o,i){o.renderList(i,"  ",(()=>(i.attrs.bullet||"*")+" "))}parseMarkdown(){return{block:"bullet_list"}}}i.default=BulletList},ZzaS:function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=s("V2qZ"),c=s("UxO+"),u=s("mG1W"),d=a(s("S5OW"));class TableCell extends d.default{get name(){return"td"}get schema(){return{content:"paragraph+",tableRole:"cell",isolating:!0,parseDOM:[{tag:"td"}],toDOM:o=>["td",o.attrs.alignment?{style:`text-align: ${o.attrs.alignment}`}:{},0],attrs:{colspan:{default:1},rowspan:{default:1},alignment:{default:null}}}}toMarkdown(){}parseMarkdown(){return{block:"td",getAttrs:o=>({alignment:o.info})}}get plugins(){return[new c.Plugin({props:{decorations:o=>{const{doc:i,selection:s}=o,a=[],c=u.getCellsInColumn(0)(s);return c&&c.forEach((({pos:i},d)=>{0===d&&a.push(l.Decoration.widget(i+1,(()=>{let i="grip-table";u.isTableSelected(s)&&(i+=" selected");const a=document.createElement("a");return a.className=i,a.addEventListener("mousedown",(i=>{i.preventDefault(),this.options.onSelectTable(o)})),a}))),a.push(l.Decoration.widget(i+1,(()=>{let i="grip-row";u.isRowSelected(d)(s)&&(i+=" selected"),0===d?i+=" first":d===c.length-1&&(i+=" last");const a=document.createElement("a");return a.className=i,a.addEventListener("mousedown",(i=>{i.preventDefault(),this.options.onSelectRow(d,o)})),a})))})),l.DecorationSet.create(i,a)}}})]}}i.default=TableCell},adXP:function(o,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function backspaceToParagraph(o){return(i,s)=>{const{$from:a,from:l,to:c,empty:u}=i.selection;if(!u)return null;if(a.parent.type!==o)return null;return i.doc.resolve(l-1).parent===a.parent?null:(s(i.tr.setBlockType(l,c,o.schema.nodes.paragraph).scrollIntoView()),!0)}}},alVm:function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=a(s("vOnD")).default.span`
  position: absolute !important;
  height: 1px;
  width: 1px;
  overflow: hidden;
  clip: rect(1px 1px 1px 1px); /* IE6, IE7 */
  clip: rect(1px, 1px, 1px, 1px);
`;i.default=l},amLO:function(o,i,s){"use strict";function clike(o){o.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|interface|extends|implements|trait|instanceof|new)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}}o.exports=clike,clike.displayName="clike",clike.aliases=[]},asJW:function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=s("tsqv"),c=s("Vb5C"),u=a(s("E9Ky")),d=a(s("wq5p")),p=a(s("K0ly"));i.default=function formattingMenuItems(o,i,s){const{schema:a}=o,f=c.isInTable(o),m=u.default(o),g=!f&&!m;return[{name:"placeholder",tooltip:s.placeholder,icon:l.InputIcon,active:d.default(a.marks.placeholder),visible:i},{name:"separator",visible:i},{name:"strong",tooltip:s.strong,icon:l.BoldIcon,active:d.default(a.marks.strong)},{name:"em",tooltip:s.em,icon:l.ItalicIcon,active:d.default(a.marks.em)},{name:"strikethrough",tooltip:s.strikethrough,icon:l.StrikethroughIcon,active:d.default(a.marks.strikethrough)},{name:"highlight",tooltip:s.mark,icon:l.HighlightIcon,active:d.default(a.marks.highlight),visible:!i},{name:"code_inline",tooltip:s.codeInline,icon:l.CodeIcon,active:d.default(a.marks.code_inline)},{name:"separator",visible:g},{name:"heading",tooltip:s.heading,icon:l.Heading1Icon,active:p.default(a.nodes.heading,{level:1}),attrs:{level:1},visible:g},{name:"heading",tooltip:s.subheading,icon:l.Heading2Icon,active:p.default(a.nodes.heading,{level:2}),attrs:{level:2},visible:g},{name:"blockquote",tooltip:s.quote,icon:l.BlockQuoteIcon,active:p.default(a.nodes.blockquote),attrs:{level:2},visible:g},{name:"separator"},{name:"link",tooltip:s.createLink,icon:l.LinkIcon,active:d.default(a.marks.link),attrs:{href:""}}]}},b8t9:function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=a(s("wq5p"));i.default=function isInCode(o){if(o.schema.nodes.code_block){const i=o.selection.$head;for(let s=i.depth;s>0;s--)if(i.node(s).type===o.schema.nodes.code_block)return!0}return l.default(o.schema.marks.code_inline)(o)}},b9EY:function(o,i){o.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/},bAF5:function(o,i,s){"use strict";o.exports=function normalize(o){return o.toLowerCase()}},bFEn:function(o,i,s){"use strict";var a=s("7+hk"),l=s("rS7C")(a,"div");l.displayName="html",o.exports=l},"bFz+":function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=a(s("S5OW"));class TableRow extends l.default{get name(){return"tr"}get schema(){return{content:"(th | td)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM:()=>["tr",0]}}parseMarkdown(){return{block:"tr"}}}i.default=TableRow},bHgY:function(o,i,s){"use strict";var a=s("FWC9"),l=s("DUvi"),c=a.booleanish,u=a.number,d=a.spaceSeparated;o.exports=l({transform:function ariaTransform(o,i){return"role"===i?i:"aria-"+i.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:c,ariaAutoComplete:null,ariaBusy:c,ariaChecked:c,ariaColCount:u,ariaColIndex:u,ariaColSpan:u,ariaControls:d,ariaCurrent:null,ariaDescribedBy:d,ariaDetails:null,ariaDisabled:c,ariaDropEffect:d,ariaErrorMessage:null,ariaExpanded:c,ariaFlowTo:d,ariaGrabbed:c,ariaHasPopup:null,ariaHidden:c,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:d,ariaLevel:u,ariaLive:null,ariaModal:c,ariaMultiLine:c,ariaMultiSelectable:c,ariaOrientation:null,ariaOwns:d,ariaPlaceholder:null,ariaPosInSet:u,ariaPressed:c,ariaReadOnly:c,ariaRelevant:null,ariaRequired:c,ariaRoleDescription:d,ariaRowCount:u,ariaRowIndex:u,ariaRowSpan:u,ariaSelected:c,ariaSetSize:u,ariaSort:null,ariaValueMax:u,ariaValueMin:u,ariaValueNow:u,ariaValueText:null,role:null}})},bdgK:function(o,i,s){"use strict";s.r(i),function(o){var s=function(){if("undefined"!=typeof Map)return Map;function getIndex(o,i){var s=-1;return o.some((function(o,a){return o[0]===i&&(s=a,!0)})),s}return function(){function class_1(){this.__entries__=[]}return Object.defineProperty(class_1.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),class_1.prototype.get=function(o){var i=getIndex(this.__entries__,o),s=this.__entries__[i];return s&&s[1]},class_1.prototype.set=function(o,i){var s=getIndex(this.__entries__,o);~s?this.__entries__[s][1]=i:this.__entries__.push([o,i])},class_1.prototype.delete=function(o){var i=this.__entries__,s=getIndex(i,o);~s&&i.splice(s,1)},class_1.prototype.has=function(o){return!!~getIndex(this.__entries__,o)},class_1.prototype.clear=function(){this.__entries__.splice(0)},class_1.prototype.forEach=function(o,i){void 0===i&&(i=null);for(var s=0,a=this.__entries__;s<a.length;s++){var l=a[s];o.call(i,l[1],l[0])}},class_1}()}(),a="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,l=void 0!==o&&o.Math===Math?o:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),c="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(l):function(o){return setTimeout((function(){return o(Date.now())}),1e3/60)};var u=["top","right","bottom","left","width","height","size","weight"],d="undefined"!=typeof MutationObserver,p=function(){function ResizeObserverController(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function throttle(o,i){var s=!1,a=!1,l=0;function resolvePending(){s&&(s=!1,o()),a&&proxy()}function timeoutCallback(){c(resolvePending)}function proxy(){var o=Date.now();if(s){if(o-l<2)return;a=!0}else s=!0,a=!1,setTimeout(timeoutCallback,i);l=o}return proxy}(this.refresh.bind(this),20)}return ResizeObserverController.prototype.addObserver=function(o){~this.observers_.indexOf(o)||this.observers_.push(o),this.connected_||this.connect_()},ResizeObserverController.prototype.removeObserver=function(o){var i=this.observers_,s=i.indexOf(o);~s&&i.splice(s,1),!i.length&&this.connected_&&this.disconnect_()},ResizeObserverController.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},ResizeObserverController.prototype.updateObservers_=function(){var o=this.observers_.filter((function(o){return o.gatherActive(),o.hasActive()}));return o.forEach((function(o){return o.broadcastActive()})),o.length>0},ResizeObserverController.prototype.connect_=function(){a&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),d?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},ResizeObserverController.prototype.disconnect_=function(){a&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},ResizeObserverController.prototype.onTransitionEnd_=function(o){var i=o.propertyName,s=void 0===i?"":i;u.some((function(o){return!!~s.indexOf(o)}))&&this.refresh()},ResizeObserverController.getInstance=function(){return this.instance_||(this.instance_=new ResizeObserverController),this.instance_},ResizeObserverController.instance_=null,ResizeObserverController}(),defineConfigurable=function(o,i){for(var s=0,a=Object.keys(i);s<a.length;s++){var l=a[s];Object.defineProperty(o,l,{value:i[l],enumerable:!1,writable:!1,configurable:!0})}return o},getWindowOf=function(o){return o&&o.ownerDocument&&o.ownerDocument.defaultView||l},f=createRectInit(0,0,0,0);function toFloat(o){return parseFloat(o)||0}function getBordersSize(o){for(var i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];return i.reduce((function(i,s){return i+toFloat(o["border-"+s+"-width"])}),0)}function getHTMLElementContentRect(o){var i=o.clientWidth,s=o.clientHeight;if(!i&&!s)return f;var a=getWindowOf(o).getComputedStyle(o),l=function getPaddings(o){for(var i={},s=0,a=["top","right","bottom","left"];s<a.length;s++){var l=a[s],c=o["padding-"+l];i[l]=toFloat(c)}return i}(a),c=l.left+l.right,u=l.top+l.bottom,d=toFloat(a.width),p=toFloat(a.height);if("border-box"===a.boxSizing&&(Math.round(d+c)!==i&&(d-=getBordersSize(a,"left","right")+c),Math.round(p+u)!==s&&(p-=getBordersSize(a,"top","bottom")+u)),!function isDocumentElement(o){return o===getWindowOf(o).document.documentElement}(o)){var m=Math.round(d+c)-i,g=Math.round(p+u)-s;1!==Math.abs(m)&&(d-=m),1!==Math.abs(g)&&(p-=g)}return createRectInit(l.left,l.top,d,p)}var m="undefined"!=typeof SVGGraphicsElement?function(o){return o instanceof getWindowOf(o).SVGGraphicsElement}:function(o){return o instanceof getWindowOf(o).SVGElement&&"function"==typeof o.getBBox};function getContentRect(o){return a?m(o)?function getSVGContentRect(o){var i=o.getBBox();return createRectInit(0,0,i.width,i.height)}(o):getHTMLElementContentRect(o):f}function createRectInit(o,i,s,a){return{x:o,y:i,width:s,height:a}}var g=function(){function ResizeObservation(o){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=createRectInit(0,0,0,0),this.target=o}return ResizeObservation.prototype.isActive=function(){var o=getContentRect(this.target);return this.contentRect_=o,o.width!==this.broadcastWidth||o.height!==this.broadcastHeight},ResizeObservation.prototype.broadcastRect=function(){var o=this.contentRect_;return this.broadcastWidth=o.width,this.broadcastHeight=o.height,o},ResizeObservation}(),v=function v(o,i){var s=function createReadOnlyRect(o){var i=o.x,s=o.y,a=o.width,l=o.height,c="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,u=Object.create(c.prototype);return defineConfigurable(u,{x:i,y:s,width:a,height:l,top:s,right:i+a,bottom:l+s,left:i}),u}(i);defineConfigurable(this,{target:o,contentRect:s})},y=function(){function ResizeObserverSPI(o,i,a){if(this.activeObservations_=[],this.observations_=new s,"function"!=typeof o)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=o,this.controller_=i,this.callbackCtx_=a}return ResizeObserverSPI.prototype.observe=function(o){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(o instanceof getWindowOf(o).Element))throw new TypeError('parameter 1 is not of type "Element".');var i=this.observations_;i.has(o)||(i.set(o,new g(o)),this.controller_.addObserver(this),this.controller_.refresh())}},ResizeObserverSPI.prototype.unobserve=function(o){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(o instanceof getWindowOf(o).Element))throw new TypeError('parameter 1 is not of type "Element".');var i=this.observations_;i.has(o)&&(i.delete(o),i.size||this.controller_.removeObserver(this))}},ResizeObserverSPI.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},ResizeObserverSPI.prototype.gatherActive=function(){var o=this;this.clearActive(),this.observations_.forEach((function(i){i.isActive()&&o.activeObservations_.push(i)}))},ResizeObserverSPI.prototype.broadcastActive=function(){if(this.hasActive()){var o=this.callbackCtx_,i=this.activeObservations_.map((function(o){return new v(o.target,o.broadcastRect())}));this.callback_.call(o,i,o),this.clearActive()}},ResizeObserverSPI.prototype.clearActive=function(){this.activeObservations_.splice(0)},ResizeObserverSPI.prototype.hasActive=function(){return this.activeObservations_.length>0},ResizeObserverSPI}(),b="undefined"!=typeof WeakMap?new WeakMap:new s,k=function ResizeObserver(o){if(!(this instanceof ResizeObserver))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var i=p.getInstance(),s=new y(o,i,this);b.set(this,s)};["observe","unobserve","disconnect"].forEach((function(o){k.prototype[o]=function(){var i;return(i=b.get(this))[o].apply(i,arguments)}}));var w=void 0!==l.ResizeObserver?l.ResizeObserver:k;i.default=w}.call(this,s("yLpj"))},bgCn:function(o,i,s){"use strict";for(var a=s("AGgm").isSpace,l=[],c=0;c<256;c++)l.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(o){l[o.charCodeAt(0)]=1})),o.exports=function escape(o,i){var s,c=o.pos,u=o.posMax;if(92!==o.src.charCodeAt(c))return!1;if(++c<u){if((s=o.src.charCodeAt(c))<256&&0!==l[s])return i||(o.pending+=o.src[c]),o.pos+=2,!0;if(10===s){for(i||o.push("hardbreak","br",0),c++;c<u&&(s=o.src.charCodeAt(c),a(s));)c++;return o.pos=c,!0}}return i||(o.pending+="\\"),o.pos++,!0}},cTMM:function(o,i,s){"use strict";var a=s("CWsV");function StateCore(o,i,s){this.src=o,this.env=s,this.tokens=[],this.inlineMode=!1,this.md=i}StateCore.prototype.Token=a,o.exports=StateCore},cbKp:function(o,i,s){"use strict";function go(o){o.languages.go=o.languages.extend("clike",{string:{pattern:/(["'`])(?:\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0},keyword:/\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/,boolean:/\b(?:_|iota|nil|true|false)\b/,number:/(?:\b0x[a-f\d]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[-+]?\d+)?)i?/i,operator:/[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\./,builtin:/\b(?:bool|byte|complex(?:64|128)|error|float(?:32|64)|rune|string|u?int(?:8|16|32|64)?|uintptr|append|cap|close|complex|copy|delete|imag|len|make|new|panic|print(?:ln)?|real|recover)\b/}),delete o.languages.go["class-name"]}o.exports=go,go.displayName="go",go.aliases=[]},cohp:function(o,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const a=s("+V57");i.default=function default_1(o,i,s){return new a.InputRule(o,((o,a,l,c)=>{const u=s instanceof Function?s(a):s,{tr:d}=o,p=a.length-1;let f=c,m=l;if(a[p]){const s=l+a[0].indexOf(a[p-1]),u=s+a[p-1].length-1,g=s+a[p-1].lastIndexOf(a[p]),v=g+a[p].length;if(function getMarksBetween(o,i,s){let a=[];return s.doc.nodesBetween(o,i,((o,i)=>{a=[...a,...o.marks.map((s=>({start:i,end:i+o.nodeSize,mark:s})))]})),a}(l,c,o).filter((o=>o.mark.type.excludes(i))).filter((o=>o.end>s)).length)return null;v<u&&d.delete(v,u),g>s&&d.delete(s,g),m=s,f=m+a[p].length}return d.addMark(m,f,i.create(u)),d.removeStoredMark(i),d}))}},dGqU:function(o,i,s){"use strict";o.exports=function container_plugin(o,i,s){var a=(s=s||{}).marker||":",l=a.charCodeAt(0),c=a.length,u=s.validate||function validateDefault(o){return o.trim().split(" ",2)[0]===i},d=s.render||function renderDefault(o,s,a,l,c){return 1===o[s].nesting&&o[s].attrJoin("class",i),c.renderToken(o,s,a,l,c)};o.block.ruler.before("fence","container_"+i,(function container(o,s,d,p){var f,m,g,v,y,b,k,w,S=!1,x=o.bMarks[s]+o.tShift[s],C=o.eMarks[s];if(l!==o.src.charCodeAt(x))return!1;for(f=x+1;f<=C&&a[(f-x)%c]===o.src[f];f++);if((g=Math.floor((f-x)/c))<3)return!1;if(f-=(f-x)%c,v=o.src.slice(x,f),y=o.src.slice(f,C),!u(y,v))return!1;if(p)return!0;for(m=s;!(++m>=d)&&!((x=o.bMarks[m]+o.tShift[m])<(C=o.eMarks[m])&&o.sCount[m]<o.blkIndent);)if(l===o.src.charCodeAt(x)&&!(o.sCount[m]-o.blkIndent>=4)){for(f=x+1;f<=C&&a[(f-x)%c]===o.src[f];f++);if(!(Math.floor((f-x)/c)<g||(f-=(f-x)%c,(f=o.skipSpaces(f))<C))){S=!0;break}}return k=o.parentType,w=o.lineMax,o.parentType="container",o.lineMax=m,(b=o.push("container_"+i+"_open","div",1)).markup=v,b.block=!0,b.info=y,b.map=[s,m],o.md.block.tokenize(o,s+1,m),(b=o.push("container_"+i+"_close","div",-1)).markup=o.src.slice(x,f),b.block=!0,o.parentType=k,o.lineMax=w,o.line=m+(S?1:0),!0}),{alt:["paragraph","reference","blockquote","list"]}),o.renderer.rules["container_"+i+"_open"]=d,o.renderer.rules["container_"+i+"_close"]=d}},dKIx:function(o,i,s){"use strict";o.exports=Schema;var a=Schema.prototype;function Schema(o,i,s){this.property=o,this.normal=i,s&&(this.space=s)}a.space=null,a.normal={},a.property={}},dXJL:function(o,i,s){"use strict";var a=s("DUvi"),l=s("y3WP");o.exports=a({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:l,properties:{xmlns:null,xmlnsXLink:null}})},dpam:function(o,i,s){"use strict";var a=s("SINd"),l=[["table",s("gNPE"),["paragraph","reference"]],["code",s("nBLk")],["fence",s("vys+"),["paragraph","reference","blockquote","list"]],["blockquote",s("6A5J"),["paragraph","reference","blockquote","list"]],["hr",s("/f6Q"),["paragraph","reference","blockquote","list"]],["list",s("Sz5L"),["paragraph","reference","blockquote"]],["reference",s("1nBO")],["heading",s("B1jb"),["paragraph","reference","blockquote"]],["lheading",s("GZ5e")],["html_block",s("X71X"),["paragraph","reference","blockquote"]],["paragraph",s("RKh7")]];function ParserBlock(){this.ruler=new a;for(var o=0;o<l.length;o++)this.ruler.push(l[o][0],l[o][1],{alt:(l[o][2]||[]).slice()})}ParserBlock.prototype.tokenize=function(o,i,s){for(var a,l=this.ruler.getRules(""),c=l.length,u=i,d=!1,p=o.md.options.maxNesting;u<s&&(o.line=u=o.skipEmptyLines(u),!(u>=s))&&!(o.sCount[u]<o.blkIndent);){if(o.level>=p){o.line=s;break}for(a=0;a<c&&!l[a](o,u,s,!1);a++);o.tight=!d,o.isEmpty(o.line-1)&&(d=!0),(u=o.line)<s&&o.isEmpty(u)&&(d=!0,u++,o.line=u)}},ParserBlock.prototype.parse=function(o,i,s,a){var l;o&&(l=new this.State(o,i,s,a),this.tokenize(l,l.line,l.lineMax))},ParserBlock.prototype.State=s("g0+v"),o.exports=ParserBlock},du5t:function(o,i,s){"use strict";var a=s("DUvi");o.exports=a({space:"xlink",transform:function xlinkTransform(o,i){return"xlink:"+i.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}})},eAD1:function(o,i,s){"use strict";var a=s("DUvi");o.exports=a({space:"xml",transform:function xmlTransform(o,i){return"xml:"+i.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}})},eCQX:function(o,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function default_1(o){const i=o.delim.charCodeAt(0);return function emphasisPlugin(s){function postProcess(s,a){let l,c,u,d,p;const f=[],m=a.length;for(l=0;l<m;l++)u=a[l],u.marker===i&&-1!==u.end&&(d=a[u.end],p=s.tokens[u.token],p.type=`${o.mark}_open`,p.tag="span",p.attrs=[["class",o.mark]],p.nesting=1,p.markup=o.delim,p.content="",p=s.tokens[d.token],p.type=`${o.mark}_close`,p.tag="span",p.nesting=-1,p.markup=o.delim,p.content="","text"===s.tokens[d.token-1].type&&s.tokens[d.token-1].content===o.delim[0]&&f.push(d.token-1));for(;f.length;){for(l=f.pop(),c=l+1;c<s.tokens.length&&s.tokens[c].type===`${o.mark}_close`;)c++;c--,l!==c&&(p=s.tokens[c],s.tokens[c]=s.tokens[l],s.tokens[l]=p)}}s.inline.ruler.before("emphasis",o.mark,(function tokenize(o,s){let a,l;const c=o.pos,u=o.src.charCodeAt(c);if(s)return!1;if(u!==i)return!1;const d=o.scanDelims(o.pos,!0),p=String.fromCharCode(u);let f=d.length;if(f<2)return!1;for(f%2&&(l=o.push("text","",0),l.content=p,f--),a=0;a<f;a+=2)l=o.push("text","",0),l.content=p+p,(d.can_open||d.can_close)&&o.delimiters.push({marker:u,length:0,jump:a,token:o.tokens.length-1,end:-1,open:d.can_open,close:d.can_close});return o.pos+=d.length,!0})),s.inline.ruler2.before("emphasis",o.mark,(function(o){let i;const s=o.tokens_meta,a=(o.tokens_meta||[]).length;for(postProcess(o,o.delimiters),i=0;i<a;i++)s[i]&&s[i].delimiters&&postProcess(o,s[i].delimiters)}))}}},eF4f:function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=a(s("vOnD"));i.default=l.default.button`
  display: inline-block;
  flex: 0;
  width: 24px;
  height: 24px;
  cursor: pointer;
  margin-left: 10px;
  border: none;
  background: none;
  transition: opacity 100ms ease-in-out;
  padding: 0;
  opacity: 0.7;
  outline: none;

  &:first-child {
    margin-left: 0;
  }

  &:hover {
    opacity: 1;
  }

  &:disabled {
    opacity: 0.3;
    cursor: default;
  }

  ${o=>o.active&&"opacity: 1;"};
`},ePCq:function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=s("UxO+"),c=a(s("wq5p"));function hasCode(o,i){const{code_inline:s}=o.schema.marks,a=i>=0&&o.doc.nodeAt(i);return!!a&&!!a.marks.filter((o=>o.type===s)).length}i.default=function moveLeft(){return(o,i)=>{const{code_inline:s}=o.schema.marks,{empty:a,$cursor:u}=o.selection;if(!a||!u)return!1;const{storedMarks:d}=o.tr;if(s){const a=s&&c.default(s)(o),p=hasCode(o,u.pos),f=hasCode(o,u.pos-1),m=hasCode(o,u.pos-2),g=p&&!f&&Array.isArray(d),v=f&&!m&&(null===d||Array.isArray(d)&&!!d.length),y=(g&&Array.isArray(d)&&!d.length||!g&&null===d)&&!f&&m,b=!p&&f&&Array.isArray(d)&&!d.length;if(!a&&y){return i(o.tr.setSelection(l.Selection.near(o.doc.resolve(u.pos-1))).removeStoredMark(s)),!0}if(!a&&b)return i(o.tr.addStoredMark(s.create())),!0;if(a&&v){return i(o.tr.setSelection(l.Selection.near(o.doc.resolve(u.pos-1))).addStoredMark(s.create())),!0}const k=0===u.index(u.depth-1);if(a&&(g||!u.nodeBefore&&k))return i(o.tr.removeStoredMark(s)),!0}return!1}}},fJ7p:function(o,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const a=/\[(X|\s|_|-)\]\s(.*)?/i;function looksLikeChecklist(o,i){return function isInline(o){return!!o&&"inline"===o.type}(o[i])&&function isListItem(o){return!!o&&("list_item_open"===o.type||"checkbox_item_open"===o.type)}(o[i-2])&&function isParagraph(o){return!!o&&"paragraph_open"===o.type}(o[i-1])&&function matches(o){return o&&o.content.match(a)}(o[i])}i.default=function markdownItCheckbox(o){function render(o,i){const s=o[i],a=!!s.attrGet("checked");return 1===s.nesting?`<li class="checkbox-list-item"><span class="checkbox ${a?"checked":""}">${a?"[x]":"[ ]"}</span>`:"</li>\n"}o.renderer.rules.checkbox_item_open=render,o.renderer.rules.checkbox_item_close=render,o.core.ruler.after("inline","checkboxes",(o=>{const i=o.tokens;for(let o=i.length-1;o>0;o--){const s=looksLikeChecklist(i,o);if(s){const l="x"===s[1].toLowerCase();"bullet_list_open"===i[o-3].type&&(i[o-3].type="checkbox_list_open"),"bullet_list_close"===i[o+3].type&&(i[o+3].type="checkbox_list_close");const c=i[o].children;if(c){const s=c[0].content.match(a);if(s){const a=s[2];i[o].content=a,c[0].content=a}}i[o-2].type="checkbox_item_open",!0===l&&(i[o-2].attrs=[["checked","true"]]);let u=o;for(;"list_item_close"!==i[u].type;)u++;i[u].type="checkbox_item_close"}}return!1}))}},fKCf:function(o,i){o.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},"fMI+":function(o,i,s){"use strict";var a=s("AGgm").assign,l=s("AGgm").unescapeAll,c=s("AGgm").escapeHtml,u={};function Renderer(){this.rules=a({},u)}u.code_inline=function(o,i,s,a,l){var u=o[i];return"<code"+l.renderAttrs(u)+">"+c(o[i].content)+"</code>"},u.code_block=function(o,i,s,a,l){var u=o[i];return"<pre"+l.renderAttrs(u)+"><code>"+c(o[i].content)+"</code></pre>\n"},u.fence=function(o,i,s,a,u){var d,p,f,m,g=o[i],v=g.info?l(g.info).trim():"",y="";return v&&(y=v.split(/\s+/g)[0]),0===(d=s.highlight&&s.highlight(g.content,y)||c(g.content)).indexOf("<pre")?d+"\n":v?(p=g.attrIndex("class"),f=g.attrs?g.attrs.slice():[],p<0?f.push(["class",s.langPrefix+y]):f[p][1]+=" "+s.langPrefix+y,m={attrs:f},"<pre><code"+u.renderAttrs(m)+">"+d+"</code></pre>\n"):"<pre><code"+u.renderAttrs(g)+">"+d+"</code></pre>\n"},u.image=function(o,i,s,a,l){var c=o[i];return c.attrs[c.attrIndex("alt")][1]=l.renderInlineAsText(c.children,s,a),l.renderToken(o,i,s)},u.hardbreak=function(o,i,s){return s.xhtmlOut?"<br />\n":"<br>\n"},u.softbreak=function(o,i,s){return s.breaks?s.xhtmlOut?"<br />\n":"<br>\n":"\n"},u.text=function(o,i){return c(o[i].content)},u.html_block=function(o,i){return o[i].content},u.html_inline=function(o,i){return o[i].content},Renderer.prototype.renderAttrs=function renderAttrs(o){var i,s,a;if(!o.attrs)return"";for(a="",i=0,s=o.attrs.length;i<s;i++)a+=" "+c(o.attrs[i][0])+'="'+c(o.attrs[i][1])+'"';return a},Renderer.prototype.renderToken=function renderToken(o,i,s){var a,l="",c=!1,u=o[i];return u.hidden?"":(u.block&&-1!==u.nesting&&i&&o[i-1].hidden&&(l+="\n"),l+=(-1===u.nesting?"</":"<")+u.tag,l+=this.renderAttrs(u),0===u.nesting&&s.xhtmlOut&&(l+=" /"),u.block&&(c=!0,1===u.nesting&&i+1<o.length&&("inline"===(a=o[i+1]).type||a.hidden||-1===a.nesting&&a.tag===u.tag)&&(c=!1)),l+=c?">\n":">")},Renderer.prototype.renderInline=function(o,i,s){for(var a,l="",c=this.rules,u=0,d=o.length;u<d;u++)void 0!==c[a=o[u].type]?l+=c[a](o,u,i,s,this):l+=this.renderToken(o,u,i);return l},Renderer.prototype.renderInlineAsText=function(o,i,s){for(var a="",l=0,c=o.length;l<c;l++)"text"===o[l].type?a+=o[l].content:"image"===o[l].type&&(a+=this.renderInlineAsText(o[l].children,i,s));return a},Renderer.prototype.render=function(o,i,s){var a,l,c,u="",d=this.rules;for(a=0,l=o.length;a<l;a++)"inline"===(c=o[a].type)?u+=this.renderInline(o[a].children,i,s):void 0!==d[c]?u+=d[o[a].type](o,a,i,s,this):u+=this.renderToken(o,a,i,s);return u},o.exports=Renderer},fZFN:function(o,i,s){"use strict";var a=s("AGgm").unescapeAll;o.exports=function parseLinkTitle(o,i,s){var l,c,u=0,d=i,p={ok:!1,pos:0,lines:0,str:""};if(i>=s)return p;if(34!==(c=o.charCodeAt(i))&&39!==c&&40!==c)return p;for(i++,40===c&&(c=41);i<s;){if((l=o.charCodeAt(i))===c)return p.pos=i+1,p.lines=u,p.str=a(o.slice(d+1,i)),p.ok=!0,p;10===l?u++:92===l&&i+1<s&&(i++,10===o.charCodeAt(i)&&u++),i++}return p}},fjrl:function(o,i,s){"use strict";o.exports=function hexadecimal(o){var i="string"==typeof o?o.charCodeAt(0):o;return i>=97&&i<=102||i>=65&&i<=70||i>=48&&i<=57}},"fwF+":function(o,i,s){"use strict";function css(o){!function(o){var i=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;o.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+i.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+i.source+"$"),alias:"url"}}},selector:RegExp("[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+i.source+")*(?=\\s*\\{)"),string:{pattern:i,greedy:!0},property:/(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,important:/!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:,]/},o.languages.css.atrule.inside.rest=o.languages.css;var s=o.languages.markup;s&&(s.tag.addInlined("style","css"),o.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/(^|["'\s])style\s*=\s*(?:"[^"]*"|'[^']*')/i,lookbehind:!0,inside:{"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{style:{pattern:/(["'])[\s\S]+(?=["']$)/,lookbehind:!0,alias:"language-css",inside:o.languages.css},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},"attr-name":/^style/i}}},s.tag))}(o)}o.exports=css,css.displayName="css",css.aliases=[]},fwbU:function(o,i,s){"use strict";s.r(i),s.d(i,"keydownHandler",(function(){return keydownHandler})),s.d(i,"keymap",(function(){return keymap}));for(var a={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},l={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},c="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),u="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),d="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),p="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),f="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),m=c&&(p||+c[1]<57)||d&&p,g=0;g<10;g++)a[48+g]=a[96+g]=String(g);for(g=1;g<=24;g++)a[g+111]="F"+g;for(g=65;g<=90;g++)a[g]=String.fromCharCode(g+32),l[g]=String.fromCharCode(g);for(var v in a)l.hasOwnProperty(v)||(l[v]=a[v]);var y=s("UxO+"),b="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);function normalizeKeyName(o){var i,s,a,l,c=o.split(/-(?!$)/),u=c[c.length-1];"Space"==u&&(u=" ");for(var d=0;d<c.length-1;d++){var p=c[d];if(/^(cmd|meta|m)$/i.test(p))l=!0;else if(/^a(lt)?$/i.test(p))i=!0;else if(/^(c|ctrl|control)$/i.test(p))s=!0;else if(/^s(hift)?$/i.test(p))a=!0;else{if(!/^mod$/i.test(p))throw new Error("Unrecognized modifier name: "+p);b?l=!0:s=!0}}return i&&(u="Alt-"+u),s&&(u="Ctrl-"+u),l&&(u="Meta-"+u),a&&(u="Shift-"+u),u}function modifiers(o,i,s){return i.altKey&&(o="Alt-"+o),i.ctrlKey&&(o="Ctrl-"+o),i.metaKey&&(o="Meta-"+o),!1!==s&&i.shiftKey&&(o="Shift-"+o),o}function keymap(o){return new y.Plugin({props:{handleKeyDown:keydownHandler(o)}})}function keydownHandler(o){var i=function normalize(o){var i=Object.create(null);for(var s in o)i[normalizeKeyName(s)]=o[s];return i}(o);return function(o,s){var c,d=function keyName(o){var i=!(m&&(o.ctrlKey||o.altKey||o.metaKey)||(u||f)&&o.shiftKey&&o.key&&1==o.key.length)&&o.key||(o.shiftKey?l:a)[o.keyCode]||o.key||"Unidentified";return"Esc"==i&&(i="Escape"),"Del"==i&&(i="Delete"),"Left"==i&&(i="ArrowLeft"),"Up"==i&&(i="ArrowUp"),"Right"==i&&(i="ArrowRight"),"Down"==i&&(i="ArrowDown"),i}(s),p=1==d.length&&" "!=d,g=i[modifiers(d,s,!p)];if(g&&g(o.state,o.dispatch,o))return!0;if(p&&(s.shiftKey||s.altKey||s.metaKey||d.charCodeAt(0)>127)&&(c=a[s.keyCode])&&c!=d){var v=i[modifiers(c,s,!0)];if(v&&v(o.state,o.dispatch,o))return!0}else if(p&&s.shiftKey){var y=i[modifiers(d,s,!0)];if(y&&y(o.state,o.dispatch,o))return!0}return!1}}},"g0+v":function(o,i,s){"use strict";var a=s("CWsV"),l=s("AGgm").isSpace;function StateBlock(o,i,s,a){var c,u,d,p,f,m,g,v;for(this.src=o,this.md=i,this.env=s,this.tokens=a,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",v=!1,d=p=m=g=0,f=(u=this.src).length;p<f;p++){if(c=u.charCodeAt(p),!v){if(l(c)){m++,9===c?g+=4-g%4:g++;continue}v=!0}10!==c&&p!==f-1||(10!==c&&p++,this.bMarks.push(d),this.eMarks.push(p),this.tShift.push(m),this.sCount.push(g),this.bsCount.push(0),v=!1,m=0,g=0,d=p+1)}this.bMarks.push(u.length),this.eMarks.push(u.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}StateBlock.prototype.push=function(o,i,s){var l=new a(o,i,s);return l.block=!0,s<0&&this.level--,l.level=this.level,s>0&&this.level++,this.tokens.push(l),l},StateBlock.prototype.isEmpty=function isEmpty(o){return this.bMarks[o]+this.tShift[o]>=this.eMarks[o]},StateBlock.prototype.skipEmptyLines=function skipEmptyLines(o){for(var i=this.lineMax;o<i&&!(this.bMarks[o]+this.tShift[o]<this.eMarks[o]);o++);return o},StateBlock.prototype.skipSpaces=function skipSpaces(o){for(var i,s=this.src.length;o<s&&(i=this.src.charCodeAt(o),l(i));o++);return o},StateBlock.prototype.skipSpacesBack=function skipSpacesBack(o,i){if(o<=i)return o;for(;o>i;)if(!l(this.src.charCodeAt(--o)))return o+1;return o},StateBlock.prototype.skipChars=function skipChars(o,i){for(var s=this.src.length;o<s&&this.src.charCodeAt(o)===i;o++);return o},StateBlock.prototype.skipCharsBack=function skipCharsBack(o,i,s){if(o<=s)return o;for(;o>s;)if(i!==this.src.charCodeAt(--o))return o+1;return o},StateBlock.prototype.getLines=function getLines(o,i,s,a){var c,u,d,p,f,m,g,v=o;if(o>=i)return"";for(m=new Array(i-o),c=0;v<i;v++,c++){for(u=0,g=p=this.bMarks[v],f=v+1<i||a?this.eMarks[v]+1:this.eMarks[v];p<f&&u<s;){if(d=this.src.charCodeAt(p),l(d))9===d?u+=4-(u+this.bsCount[v])%4:u++;else{if(!(p-g<this.tShift[v]))break;u++}p++}m[c]=u>s?new Array(u-s+1).join(" ")+this.src.slice(p,f):this.src.slice(p,f)}return m.join("")},StateBlock.prototype.Token=a,o.exports=StateBlock},g40J:function(o,i,s){"use strict";function processDelimiters(o,i){var s,a,l,c,u,d,p,f,m={},g=i.length;for(s=0;s<g;s++)if((l=i[s]).length=l.length||0,l.close){for(m.hasOwnProperty(l.marker)||(m[l.marker]=[-1,-1,-1]),u=m[l.marker][l.length%3],d=-1,a=s-l.jump-1;a>u;a-=c.jump+1)if((c=i[a]).marker===l.marker&&(-1===d&&(d=a),c.open&&c.end<0&&c.level===l.level&&(p=!1,(c.close||l.open)&&(c.length+l.length)%3==0&&(c.length%3==0&&l.length%3==0||(p=!0)),!p))){f=a>0&&!i[a-1].open?i[a-1].jump+1:0,l.jump=s-a+f,l.open=!1,c.end=s,c.jump=f,c.close=!1,d=-1;break}-1!==d&&(m[l.marker][(l.length||0)%3]=d)}}o.exports=function link_pairs(o){var i,s=o.tokens_meta,a=o.tokens_meta.length;for(processDelimiters(0,o.delimiters),i=0;i<a;i++)s[i]&&s[i].delimiters&&processDelimiters(0,s[i].delimiters)}},gNPE:function(o,i,s){"use strict";var a=s("AGgm").isSpace;function getLine(o,i){var s=o.bMarks[i]+o.blkIndent,a=o.eMarks[i];return o.src.substr(s,a-s)}function escapedSplit(o){var i,s=[],a=0,l=o.length,c=0,u=0,d=!1,p=0;for(i=o.charCodeAt(a);a<l;)96===i?d?(d=!1,p=a):c%2==0&&(d=!0,p=a):124!==i||c%2!=0||d||(s.push(o.substring(u,a)),u=a+1),92===i?c++:c=0,++a===l&&d&&(d=!1,a=p+1),i=o.charCodeAt(a);return s.push(o.substring(u)),s}o.exports=function table(o,i,s,l){var c,u,d,p,f,m,g,v,y,b,k,w;if(i+2>s)return!1;if(f=i+1,o.sCount[f]<o.blkIndent)return!1;if(o.sCount[f]-o.blkIndent>=4)return!1;if((d=o.bMarks[f]+o.tShift[f])>=o.eMarks[f])return!1;if(124!==(c=o.src.charCodeAt(d++))&&45!==c&&58!==c)return!1;for(;d<o.eMarks[f];){if(124!==(c=o.src.charCodeAt(d))&&45!==c&&58!==c&&!a(c))return!1;d++}for(m=(u=getLine(o,i+1)).split("|"),y=[],p=0;p<m.length;p++){if(!(b=m[p].trim())){if(0===p||p===m.length-1)continue;return!1}if(!/^:?-+:?$/.test(b))return!1;58===b.charCodeAt(b.length-1)?y.push(58===b.charCodeAt(0)?"center":"right"):58===b.charCodeAt(0)?y.push("left"):y.push("")}if(-1===(u=getLine(o,i).trim()).indexOf("|"))return!1;if(o.sCount[i]-o.blkIndent>=4)return!1;if((g=(m=escapedSplit(u.replace(/^\||\|$/g,""))).length)>y.length)return!1;if(l)return!0;for((v=o.push("table_open","table",1)).map=k=[i,0],(v=o.push("thead_open","thead",1)).map=[i,i+1],(v=o.push("tr_open","tr",1)).map=[i,i+1],p=0;p<m.length;p++)(v=o.push("th_open","th",1)).map=[i,i+1],y[p]&&(v.attrs=[["style","text-align:"+y[p]]]),(v=o.push("inline","",0)).content=m[p].trim(),v.map=[i,i+1],v.children=[],v=o.push("th_close","th",-1);for(v=o.push("tr_close","tr",-1),v=o.push("thead_close","thead",-1),(v=o.push("tbody_open","tbody",1)).map=w=[i+2,0],f=i+2;f<s&&!(o.sCount[f]<o.blkIndent)&&-1!==(u=getLine(o,f).trim()).indexOf("|")&&!(o.sCount[f]-o.blkIndent>=4);f++){for(m=escapedSplit(u.replace(/^\||\|$/g,"")),v=o.push("tr_open","tr",1),p=0;p<g;p++)v=o.push("td_open","td",1),y[p]&&(v.attrs=[["style","text-align:"+y[p]]]),(v=o.push("inline","",0)).content=m[p]?m[p].trim():"",v.children=[],v=o.push("td_close","td",-1);v=o.push("tr_close","tr",-1)}return v=o.push("tbody_close","tbody",-1),v=o.push("table_close","table",-1),k[1]=w[1]=f,o.line=f,!0}},gQMU:function(o,i,s){var a=s("0ZTe")("toUpperCase");o.exports=a},gXrh:function(o,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const a=s("q1tI");i.default=function useViewportHeight(){const[o,i]=a.useState((()=>{var o;return(null===(o=window.visualViewport)||void 0===o?void 0:o.height)||window.innerHeight}));return a.useLayoutEffect((()=>{var o;const handleResize=()=>{i((()=>{var o;return(null===(o=window.visualViewport)||void 0===o?void 0:o.height)||window.innerHeight}))};return null===(o=window.visualViewport)||void 0===o||o.addEventListener("resize",handleResize),()=>{var o;null===(o=window.visualViewport)||void 0===o||o.removeEventListener("resize",handleResize)}}),[]),o}},hudd:function(o,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.findPlaceholder=void 0;const a=s("UxO+"),l=s("V2qZ"),c=new a.Plugin({state:{init:()=>l.DecorationSet.empty,apply(o,i){i=i.map(o.mapping,o.doc);const s=o.getMeta(this);if(s&&s.add){const a=document.createElement("div");a.className="image placeholder";const c=document.createElement("img");c.src=URL.createObjectURL(s.add.file),a.appendChild(c);const u=l.Decoration.widget(s.add.pos,a,{id:s.add.id});i=i.add(o.doc,[u])}else s&&s.remove&&(i=i.remove(i.find(null,null,(o=>o.id===s.remove.id))));return i}},props:{decorations(o){return this.getState(o)}}});i.default=c,i.findPlaceholder=function findPlaceholder(o,i){const s=c.getState(o).find(null,null,(o=>o.id===i));return s.length?s[0].from:null}},hyZr:function(o,i,s){"use strict";s.r(i),s.d(i,"HistoryState",(function(){return v})),s.d(i,"closeHistory",(function(){return closeHistory})),s.d(i,"history",(function(){return index_es_history})),s.d(i,"redo",(function(){return redo})),s.d(i,"redoDepth",(function(){return redoDepth})),s.d(i,"undo",(function(){return undo})),s.d(i,"undoDepth",(function(){return undoDepth}));var a=200,l=function RopeSequence(){};l.prototype.append=function append(o){return o.length?(o=l.from(o),!this.length&&o||o.length<a&&this.leafAppend(o)||this.length<a&&o.leafPrepend(this)||this.appendInner(o)):this},l.prototype.prepend=function prepend(o){return o.length?l.from(o).append(this):this},l.prototype.appendInner=function appendInner(o){return new u(this,o)},l.prototype.slice=function slice(o,i){return void 0===o&&(o=0),void 0===i&&(i=this.length),o>=i?l.empty:this.sliceInner(Math.max(0,o),Math.min(this.length,i))},l.prototype.get=function get(o){if(!(o<0||o>=this.length))return this.getInner(o)},l.prototype.forEach=function forEach(o,i,s){void 0===i&&(i=0),void 0===s&&(s=this.length),i<=s?this.forEachInner(o,i,s,0):this.forEachInvertedInner(o,i,s,0)},l.prototype.map=function map(o,i,s){void 0===i&&(i=0),void 0===s&&(s=this.length);var a=[];return this.forEach((function(i,s){return a.push(o(i,s))}),i,s),a},l.from=function from(o){return o instanceof l?o:o&&o.length?new c(o):l.empty};var c=function(o){function Leaf(i){o.call(this),this.values=i}o&&(Leaf.__proto__=o),Leaf.prototype=Object.create(o&&o.prototype),Leaf.prototype.constructor=Leaf;var i={length:{configurable:!0},depth:{configurable:!0}};return Leaf.prototype.flatten=function flatten(){return this.values},Leaf.prototype.sliceInner=function sliceInner(o,i){return 0==o&&i==this.length?this:new Leaf(this.values.slice(o,i))},Leaf.prototype.getInner=function getInner(o){return this.values[o]},Leaf.prototype.forEachInner=function forEachInner(o,i,s,a){for(var l=i;l<s;l++)if(!1===o(this.values[l],a+l))return!1},Leaf.prototype.forEachInvertedInner=function forEachInvertedInner(o,i,s,a){for(var l=i-1;l>=s;l--)if(!1===o(this.values[l],a+l))return!1},Leaf.prototype.leafAppend=function leafAppend(o){if(this.length+o.length<=a)return new Leaf(this.values.concat(o.flatten()))},Leaf.prototype.leafPrepend=function leafPrepend(o){if(this.length+o.length<=a)return new Leaf(o.flatten().concat(this.values))},i.length.get=function(){return this.values.length},i.depth.get=function(){return 0},Object.defineProperties(Leaf.prototype,i),Leaf}(l);l.empty=new c([]);var u=function(o){function Append(i,s){o.call(this),this.left=i,this.right=s,this.length=i.length+s.length,this.depth=Math.max(i.depth,s.depth)+1}return o&&(Append.__proto__=o),Append.prototype=Object.create(o&&o.prototype),Append.prototype.constructor=Append,Append.prototype.flatten=function flatten(){return this.left.flatten().concat(this.right.flatten())},Append.prototype.getInner=function getInner(o){return o<this.left.length?this.left.get(o):this.right.get(o-this.left.length)},Append.prototype.forEachInner=function forEachInner(o,i,s,a){var l=this.left.length;return!(i<l&&!1===this.left.forEachInner(o,i,Math.min(s,l),a))&&(!(s>l&&!1===this.right.forEachInner(o,Math.max(i-l,0),Math.min(this.length,s)-l,a+l))&&void 0)},Append.prototype.forEachInvertedInner=function forEachInvertedInner(o,i,s,a){var l=this.left.length;return!(i>l&&!1===this.right.forEachInvertedInner(o,i-l,Math.max(s,l)-l,a+l))&&(!(s<l&&!1===this.left.forEachInvertedInner(o,Math.min(i,l),s,a))&&void 0)},Append.prototype.sliceInner=function sliceInner(o,i){if(0==o&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(o,i):o>=s?this.right.slice(o-s,i-s):this.left.slice(o,s).append(this.right.slice(0,i-s))},Append.prototype.leafAppend=function leafAppend(o){var i=this.right.leafAppend(o);if(i)return new Append(this.left,i)},Append.prototype.leafPrepend=function leafPrepend(o){var i=this.left.leafPrepend(o);if(i)return new Append(i,this.right)},Append.prototype.appendInner=function appendInner(o){return this.left.depth>=Math.max(this.right.depth,o.depth)+1?new Append(this.left,new Append(this.right,o)):new Append(this,o)},Append}(l),d=l,p=s("CsC6"),f=s("UxO+"),m=function Branch(o,i){this.items=o,this.eventCount=i};m.prototype.popEvent=function popEvent(o,i){var s=this;if(0==this.eventCount)return null;for(var a,l,c=this.items.length;;c--){if(this.items.get(c-1).selection){--c;break}}i&&(a=this.remapping(c,this.items.length),l=a.maps.length);var u,d,p=o.tr,f=[],v=[];return this.items.forEach((function(o,i){if(!o.step)return a||(a=s.remapping(c,i+1),l=a.maps.length),l--,void v.push(o);if(a){v.push(new g(o.map));var y,b=o.step.map(a.slice(l));b&&p.maybeStep(b).doc&&(y=p.mapping.maps[p.mapping.maps.length-1],f.push(new g(y,null,null,f.length+v.length))),l--,y&&a.appendMap(y,l)}else p.maybeStep(o.step);return o.selection?(u=a?o.selection.map(a.slice(l)):o.selection,d=new m(s.items.slice(0,c).append(v.reverse().concat(f)),s.eventCount-1),!1):void 0}),this.items.length,0),{remaining:d,transform:p,selection:u}},m.prototype.addTransform=function addTransform(o,i,s,a){for(var l=[],c=this.eventCount,u=this.items,d=!a&&u.length?u.get(u.length-1):null,p=0;p<o.steps.length;p++){var f,v=o.steps[p].invert(o.docs[p]),b=new g(o.mapping.maps[p],v,i);(f=d&&d.merge(b))&&(b=f,p?l.pop():u=u.slice(0,u.length-1)),l.push(b),i&&(c++,i=null),a||(d=b)}var k=c-s.depth;return k>y&&(u=function cutOffEvents(o,i){var s;return o.forEach((function(o,a){if(o.selection&&0==i--)return s=a,!1})),o.slice(s)}(u,k),c-=k),new m(u.append(l),c)},m.prototype.remapping=function remapping(o,i){var s=new p.a;return this.items.forEach((function(i,a){var l=null!=i.mirrorOffset&&a-i.mirrorOffset>=o?s.maps.length-i.mirrorOffset:null;s.appendMap(i.map,l)}),o,i),s},m.prototype.addMaps=function addMaps(o){return 0==this.eventCount?this:new m(this.items.append(o.map((function(o){return new g(o)}))),this.eventCount)},m.prototype.rebased=function rebased(o,i){if(!this.eventCount)return this;var s=[],a=Math.max(0,this.items.length-i),l=o.mapping,c=o.steps.length,u=this.eventCount;this.items.forEach((function(o){o.selection&&u--}),a);var d=i;this.items.forEach((function(i){var a=l.getMirror(--d);if(null!=a){c=Math.min(c,a);var p=l.maps[a];if(i.step){var f=o.steps[a].invert(o.docs[a]),m=i.selection&&i.selection.map(l.slice(d+1,a));m&&u++,s.push(new g(p,f,m))}else s.push(new g(p))}}),a);for(var p=[],f=i;f<c;f++)p.push(new g(l.maps[f]));var v=this.items.slice(0,a).append(p).append(s),y=new m(v,u);return y.emptyItemCount()>500&&(y=y.compress(this.items.length-s.length)),y},m.prototype.emptyItemCount=function emptyItemCount(){var o=0;return this.items.forEach((function(i){i.step||o++})),o},m.prototype.compress=function compress(o){void 0===o&&(o=this.items.length);var i=this.remapping(0,o),s=i.maps.length,a=[],l=0;return this.items.forEach((function(c,u){if(u>=o)a.push(c),c.selection&&l++;else if(c.step){var d=c.step.map(i.slice(s)),p=d&&d.getMap();if(s--,p&&i.appendMap(p,s),d){var f=c.selection&&c.selection.map(i.slice(s));f&&l++;var m,v=new g(p.invert(),d,f),y=a.length-1;(m=a.length&&a[y].merge(v))?a[y]=m:a.push(v)}}else c.map&&s--}),this.items.length,0),new m(d.from(a.reverse()),l)},m.empty=new m(d.empty,0);var g=function Item(o,i,s,a){this.map=o,this.step=i,this.selection=s,this.mirrorOffset=a};g.prototype.merge=function merge(o){if(this.step&&o.step&&!o.selection){var i=o.step.merge(this.step);if(i)return new g(i.getMap().invert(),i,this.selection)}};var v=function HistoryState(o,i,s,a){this.done=o,this.undone=i,this.prevRanges=s,this.prevTime=a},y=20;function rangesFor(o){var i=[];return o.forEach((function(o,s,a,l){return i.push(a,l)})),i}function mapRanges(o,i){if(!o)return null;for(var s=[],a=0;a<o.length;a+=2){var l=i.map(o[a],1),c=i.map(o[a+1],-1);l<=c&&s.push(l,c)}return s}function histTransaction(o,i,s,a){var l=mustPreserveItems(i),c=w.get(i).spec.config,u=(a?o.undone:o.done).popEvent(i,l);if(u){var d=u.selection.resolve(u.transform.doc),p=(a?o.done:o.undone).addTransform(u.transform,i.selection.getBookmark(),c,l),f=new v(a?p:u.remaining,a?u.remaining:p,null,0);s(u.transform.setSelection(d).setMeta(w,{redo:a,historyState:f}).scrollIntoView())}}var b=!1,k=null;function mustPreserveItems(o){var i=o.plugins;if(k!=i){b=!1,k=i;for(var s=0;s<i.length;s++)if(i[s].spec.historyPreserveItems){b=!0;break}}return b}function closeHistory(o){return o.setMeta(S,!0)}var w=new f.PluginKey("history"),S=new f.PluginKey("closeHistory");function index_es_history(o){return o={depth:o&&o.depth||100,newGroupDelay:o&&o.newGroupDelay||500},new f.Plugin({key:w,state:{init:function init(){return new v(m.empty,m.empty,null,0)},apply:function apply(i,s,a){return function applyTransaction(o,i,s,a){var l,c=s.getMeta(w);if(c)return c.historyState;s.getMeta(S)&&(o=new v(o.done,o.undone,null,0));var u=s.getMeta("appendedTransaction");if(0==s.steps.length)return o;if(u&&u.getMeta(w))return u.getMeta(w).redo?new v(o.done.addTransform(s,null,a,mustPreserveItems(i)),o.undone,rangesFor(s.mapping.maps[s.steps.length-1]),o.prevTime):new v(o.done,o.undone.addTransform(s,null,a,mustPreserveItems(i)),null,o.prevTime);if(!1===s.getMeta("addToHistory")||u&&!1===u.getMeta("addToHistory"))return(l=s.getMeta("rebased"))?new v(o.done.rebased(s,l),o.undone.rebased(s,l),mapRanges(o.prevRanges,s.mapping),o.prevTime):new v(o.done.addMaps(s.mapping.maps),o.undone.addMaps(s.mapping.maps),mapRanges(o.prevRanges,s.mapping),o.prevTime);var d=0==o.prevTime||!u&&(o.prevTime<(s.time||0)-a.newGroupDelay||!function isAdjacentTo(o,i){if(!i)return!1;if(!o.docChanged)return!0;var s=!1;return o.mapping.maps[0].forEach((function(o,a){for(var l=0;l<i.length;l+=2)o<=i[l+1]&&a>=i[l]&&(s=!0)})),s}(s,o.prevRanges)),p=u?mapRanges(o.prevRanges,s.mapping):rangesFor(s.mapping.maps[s.steps.length-1]);return new v(o.done.addTransform(s,d?i.selection.getBookmark():null,a,mustPreserveItems(i)),m.empty,p,s.time)}(s,a,i,o)}},config:o})}function undo(o,i){var s=w.getState(o);return!(!s||0==s.done.eventCount)&&(i&&histTransaction(s,o,i,!1),!0)}function redo(o,i){var s=w.getState(o);return!(!s||0==s.undone.eventCount)&&(i&&histTransaction(s,o,i,!0),!0)}function undoDepth(o){var i=w.getState(o);return i?i.done.eventCount:0}function redoDepth(o){var i=w.getState(o);return i?i.undone.eventCount:0}},igri:function(o,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function getColumnIndex(o){if(!(o.isColSelection&&o.isColSelection()))return;const i=o.$from.path;return i[i.length-5]}},"ijE+":function(o,i,s){"use strict";o.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}},irsC:function(o,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const a=s("q1tI");i.default=function useMediaQuery(o){const[i,s]=a.useState(!1);return a.useEffect((()=>{if(window.matchMedia){const a=window.matchMedia(o);a.matches!==i&&s(a.matches);const listener=()=>{s(a.matches)};return a.addListener(listener),()=>a.removeListener(listener)}}),[i,o]),i}},jAMM:function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=s("+V57"),c=a(s("8CBE")),u=a(s("S5OW"));class OrderedList extends u.default{get name(){return"ordered_list"}get schema(){return{attrs:{order:{default:1}},content:"list_item+",group:"block",parseDOM:[{tag:"ol",getAttrs:o=>({order:o.hasAttribute("start")?parseInt(o.getAttribute("start")||"1",10):1})}],toDOM:o=>1===o.attrs.order?["ol",0]:["ol",{start:o.attrs.order},0]}}commands({type:o,schema:i}){return()=>c.default(o,i.nodes.list_item)}keys({type:o,schema:i}){return{"Shift-Ctrl-9":c.default(o,i.nodes.list_item)}}inputRules({type:o}){return[l.wrappingInputRule(/^(\d+)\.\s$/,o,(o=>({order:+o[1]})),((o,i)=>i.childCount+i.attrs.order===+o[1]))]}toMarkdown(o,i){const s=i.attrs.order||1,a=(""+(s+i.childCount-1)).length,l=o.repeat(" ",a+2);o.renderList(i,l,(i=>{const l=`${s+i}`;return o.repeat(" ",a-l.length)+l+". "}))}parseMarkdown(){return{block:"ordered_list"}}}i.default=OrderedList},jHpe:function(o,i,s){(function(i){var s=function(o){var i=/\blang(?:uage)?-([\w-]+)\b/i,s=0,a={manual:o.Prism&&o.Prism.manual,disableWorkerMessageHandler:o.Prism&&o.Prism.disableWorkerMessageHandler,util:{encode:function encode(o){return o instanceof Token?new Token(o.type,encode(o.content),o.alias):Array.isArray(o)?o.map(encode):o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(o){return Object.prototype.toString.call(o).slice(8,-1)},objId:function(o){return o.__id||Object.defineProperty(o,"__id",{value:++s}),o.__id},clone:function deepClone(o,i){var s,l;switch(i=i||{},a.util.type(o)){case"Object":if(l=a.util.objId(o),i[l])return i[l];for(var c in s={},i[l]=s,o)o.hasOwnProperty(c)&&(s[c]=deepClone(o[c],i));return s;case"Array":return l=a.util.objId(o),i[l]?i[l]:(s=[],i[l]=s,o.forEach((function(o,a){s[a]=deepClone(o,i)})),s);default:return o}},getLanguage:function(o){for(;o&&!i.test(o.className);)o=o.parentElement;return o?(o.className.match(i)||[,"none"])[1].toLowerCase():"none"},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(a){var o=(/at [^(\r\n]*\((.*):.+:.+\)$/i.exec(a.stack)||[])[1];if(o){var i=document.getElementsByTagName("script");for(var s in i)if(i[s].src==o)return i[s]}return null}},isActive:function(o,i,s){for(var a="no-"+i;o;){var l=o.classList;if(l.contains(i))return!0;if(l.contains(a))return!1;o=o.parentElement}return!!s}},languages:{extend:function(o,i){var s=a.util.clone(a.languages[o]);for(var l in i)s[l]=i[l];return s},insertBefore:function(o,i,s,l){var c=(l=l||a.languages)[o],u={};for(var d in c)if(c.hasOwnProperty(d)){if(d==i)for(var p in s)s.hasOwnProperty(p)&&(u[p]=s[p]);s.hasOwnProperty(d)||(u[d]=c[d])}var f=l[o];return l[o]=u,a.languages.DFS(a.languages,(function(i,s){s===f&&i!=o&&(this[i]=u)})),u},DFS:function DFS(o,i,s,l){l=l||{};var c=a.util.objId;for(var u in o)if(o.hasOwnProperty(u)){i.call(o,u,o[u],s||u);var d=o[u],p=a.util.type(d);"Object"!==p||l[c(d)]?"Array"!==p||l[c(d)]||(l[c(d)]=!0,DFS(d,i,u,l)):(l[c(d)]=!0,DFS(d,i,null,l))}}},plugins:{},highlightAll:function(o,i){a.highlightAllUnder(document,o,i)},highlightAllUnder:function(o,i,s){var l={callback:s,container:o,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};a.hooks.run("before-highlightall",l),l.elements=Array.prototype.slice.apply(l.container.querySelectorAll(l.selector)),a.hooks.run("before-all-elements-highlight",l);for(var c,u=0;c=l.elements[u++];)a.highlightElement(c,!0===i,l.callback)},highlightElement:function(s,l,c){var u=a.util.getLanguage(s),d=a.languages[u];s.className=s.className.replace(i,"").replace(/\s+/g," ")+" language-"+u;var p=s.parentElement;p&&"pre"===p.nodeName.toLowerCase()&&(p.className=p.className.replace(i,"").replace(/\s+/g," ")+" language-"+u);var f={element:s,language:u,grammar:d,code:s.textContent};function insertHighlightedCode(o){f.highlightedCode=o,a.hooks.run("before-insert",f),f.element.innerHTML=f.highlightedCode,a.hooks.run("after-highlight",f),a.hooks.run("complete",f),c&&c.call(f.element)}if(a.hooks.run("before-sanity-check",f),!f.code)return a.hooks.run("complete",f),void(c&&c.call(f.element));if(a.hooks.run("before-highlight",f),f.grammar)if(l&&o.Worker){var m=new Worker(a.filename);m.onmessage=function(o){insertHighlightedCode(o.data)},m.postMessage(JSON.stringify({language:f.language,code:f.code,immediateClose:!0}))}else insertHighlightedCode(a.highlight(f.code,f.grammar,f.language));else insertHighlightedCode(a.util.encode(f.code))},highlight:function(o,i,s){var l={code:o,grammar:i,language:s};return a.hooks.run("before-tokenize",l),l.tokens=a.tokenize(l.code,l.grammar),a.hooks.run("after-tokenize",l),Token.stringify(a.util.encode(l.tokens),l.language)},tokenize:function(o,i){var s=i.rest;if(s){for(var a in s)i[a]=s[a];delete i.rest}var l=new LinkedList;return addAfter(l,l.head,o),matchGrammar(o,l,i,l.head,0),function toArray(o){var i=[],s=o.head.next;for(;s!==o.tail;)i.push(s.value),s=s.next;return i}(l)},hooks:{all:{},add:function(o,i){var s=a.hooks.all;s[o]=s[o]||[],s[o].push(i)},run:function(o,i){var s=a.hooks.all[o];if(s&&s.length)for(var l,c=0;l=s[c++];)l(i)}},Token:Token};function Token(o,i,s,a){this.type=o,this.content=i,this.alias=s,this.length=0|(a||"").length}function matchPattern(o,i,s,a){o.lastIndex=i;var l=o.exec(s);if(l&&a&&l[1]){var c=l[1].length;l.index+=c,l[0]=l[0].slice(c)}return l}function matchGrammar(o,i,s,l,c,u){for(var d in s)if(s.hasOwnProperty(d)&&s[d]){var p=s[d];p=Array.isArray(p)?p:[p];for(var f=0;f<p.length;++f){if(u&&u.cause==d+","+f)return;var m=p[f],g=m.inside,v=!!m.lookbehind,y=!!m.greedy,b=m.alias;if(y&&!m.pattern.global){var k=m.pattern.toString().match(/[imsuy]*$/)[0];m.pattern=RegExp(m.pattern.source,k+"g")}for(var w=m.pattern||m,S=l.next,x=c;S!==i.tail&&!(u&&x>=u.reach);x+=S.value.length,S=S.next){var C=S.value;if(i.length>o.length)return;if(!(C instanceof Token)){var _,O=1;if(y){if(!(_=matchPattern(w,x,o,v)))break;var M=_.index,A=_.index+_[0].length,E=x;for(E+=S.value.length;M>=E;)E+=(S=S.next).value.length;if(x=E-=S.value.length,S.value instanceof Token)continue;for(var T=S;T!==i.tail&&(E<A||"string"==typeof T.value);T=T.next)O++,E+=T.value.length;O--,C=o.slice(x,E),_.index-=x}else if(!(_=matchPattern(w,0,C,v)))continue;M=_.index;var D=_[0],I=C.slice(0,M),N=C.slice(M+D.length),R=x+C.length;u&&R>u.reach&&(u.reach=R);var P=S.prev;I&&(P=addAfter(i,P,I),x+=I.length),removeRange(i,P,O),S=addAfter(i,P,new Token(d,g?a.tokenize(D,g):D,b,D)),N&&addAfter(i,S,N),O>1&&matchGrammar(o,i,s,S.prev,x,{cause:d+","+f,reach:R})}}}}}function LinkedList(){var o={value:null,prev:null,next:null},i={value:null,prev:o,next:null};o.next=i,this.head=o,this.tail=i,this.length=0}function addAfter(o,i,s){var a=i.next,l={value:s,prev:i,next:a};return i.next=l,a.prev=l,o.length++,l}function removeRange(o,i,s){for(var a=i.next,l=0;l<s&&a!==o.tail;l++)a=a.next;i.next=a,a.prev=i,o.length-=l}if(o.Prism=a,Token.stringify=function stringify(o,i){if("string"==typeof o)return o;if(Array.isArray(o)){var s="";return o.forEach((function(o){s+=stringify(o,i)})),s}var l={type:o.type,content:stringify(o.content,i),tag:"span",classes:["token",o.type],attributes:{},language:i},c=o.alias;c&&(Array.isArray(c)?Array.prototype.push.apply(l.classes,c):l.classes.push(c)),a.hooks.run("wrap",l);var u="";for(var d in l.attributes)u+=" "+d+'="'+(l.attributes[d]||"").replace(/"/g,"&quot;")+'"';return"<"+l.tag+' class="'+l.classes.join(" ")+'"'+u+">"+l.content+"</"+l.tag+">"},!o.document)return o.addEventListener?(a.disableWorkerMessageHandler||o.addEventListener("message",(function(i){var s=JSON.parse(i.data),l=s.language,c=s.code,u=s.immediateClose;o.postMessage(a.highlight(c,a.languages[l],l)),u&&o.close()}),!1),a):a;var l=a.util.currentScript();function highlightAutomaticallyCallback(){a.manual||a.highlightAll()}if(l&&(a.filename=l.src,l.hasAttribute("data-manual")&&(a.manual=!0)),!a.manual){var c=document.readyState;"loading"===c||"interactive"===c&&l&&l.defer?document.addEventListener("DOMContentLoaded",highlightAutomaticallyCallback):window.requestAnimationFrame?window.requestAnimationFrame(highlightAutomaticallyCallback):window.setTimeout(highlightAutomaticallyCallback,16)}return a}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});o.exports&&(o.exports=s),void 0!==i&&(i.Prism=s)}).call(this,s("yLpj"))},jMYz:function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=s("ABBN"),c=s("UxO+"),u=s("+V57"),d=a(s("KvXG")),p=a(s("/Bf7")),f=/\[(.+)]\((\S+)\)/;function isPlainURL(o,i,s,a){if(o.attrs.title||!/^\w+:/.test(o.attrs.href))return!1;const l=i.child(s+(a<0?-1:0));if(!l.isText||l.text!==o.attrs.href||l.marks[l.marks.length-1]!==o)return!1;if(s===(a<0?1:i.childCount-1))return!0;const c=i.child(s+(a<0?-2:1));return!o.isInSet(c.marks)}class Link extends d.default{get name(){return"link"}get schema(){return{attrs:{href:{default:""}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:o=>({href:o.getAttribute("href")})}],toDOM:o=>["a",Object.assign(Object.assign({},o.attrs),{rel:"noopener noreferrer nofollow"}),0]}}inputRules({type:o}){return[new u.InputRule(f,((i,s,a,l)=>{const[c,u,d]=s,{tr:p}=i;return c&&p.replaceWith(a,l,this.editor.schema.text(u)).addMark(a,a+u.length,o.create({href:d})),p}))]}commands({type:o}){return({href:i}={href:""})=>l.toggleMark(o,{href:i})}keys({type:o}){return{"Mod-k":(i,s)=>i.selection.empty?(this.options.onKeyboardShortcut(),!0):l.toggleMark(o,{href:""})(i,s)}}get plugins(){return[new c.Plugin({props:{handleDOMEvents:{mouseover:(o,i)=>!!(i.target instanceof HTMLAnchorElement&&!i.target.className.includes("ProseMirror-widget")&&this.options.onHoverLink)&&this.options.onHoverLink(i),click:(o,i)=>{if(o.props.editable&&o.props.editable(o.state)&&!p.default(i))return!1;if(i.target instanceof HTMLAnchorElement){const o=i.target.href||(i.target.parentNode instanceof HTMLAnchorElement?i.target.parentNode.href:"");if(o.startsWith("#")&&this.options.onClickHashtag)return i.stopPropagation(),i.preventDefault(),this.options.onClickHashtag(o,i),!0;if(this.options.onClickLink)return i.stopPropagation(),i.preventDefault(),this.options.onClickLink(o,i),!0}return!1}}}})]}get toMarkdown(){return{open:(o,i,s,a)=>isPlainURL(i,s,a,1)?"<":"[",close:(o,i,s,a)=>isPlainURL(i,s,a,-1)?">":"]("+o.esc(i.attrs.href)+(i.attrs.title?" "+o.quote(i.attrs.title):"")+")"}}parseMarkdown(){return{mark:"link",getAttrs:o=>({href:o.attrGet("href"),title:o.attrGet("title")||null})}}}i.default=Link},jQOk:function(o,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function isUrl(o){if(o.match(/\n/))return!1;try{return""!==new URL(o).hostname}catch(o){return!1}}},jzd5:function(o,i,s){"use strict";var a={};function decode(o,i){var s;return"string"!=typeof i&&(i=decode.defaultChars),s=function getDecodeCache(o){var i,s,l=a[o];if(l)return l;for(l=a[o]=[],i=0;i<128;i++)s=String.fromCharCode(i),l.push(s);for(i=0;i<o.length;i++)l[s=o.charCodeAt(i)]="%"+("0"+s.toString(16).toUpperCase()).slice(-2);return l}(i),o.replace(/(%[a-f0-9]{2})+/gi,(function(o){var i,a,l,c,u,d,p,f="";for(i=0,a=o.length;i<a;i+=3)(l=parseInt(o.slice(i+1,i+3),16))<128?f+=s[l]:192==(224&l)&&i+3<a&&128==(192&(c=parseInt(o.slice(i+4,i+6),16)))?(f+=(p=l<<6&1984|63&c)<128?"��":String.fromCharCode(p),i+=3):224==(240&l)&&i+6<a&&(c=parseInt(o.slice(i+4,i+6),16),u=parseInt(o.slice(i+7,i+9),16),128==(192&c)&&128==(192&u))?(f+=(p=l<<12&61440|c<<6&4032|63&u)<2048||p>=55296&&p<=57343?"���":String.fromCharCode(p),i+=6):240==(248&l)&&i+9<a&&(c=parseInt(o.slice(i+4,i+6),16),u=parseInt(o.slice(i+7,i+9),16),d=parseInt(o.slice(i+10,i+12),16),128==(192&c)&&128==(192&u)&&128==(192&d))?((p=l<<18&1835008|c<<12&258048|u<<6&4032|63&d)<65536||p>1114111?f+="����":(p-=65536,f+=String.fromCharCode(55296+(p>>10),56320+(1023&p))),i+=9):f+="�";return f}))}decode.defaultChars=";/?:@&=+$,#",decode.componentChars="",o.exports=decode},kiyR:function(o,i,s){"use strict";function postProcess(o,i){var s,a,l,c,u,d=[],p=i.length;for(s=0;s<p;s++)126===(l=i[s]).marker&&-1!==l.end&&(c=i[l.end],(u=o.tokens[l.token]).type="s_open",u.tag="s",u.nesting=1,u.markup="~~",u.content="",(u=o.tokens[c.token]).type="s_close",u.tag="s",u.nesting=-1,u.markup="~~",u.content="","text"===o.tokens[c.token-1].type&&"~"===o.tokens[c.token-1].content&&d.push(c.token-1));for(;d.length;){for(a=(s=d.pop())+1;a<o.tokens.length&&"s_close"===o.tokens[a].type;)a++;s!==--a&&(u=o.tokens[a],o.tokens[a]=o.tokens[s],o.tokens[s]=u)}}o.exports.tokenize=function strikethrough(o,i){var s,a,l,c,u=o.pos,d=o.src.charCodeAt(u);if(i)return!1;if(126!==d)return!1;if(l=(a=o.scanDelims(o.pos,!0)).length,c=String.fromCharCode(d),l<2)return!1;for(l%2&&(o.push("text","",0).content=c,l--),s=0;s<l;s+=2)o.push("text","",0).content=c+c,o.delimiters.push({marker:d,length:0,jump:s,token:o.tokens.length-1,end:-1,open:a.can_open,close:a.can_close});return o.pos+=a.length,!0},o.exports.postProcess=function strikethrough(o){var i,s=o.tokens_meta,a=o.tokens_meta.length;for(postProcess(o,o.delimiters),i=0;i<a;i++)s[i]&&s[i].delimiters&&postProcess(o,s[i].delimiters)}},kkDf:function(o,i,s){"use strict";var a=this&&this.__createBinding||(Object.create?function(o,i,s,a){void 0===a&&(a=s),Object.defineProperty(o,a,{enumerable:!0,get:function(){return i[s]}})}:function(o,i,s,a){void 0===a&&(a=s),o[a]=i[s]}),l=this&&this.__setModuleDefault||(Object.create?function(o,i){Object.defineProperty(o,"default",{enumerable:!0,value:i})}:function(o,i){o.default=i}),c=this&&this.__importStar||function(o){if(o&&o.__esModule)return o;var i={};if(null!=o)for(var s in o)"default"!==s&&Object.prototype.hasOwnProperty.call(o,s)&&a(i,o,s);return l(i,o),i},u=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const d=c(s("q1tI")),p=s("7OqA"),f=u(s("meX5")),m=u(s("irsC")),g=u(s("gXrh")),v=u(s("vOnD")),y="undefined"==typeof window,b={left:-1e3,top:0,offset:0,visible:!1};function FloatingToolbar(o){const i=o.forwardedRef||d.createRef(),[s,a]=d.useState(!1),l=function usePosition({menuRef:o,isSelectingText:i,props:s}){const{view:a,active:l}=s,{selection:c}=a.state,{width:u,height:d}=f.default(o),p=g.default(),v=m.default("(hover: none) and (pointer: coarse)");if(!l||!u||!d||y||i)return b;if(v&&p)return{left:0,right:0,top:p-d,offset:0,visible:!0};let k,w;try{k=a.coordsAtPos(c.from),w=a.coordsAtPos(c.to,-1)}catch(o){return console.warn(o),b}const S={top:Math.min(k.top,w.top),bottom:Math.max(k.bottom,w.bottom),left:Math.min(k.left,w.left),right:Math.max(k.right,w.right)},x=c.isColSelection&&c.isColSelection(),C=c.isRowSelection&&c.isRowSelection();if(x){const{node:o}=a.domAtPos(c.from),{width:i}=o.getBoundingClientRect();S.top-=20,S.right=S.left+i}if(C&&(S.right=S.left=S.left-18),c.node&&"image"===c.node.type.name){const o=a.nodeDOM(c.from).getElementsByTagName("img")[0],{left:i,top:s,width:l}=o.getBoundingClientRect();return{left:Math.round(i+l/2+window.scrollX-u/2),top:Math.round(s+window.scrollY-d),offset:0,visible:!0}}{const o=Math.abs(S.right-S.left)/2,i=S.left+o,s=12,a=Math.min(window.innerWidth-u-s,Math.max(s,i-u/2)),l=Math.min(window.innerHeight-d-s,Math.max(s,S.top-d)),c=a-(i-u/2);return{left:Math.round(a+window.scrollX),top:Math.round(l+window.scrollY),offset:Math.round(c),visible:!0}}}({menuRef:i,isSelectingText:s,props:o});return d.useEffect((()=>{const handleMouseDown=()=>{o.active||a(!0)},handleMouseUp=()=>{a(!1)};return window.addEventListener("mousedown",handleMouseDown),window.addEventListener("mouseup",handleMouseUp),()=>{window.removeEventListener("mousedown",handleMouseDown),window.removeEventListener("mouseup",handleMouseUp)}}),[o.active]),d.createElement(p.Portal,null,d.createElement(k,{active:o.active&&l.visible,ref:i,offset:l.offset,style:{top:`${l.top}px`,left:`${l.left}px`}},l.visible&&o.children))}const k=v.default.div`
  will-change: opacity, transform;
  padding: 8px 16px;
  position: absolute;
  z-index: ${o=>o.theme.zIndex+100};
  opacity: 0;
  background-color: ${o=>o.theme.toolbarBackground};
  border-radius: 4px;
  transform: scale(0.95);
  transition: opacity 150ms cubic-bezier(0.175, 0.885, 0.32, 1.275),
    transform 150ms cubic-bezier(0.175, 0.885, 0.32, 1.275);
  transition-delay: 150ms;
  line-height: 0;
  height: 40px;
  box-sizing: border-box;
  pointer-events: none;
  white-space: nowrap;

  &::before {
    content: "";
    display: block;
    width: 24px;
    height: 24px;
    transform: translateX(-50%) rotate(45deg);
    background: ${o=>o.theme.toolbarBackground};
    border-radius: 3px;
    z-index: -1;
    position: absolute;
    bottom: -2px;
    left: calc(50% - ${o=>o.offset||0}px);
  }

  * {
    box-sizing: border-box;
  }

  ${({active:o})=>o&&"\n    transform: translateY(-6px) scale(1);\n    pointer-events: all;\n    opacity: 1;\n  "};

  @media print {
    display: none;
  }

  @media (hover: none) and (pointer: coarse) {
    &:before {
      display: none;
    }

    transition: opacity 150ms cubic-bezier(0.175, 0.885, 0.32, 1.275);
    transform: scale(1);
    border-radius: 0;
    width: 100vw;
    position: fixed;
  }
`;i.default=d.forwardRef((function FloatingToolbarWithForwardedRef(o,i){return d.createElement(FloatingToolbar,Object.assign({},o,{forwardedRef:i}))}))},ky0j:function(o,i,s){"use strict";var a=s("AGgm").normalizeReference,l=s("AGgm").isSpace;o.exports=function image(o,i){var s,c,u,d,p,f,m,g,v,y,b,k,w,S="",x=o.pos,C=o.posMax;if(33!==o.src.charCodeAt(o.pos))return!1;if(91!==o.src.charCodeAt(o.pos+1))return!1;if(f=o.pos+2,(p=o.md.helpers.parseLinkLabel(o,o.pos+1,!1))<0)return!1;if((m=p+1)<C&&40===o.src.charCodeAt(m)){for(m++;m<C&&(c=o.src.charCodeAt(m),l(c)||10===c);m++);if(m>=C)return!1;for(w=m,(v=o.md.helpers.parseLinkDestination(o.src,m,o.posMax)).ok&&(S=o.md.normalizeLink(v.str),o.md.validateLink(S)?m=v.pos:S=""),w=m;m<C&&(c=o.src.charCodeAt(m),l(c)||10===c);m++);if(v=o.md.helpers.parseLinkTitle(o.src,m,o.posMax),m<C&&w!==m&&v.ok)for(y=v.str,m=v.pos;m<C&&(c=o.src.charCodeAt(m),l(c)||10===c);m++);else y="";if(m>=C||41!==o.src.charCodeAt(m))return o.pos=x,!1;m++}else{if(void 0===o.env.references)return!1;if(m<C&&91===o.src.charCodeAt(m)?(w=m+1,(m=o.md.helpers.parseLinkLabel(o,m))>=0?d=o.src.slice(w,m++):m=p+1):m=p+1,d||(d=o.src.slice(f,p)),!(g=o.env.references[a(d)]))return o.pos=x,!1;S=g.href,y=g.title}return i||(u=o.src.slice(f,p),o.md.inline.parse(u,o.md,o.env,k=[]),(b=o.push("image","img",0)).attrs=s=[["src",S],["alt",""]],b.children=k,b.content=u,y&&s.push(["title",y])),o.pos=m,o.posMax=C,!0}},l0hw:function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=s("ABBN"),c=a(s("S5OW"));class Paragraph extends c.default{get name(){return"paragraph"}get schema(){return{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:()=>["p",0]}}keys({type:o}){return{"Shift-Ctrl-0":l.setBlockType(o)}}commands({type:o}){return()=>l.setBlockType(o)}toMarkdown(o,i){""!==i.textContent.trim()||0!==i.childCount||o.inTable?(o.renderInline(i),o.closeBlock(i)):o.write("\\\n")}parseMarkdown(){return{block:"paragraph"}}}i.default=Paragraph},ljbA:function(o,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.MarkdownSerializerState=i.MarkdownSerializer=void 0;i.MarkdownSerializer=class MarkdownSerializer{constructor(o,i){this.nodes=o,this.marks=i}serialize(o,i){const s=new MarkdownSerializerState(this.nodes,this.marks,i);return s.renderContent(o),s.out}};class MarkdownSerializerState{constructor(o,i,s){this.nodes=o,this.marks=i,this.delim=this.out="",this.closed=!1,this.inTightList=!1,this.options=s||{},void 0===this.options.tightLists&&(this.options.tightLists=!0)}flushClose(o){if(this.closed){if(this.atBlank()||(this.out+="\n"),null==o&&(o=2),o>1){let i=this.delim;const s=/\s+$/.exec(i);s&&(i=i.slice(0,i.length-s[0].length));for(let s=1;s<o;s++)this.out+=i+"\n"}this.closed=!1}}wrapBlock(o,i,s,a){const l=this.delim;this.write(i||o),this.delim+=o,a(),this.delim=l,this.closeBlock(s)}atBlank(){return/(^|\n)$/.test(this.out)}ensureNewLine(){this.atBlank()||(this.out+="\n")}write(o){this.flushClose(),this.delim&&this.atBlank()&&(this.out+=this.delim),o&&(this.out+=o)}closeBlock(o){this.closed=o}text(o,i){const s=o.split("\n");for(let o=0;o<s.length;o++){const a=this.atBlank()||this.closed;this.write(),this.out+=!1!==i?this.esc(s[o],a):s[o],o!==s.length-1&&(this.out+="\n")}}render(o,i,s){if("number"==typeof i)throw new Error("!");this.nodes[o.type.name](this,o,i,s)}renderContent(o){o.forEach(((i,s,a)=>this.render(i,o,a)))}renderInline(o){const i=[];let s="";const progress=(a,l,c)=>{let u=a?a.marks:[];a&&"hard_break"===a.type.name&&(u=u.filter((i=>{if(c+1===o.childCount)return!1;const s=o.child(c+1);return i.isInSet(s.marks)&&(!s.isText||/\S/.test(s.text))})));let d=s;if(s="",a&&a.isText&&u.some((o=>{const i=this.marks[o.type.name];return i&&i.expelEnclosingWhitespace}))){const[o,l,c,p]=/^(\s*)(.*?)(\s*)$/m.exec(a.text);d+=l,s=p,(l||p)&&((a=c?a.withText(c):null)||(u=i))}const p=u.length&&u[u.length-1],f=p&&!1===this.marks[p.type.name].escape,m=u.length-(f?1:0);e:for(let o=0;o<m;o++){const s=u[o];if(!this.marks[s.type.name].mixable)break;for(let a=0;a<i.length;a++){const l=i[a];if(!this.marks[l.type.name].mixable)break;if(s.eq(l)){o>a?u=u.slice(0,a).concat(s).concat(u.slice(a,o)).concat(u.slice(o+1,m)):a>o&&(u=u.slice(0,o).concat(u.slice(o+1,a)).concat(s).concat(u.slice(a,m)));continue e}}}let g=0;for(;g<Math.min(i.length,m)&&u[g].eq(i[g]);)++g;for(;g<i.length;)this.text(this.markString(i.pop(),!1,o,c),!1);if(d&&this.text(d),a){for(;i.length<m;){const s=u[i.length];i.push(s),this.text(this.markString(s,!0,o,c),!1)}f&&a.isText?this.text(this.markString(p,!0,o,c)+a.text+this.markString(p,!1,o,c+1),!1):this.render(a,o,c)}};o.forEach(progress),progress(null,0,o.childCount)}renderList(o,i,s){this.closed&&this.closed.type===o.type?this.flushClose(3):this.inTightList&&this.flushClose(1);const a=void 0!==o.attrs.tight?o.attrs.tight:this.options.tightLists,l=this.inTightList,c=this.inList;this.inList=!0,this.inTightList=a,o.forEach(((l,c,u)=>{u&&a&&this.flushClose(1),this.wrapBlock(i,s(u),o,(()=>this.render(l,o,u)))})),this.inList=c,this.inTightList=l}renderTable(o){this.flushClose(1);let i="";const s=this.inTable;this.inTable=!0,this.out+="\n",o.forEach(((o,s,a)=>{i&&(this.out+=`${i}|\n`,i=void 0),o.forEach(((s,l,c)=>{this.out+=0===c?"| ":" | ",s.forEach((i=>{""===i.textContent&&0===i.content.size?this.out+="  ":(this.closed=!1,this.render(i,o,c))})),0===a&&("center"===s.attrs.alignment?i+="|:---:":"left"===s.attrs.alignment?i+="|:---":"right"===s.attrs.alignment?i+="|---:":i+="|----")})),this.out+=" |\n"})),this.inTable=s}esc(o="",i){return o=o.replace(/[`*\\~\[\]]/g,"\\$&"),i&&(o=o.replace(/^[:#\-*+]/,"\\$&").replace(/^(\d+)\./,"$1\\.")),this.inTable&&(o=o.replace(/\|/gi,"\\$&")),o}quote(o){const i=-1===o.indexOf('"')?'""':-1===o.indexOf("'")?"''":"()";return i[0]+o+i[1]}repeat(o,i){let s="";for(let a=0;a<i;a++)s+=o;return s}markString(o,i,s,a){const l=this.marks[o.type.name],c=i?l.open:l.close;return"string"==typeof c?c:c(this,o,s,a)}getEnclosingWhitespace(o){return{leading:(o.match(/^(\s+)/)||[])[0],trailing:(o.match(/(\s+)$/)||[])[0]}}}i.MarkdownSerializerState=MarkdownSerializerState},lkDC:function(o,i,s){"use strict";var a=this&&this.__createBinding||(Object.create?function(o,i,s,a){void 0===a&&(a=s),Object.defineProperty(o,a,{enumerable:!0,get:function(){return i[s]}})}:function(o,i,s,a){void 0===a&&(a=s),o[a]=i[s]}),l=this&&this.__setModuleDefault||(Object.create?function(o,i){Object.defineProperty(o,"default",{enumerable:!0,value:i})}:function(o,i){o.default=i}),c=this&&this.__importStar||function(o){if(o&&o.__esModule)return o;var i={};if(null!=o)for(var s in o)"default"!==s&&Object.prototype.hasOwnProperty.call(o,s)&&a(i,o,s);return l(i,o),i},u=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const d=s("UxO+"),p=u(s("+QRC")),f=s("V2qZ"),m=s("+V57"),g=s("ABBN"),v=u(s("adXP")),y=u(s("LwF5")),b=c(s("S+IR")),k=u(s("S5OW")),w=s("rQ0s");class Heading extends k.default{constructor(){super(...arguments),this.className="heading-name",this.handleFoldContent=o=>{o.preventDefault();const{view:i}=this.editor,{tr:s}=i.state,{top:a,left:l}=o.target.getBoundingClientRect(),c=i.posAtCoords({top:a,left:l});if(c){const o=i.state.doc.nodeAt(c.inside);if(o){const a=!o.attrs.collapsed,l=s.setNodeMarkup(c.inside,void 0,Object.assign(Object.assign({},o.attrs),{collapsed:a})),u=b.headingToPersistenceKey(o,this.editor.props.id);a?null===localStorage||void 0===localStorage||localStorage.setItem(u,"collapsed"):null===localStorage||void 0===localStorage||localStorage.removeItem(u),i.dispatch(l)}}},this.handleCopyLink=o=>{const i=o.currentTarget.parentNode.parentNode.previousSibling;if(!i.className.includes(this.className))throw new Error("Did not find anchor as previous sibling of heading");const s=`#${i.id}`,a=window.location.href.split("#")[0];p.default(a+s),this.options.onShowToast&&this.options.onShowToast(this.options.dictionary.linkCopied,w.ToastType.Info)}}get name(){return"heading"}get defaultOptions(){return{levels:[1,2,3,4],collapsed:void 0}}get schema(){return{attrs:{level:{default:1},collapsed:{default:void 0}},content:"inline*",group:"block",defining:!0,draggable:!1,parseDOM:this.options.levels.map((o=>({tag:`h${o}`,attrs:{level:o},contentElement:"span"}))),toDOM:o=>{const i=document.createElement("button");i.innerText="#",i.type="button",i.className="heading-anchor",i.contentEditable="false",i.addEventListener("click",(o=>this.handleCopyLink(o)));const s=document.createElement("button");return s.innerText="",s.innerHTML='<svg fill="currentColor" width="12" height="24" viewBox="6 0 12 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.23823905,10.6097108 L11.207376,14.4695888 L11.207376,14.4695888 C11.54411,14.907343 12.1719566,14.989236 12.6097108,14.652502 C12.6783439,14.5997073 12.7398293,14.538222 12.792624,14.4695888 L15.761761,10.6097108 L15.761761,10.6097108 C16.0984949,10.1719566 16.0166019,9.54410997 15.5788477,9.20737601 C15.4040391,9.07290785 15.1896811,9 14.969137,9 L9.03086304,9 L9.03086304,9 C8.47857829,9 8.03086304,9.44771525 8.03086304,10 C8.03086304,10.2205442 8.10377089,10.4349022 8.23823905,10.6097108 Z" /></svg>',s.type="button",s.className="heading-fold "+(o.attrs.collapsed?"collapsed":""),s.contentEditable="false",s.addEventListener("click",(o=>this.handleFoldContent(o))),[`h${o.attrs.level+(this.options.offset||0)}`,["span",{class:"heading-actions "+(o.attrs.collapsed?"collapsed":"")},i,s],["span",{class:"heading-content"},0]]}}}toMarkdown(o,i){o.write(o.repeat("#",i.attrs.level)+" "),o.renderInline(i),o.closeBlock(i)}parseMarkdown(){return{block:"heading",getAttrs:o=>({level:+o.tag.slice(1)})}}commands({type:o,schema:i}){return s=>y.default(o,i.nodes.paragraph,s)}keys({type:o}){const i=this.options.levels.reduce(((i,s)=>Object.assign(Object.assign({},i),{[`Shift-Ctrl-${s}`]:g.setBlockType(o,{level:s})})),{});return Object.assign(Object.assign({},i),{Backspace:v.default(o)})}get plugins(){const getAnchors=o=>{const i=[],s={};return o.descendants(((o,a)=>{if(o.type.name!==this.name)return;const l=b.default(o);let c=l;s[l]>0&&(c=b.default(o,s[l])),s[l]=void 0!==s[l]?s[l]+1:1,i.push(f.Decoration.widget(a,(()=>{const o=document.createElement("a");return o.id=c,o.className=this.className,o}),{side:-1,key:c}))})),f.DecorationSet.create(o,i)},o=new d.Plugin({state:{init:(o,i)=>getAnchors(i.doc),apply:(o,i)=>o.docChanged?getAnchors(o.doc):i},props:{decorations:i=>o.getState(i)}});return[o]}inputRules({type:o}){return this.options.levels.map((i=>m.textblockTypeInputRule(new RegExp(`^(#{1,${i}})\\s$`),o,(()=>({level:i})))))}}i.default=Heading},m29f:function(o,i,s){"use strict";var a=this&&this.__createBinding||(Object.create?function(o,i,s,a){void 0===a&&(a=s),Object.defineProperty(o,a,{enumerable:!0,get:function(){return i[s]}})}:function(o,i,s,a){void 0===a&&(a=s),o[a]=i[s]}),l=this&&this.__setModuleDefault||(Object.create?function(o,i){Object.defineProperty(o,"default",{enumerable:!0,value:i})}:function(o,i){o.default=i}),c=this&&this.__importStar||function(o){if(o&&o.__esModule)return o;var i={};if(null!=o)for(var s in o)"default"!==s&&Object.prototype.hasOwnProperty.call(o,s)&&a(i,o,s);return l(i,o),i},u=this&&this.__rest||function(o,i){var s={};for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&i.indexOf(a)<0&&(s[a]=o[a]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(a=Object.getOwnPropertySymbols(o);l<a.length;l++)i.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(o,a[l])&&(s[a[l]]=o[a[l]])}return s},d=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const p=d(s("9lTW")),f=c(s("q1tI")),m=d(s("xd2f")),g=d(s("kkDf")),v=d(s("44WW"));class LinkToolbar extends f.Component{constructor(){super(...arguments),this.menuRef=f.createRef(),this.state={left:-1e3,top:void 0},this.handleClickOutside=o=>{o.target&&this.menuRef.current&&this.menuRef.current.contains(o.target)||this.props.onClose()},this.handleOnCreateLink=async o=>{const{dictionary:i,onCreateLink:s,view:a,onClose:l,onShowToast:c}=this.props;if(l(),this.props.view.focus(),!s)return;const{dispatch:u,state:d}=a,{from:f,to:m}=d.selection;p.default(f===m);const g=`creating#${o}…`;u(a.state.tr.insertText(o,f,m).addMark(f,m+o.length,d.schema.marks.link.create({href:g}))),v.default(a,o,g,{onCreateLink:s,onShowToast:c,dictionary:i})},this.handleOnSelectLink=({href:o,title:i})=>{const{view:s,onClose:a}=this.props;a(),this.props.view.focus();const{dispatch:l,state:c}=s,{from:u,to:d}=c.selection;p.default(u===d),l(s.state.tr.insertText(i,u,d).addMark(u,d+i.length,c.schema.marks.link.create({href:o})))}}componentDidMount(){window.addEventListener("mousedown",this.handleClickOutside)}componentWillUnmount(){window.removeEventListener("mousedown",this.handleClickOutside)}render(){const o=this.props,{onCreateLink:i,onClose:s}=o,a=u(o,["onCreateLink","onClose"]),{selection:l}=this.props.view.state,c=function isActive(o){const{view:i}=o,{selection:s}=i.state;try{const a=i.domAtPos(s.from);return o.isActive&&!!a.node}catch(o){return!1}}(this.props);return f.createElement(g.default,Object.assign({ref:this.menuRef,active:c},a),c&&f.createElement(m.default,Object.assign({from:l.from,to:l.to,onCreateLink:i?this.handleOnCreateLink:void 0,onSelectLink:this.handleOnSelectLink,onRemoveLink:s},a)))}}i.default=LinkToolbar},m2n9:function(o){o.exports=JSON.parse('{"AElig":"Æ","AMP":"&","Aacute":"Á","Acirc":"Â","Agrave":"À","Aring":"Å","Atilde":"Ã","Auml":"Ä","COPY":"©","Ccedil":"Ç","ETH":"Ð","Eacute":"É","Ecirc":"Ê","Egrave":"È","Euml":"Ë","GT":">","Iacute":"Í","Icirc":"Î","Igrave":"Ì","Iuml":"Ï","LT":"<","Ntilde":"Ñ","Oacute":"Ó","Ocirc":"Ô","Ograve":"Ò","Oslash":"Ø","Otilde":"Õ","Ouml":"Ö","QUOT":"\\"","REG":"®","THORN":"Þ","Uacute":"Ú","Ucirc":"Û","Ugrave":"Ù","Uuml":"Ü","Yacute":"Ý","aacute":"á","acirc":"â","acute":"´","aelig":"æ","agrave":"à","amp":"&","aring":"å","atilde":"ã","auml":"ä","brvbar":"¦","ccedil":"ç","cedil":"¸","cent":"¢","copy":"©","curren":"¤","deg":"°","divide":"÷","eacute":"é","ecirc":"ê","egrave":"è","eth":"ð","euml":"ë","frac12":"½","frac14":"¼","frac34":"¾","gt":">","iacute":"í","icirc":"î","iexcl":"¡","igrave":"ì","iquest":"¿","iuml":"ï","laquo":"«","lt":"<","macr":"¯","micro":"µ","middot":"·","nbsp":" ","not":"¬","ntilde":"ñ","oacute":"ó","ocirc":"ô","ograve":"ò","ordf":"ª","ordm":"º","oslash":"ø","otilde":"õ","ouml":"ö","para":"¶","plusmn":"±","pound":"£","quot":"\\"","raquo":"»","reg":"®","sect":"§","shy":"­","sup1":"¹","sup2":"²","sup3":"³","szlig":"ß","thorn":"þ","times":"×","uacute":"ú","ucirc":"û","ugrave":"ù","uml":"¨","uuml":"ü","yacute":"ý","yen":"¥","yuml":"ÿ"}')},mG1W:function(o,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=s("UxO+"),l=s("MEpN"),c=s("Vb5C"),u=function replaceParentNodeOfType(o,i){return function(s){Array.isArray(o)||(o=[o]);for(var a=0,l=o.length;a<l;a++){var c=F(o[a])(s.selection);if(c){var u=k(c.pos,i)(s);if(u!==s)return u}}return s}},d=function replaceSelectedNode(o){return function(i){if(v(i.selection)){var s=i.selection,c=s.$from,u=s.$to;if(o instanceof l.Fragment&&c.parent.canReplace(c.index(),c.indexAfter(),o)||c.parent.canReplaceWith(c.index(),c.indexAfter(),o.type))return b(i.replaceWith(c.pos,u.pos,o).setSelection(new a.NodeSelection(i.doc.resolve(c.pos))))}return i}},p=function setTextSelection(o){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(s){var l=a.Selection.findFrom(s.doc.resolve(o),i,!0);return l?s.setSelection(l):s}},f=function isSelectableNode(o){return o.type&&o.type.spec.selectable},m=function setSelection(o,i,s){return function shouldSelectNode(o){return f(o)&&o.type.isLeaf}(o)?s.setSelection(new a.NodeSelection(s.doc.resolve(i))):p(i)(s)},g=function safeInsert(o,i,s){return function(a){var l="number"==typeof i,c=a.selection.$from,p=l?a.doc.resolve(i):v(a.selection)?a.doc.resolve(c.pos+1):c,g=p.parent;if(v(a.selection)&&s&&a!==(a=d(o)(a)))return a;if(_(g)&&a!==(a=u(g.type,o)(a))){var y=f(o)?p.before(p.depth):p.pos;return m(o,y,a)}if(C(p,o)){a.insert(p.pos,o);var k=l?p.pos:f(o)?a.selection.$anchor.pos-1:a.selection.$anchor.pos;return b(m(o,k,a))}for(var w=p.depth;w>0;w--){var S=p.after(w),x=a.doc.resolve(S);if(C(x,o))return a.insert(S,o),b(m(o,S,a))}return a}},v=function isNodeSelection(o){return o instanceof a.NodeSelection},y=function equalNodeType(o,i){return Array.isArray(o)&&o.indexOf(i.type)>-1||i.type===o},b=function cloneTr(o){return Object.assign(Object.create(o),o).setTime(Date.now())},k=function replaceNodeAtPos(o,i){return function(s){var a=s.doc.nodeAt(o),l=s.doc.resolve(o);if(w(l,i)){var c=(s=s.replaceWith(o,o+a.nodeSize,i)).selection.$from.pos-1;return s=p(Math.max(c,0),-1)(s),s=p(s.selection.$from.start())(s),b(s)}return s}},w=function canReplace(o,i){var s=o.node(o.depth);return s&&s.type.validContent(i instanceof l.Fragment?i:l.Fragment.from(i))},S=function removeNodeAtPos(o){return function(i){var s=i.doc.nodeAt(o);return b(i.delete(o,o+s.nodeSize))}},x=function tableNodeTypes(o){if(o.cached.tableNodeTypes)return o.cached.tableNodeTypes;var i={};return Object.keys(o.nodes).forEach((function(s){var a=o.nodes[s];a.spec.tableRole&&(i[a.spec.tableRole]=a)})),o.cached.tableNodeTypes=i,i},C=function canInsert(o,i){var s=o.index();return i instanceof l.Fragment?o.parent.canReplace(s,s,i):i instanceof l.Node&&o.parent.canReplaceWith(s,s,i.type)},_=function isEmptyParagraph(o){return!o||"paragraph"===o.type.name&&2===o.nodeSize},O=function createCell(o){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return i?o.createChecked(null,i):o.createAndFill()},M=function isRectSelected(o){return function(i){for(var s=c.TableMap.get(i.$anchorCell.node(-1)),a=i.$anchorCell.start(-1),l=s.cellsInRect(o),u=s.cellsInRect(s.rectBetween(i.$anchorCell.pos-a,i.$headCell.pos-a)),d=0,p=l.length;d<p;d++)if(-1===u.indexOf(l[d]))return!1;return!0}},A=function transpose(o){return o[0].map((function(i,s){return o.map((function(o){return o[s]}))}))},E=function convertTableNodeToArrayOfRows(o){for(var i=c.TableMap.get(o),s=[],a=0;a<i.height;a++){for(var l=[],u={},d=0;d<i.width;d++){var p=i.map[a*i.width+d],f=o.nodeAt(p),m=i.findCell(p);u[p]||m.top!==a?l.push(null):(u[p]=!0,l.push(f))}s.push(l)}return s},T=function convertArrayOfRowsToTableNode(o,i){for(var s=[],a=c.TableMap.get(o),l=0;l<a.height;l++){for(var u=o.child(l),d=[],p=0;p<a.width;p++)if(i[l][p]){var f=a.map[l*a.width+p],m=i[l][p],g=o.nodeAt(f).type.createChecked(Object.assign({},m.attrs),m.content,m.marks);d.push(g)}s.push(u.type.createChecked(u.attrs,d,u.marks))}return o.type.createChecked(o.attrs,s,o.marks)},D=function moveRowInArrayOfRows(o,i,s,a){var l=i[0]>s[0]?-1:1,c=o.splice(i[0],i.length),u=c.length%2==0?1:0,d=void 0;return d=-1===a&&1===l?s[0]-1:1===a&&-1===l?s[s.length-1]-u+1:-1===l?s[0]:s[s.length-1]-u,o.splice.apply(o,[d,0].concat(c)),o},I=function checkInvalidMovements(o,i,s,a){var l="Target position is invalid, you can't move the "+a+" "+o+" to "+i+", the target can't be split. You could use tryToFit option.";if(1===(o>i?-1:1)){if(-1!==s.slice(0,s.length-1).indexOf(i))throw new Error(l)}else if(-1!==s.slice(1).indexOf(i))throw new Error(l);return!0},N=function findParentNode(o){return function(i){var s=i.$from;return R(s,o)}},R=function findParentNodeClosestToPos(o,i){for(var s=o.depth;s>0;s--){var a=o.node(s);if(i(a))return{pos:s>0?o.before(s):0,start:o.start(s),depth:s,node:a}}},P=function findParentDomRef(o,i){return function(s){var a=N(o)(s);if(a)return z(a.pos,i)}},L=function hasParentNode(o){return function(i){return!!N(o)(i)}},F=function findParentNodeOfType(o){return function(i){return N((function(i){return y(o,i)}))(i)}},B=function findPositionOfNodeBefore(o){var i=o.$from.nodeBefore,s=a.Selection.findFrom(o.$from,-1);if(s&&i){var l=F(i.type)(s);return l?l.pos:s.$from.pos}},z=function findDomRefAtPos(o,i){var s=i(o),a=s.node.childNodes[s.offset];return s.node.nodeType===Node.TEXT_NODE?s.node.parentNode:a&&a.nodeType!==Node.TEXT_NODE?a:s.node},j=function flatten(o){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!o)throw new Error('Invalid "node" parameter');var s=[];return o.descendants((function(o,a){if(s.push({node:o,pos:a}),!i)return!1})),s},$=function findChildren(o,i,s){if(!o)throw new Error('Invalid "node" parameter');if(!i)throw new Error('Invalid "predicate" parameter');return j(o,s).filter((function(o){return i(o.node)}))},q=function findChildrenByType(o,i,s){return $(o,(function(o){return o.type===i}),s)};var V=function findTable(o){return N((function(o){return o.type.spec.tableRole&&"table"===o.type.spec.tableRole}))(o)},U=function isCellSelection(o){return o instanceof c.CellSelection},W=function isTableSelected(o){if(U(o)){var i=c.TableMap.get(o.$anchorCell.node(-1));return M({left:0,right:i.width,top:0,bottom:i.height})(o)}return!1},H=function getCellsInColumn(o){return function(i){var s=V(i);if(s){var a=c.TableMap.get(s.node);return(Array.isArray(o)?o:Array.from([o])).reduce((function(o,i){if(i>=0&&i<=a.width-1){var l=a.cellsInRect({left:i,right:i+1,top:0,bottom:a.height});return o.concat(l.map((function(o){var i=s.node.nodeAt(o),a=o+s.start;return{pos:a,start:a+1,node:i}})))}}),[])}}},G=function getCellsInRow(o){return function(i){var s=V(i);if(s){var a=c.TableMap.get(s.node);return(Array.isArray(o)?o:Array.from([o])).reduce((function(o,i){if(i>=0&&i<=a.height-1){var l=a.cellsInRect({left:0,right:a.width,top:i,bottom:i+1});return o.concat(l.map((function(o){var i=s.node.nodeAt(o),a=o+s.start;return{pos:a,start:a+1,node:i}})))}}),[])}}},K=function select(o){return function(i,s){return function(a){var l=V(a.selection),u="row"===o;if(l){var d=c.TableMap.get(l.node);if(i>=0&&i<(u?d.height:d.width)){var p=u?0:i,f=u?i:0,m=u?d.width:i+1,g=u?i+1:d.height;if(s){var v=ne(a.selection.$from);if(!v)return a;var y=d.findCell(v.pos-l.start);u?(f=Math.min(f,y.top),g=Math.max(g,y.bottom)):(p=Math.min(p,y.left),m=Math.max(m,y.right))}var k=d.cellsInRect({left:p,top:f,right:u?m:p+1,bottom:u?f+1:g}),w=g-f==1?k:d.cellsInRect({left:u?p:m-1,top:u?g-1:f,right:m,bottom:g}),S=l.start+k[0],x=l.start+w[w.length-1],C=a.doc.resolve(S),_=a.doc.resolve(x);return b(a.setSelection(new c.CellSelection(_,C)))}}return a}}},J=K("column"),Z=K("row"),Y=function cloneRowAt(o){return function(i){var s=V(i.selection);if(s){var a=c.TableMap.get(s.node);if(o>=0&&o<=a.height){for(var l=s.node,u=x(l.type.schema),d=s.start,p=0;p<o+1;p++)d+=l.child(p).nodeSize;var f=l.child(o),m=[],v=0;if(f.forEach((function(o){1===o.attrs.rowspan&&(v+=o.attrs.colspan,m.push(u[o.type.spec.tableRole].createAndFill(o.attrs,o.marks)))})),v<a.width){for(var y=[],b=function _loop(s){var a=ie(s,(function(i,a){var l=i.node.attrs.rowspan;return l>1&&s+l>o}))(i);y.push.apply(y,function _toConsumableArray(o){if(Array.isArray(o)){for(var i=0,s=Array(o.length);i<o.length;i++)s[i]=o[i];return s}return Array.from(o)}(a))},k=o;k>=0;k--)b(k);y.length&&y.forEach((function(o){i=te(o,{rowspan:o.node.attrs.rowspan+1})(i)}))}return g(u.row.create(f.attrs,m),d)(i)}}return i}},X=function removeColumnAt(o){return function(i){var s=V(i.selection);if(s){var a=c.TableMap.get(s.node);if(0===o&&1===a.width)return ee(i);if(o>=0&&o<=a.width)return c.removeColumn(i,{map:a,tableStart:s.start,table:s.node},o),b(i)}return i}},Q=function removeRowAt(o){return function(i){var s=V(i.selection);if(s){var a=c.TableMap.get(s.node);if(0===o&&1===a.height)return ee(i);if(o>=0&&o<=a.height)return c.removeRow(i,{map:a,tableStart:s.start,table:s.node},o),b(i)}return i}},ee=function removeTable(o){for(var i=o.selection.$from,s=i.depth;s>0;s--){if("table"===i.node(s).type.spec.tableRole)return b(o.delete(i.before(s),i.after(s)))}return o},te=function setCellAttrs(o,i){return function(s){return o?(s.setNodeMarkup(o.pos,null,Object.assign({},o.node.attrs,i)),b(s)):s}},ne=function findCellClosestToPos(o){return R(o,(function predicate(o){return o.type.spec.tableRole&&/cell/i.test(o.type.spec.tableRole)}))},oe=function findCellRectClosestToPos(o){var i=ne(o);if(i){var s=function findTableClosestToPos(o){return R(o,(function predicate(o){return o.type.spec.tableRole&&/table/i.test(o.type.spec.tableRole)}))}(o),a=c.TableMap.get(s.node),l=i.pos-s.start;return a.rectBetween(l,l)}},ie=function filterCellsInRow(o,i){return function(s){var a=[],l=G(o)(s.selection);if(l)for(var c=l.length-1;c>=0;c--)i(l[c],s)&&a.push(l[c]);return a}},se=function getSelectionRangeInColumn(o){return function(i){for(var s=o,a=o,l=function _loop2(o){var l=H(o)(i.selection);l&&l.forEach((function(i){var l=i.node.attrs.colspan+o-1;l>=s&&(s=o),l>a&&(a=l)}))},c=o;c>=0;c--)l(c);var u=function _loop3(o){var s=H(o)(i.selection);s&&s.forEach((function(i){var s=i.node.attrs.colspan+o-1;i.node.attrs.colspan>1&&s>a&&(a=s)}))};for(c=o;c<=a;c++)u(c);var d=[];for(c=s;c<=a;c++){var p=H(c)(i.selection);p&&p.length&&d.push(c)}s=d[0],a=d[d.length-1];for(var f=H(s)(i.selection),m=G(0)(i.selection),g=i.doc.resolve(f[f.length-1].pos),v=void 0,y=a;y>=s;y--){var b=H(y)(i.selection);if(b&&b.length){for(var k=m.length-1;k>=0;k--)if(m[k].pos===b[0].pos){v=b[0];break}if(v)break}}return{$anchor:g,$head:i.doc.resolve(v.pos),indexes:d}}},ae=function getSelectionRangeInRow(o){return function(i){for(var s=o,a=o,l=function _loop4(o){G(o)(i.selection).forEach((function(i){var l=i.node.attrs.rowspan+o-1;l>=s&&(s=o),l>a&&(a=l)}))},c=o;c>=0;c--)l(c);var u=function _loop5(o){G(o)(i.selection).forEach((function(i){var s=i.node.attrs.rowspan+o-1;i.node.attrs.rowspan>1&&s>a&&(a=s)}))};for(c=o;c<=a;c++)u(c);var d=[];for(c=s;c<=a;c++){var p=G(c)(i.selection);p&&p.length&&d.push(c)}s=d[0],a=d[d.length-1];for(var f=G(s)(i.selection),m=H(0)(i.selection),g=i.doc.resolve(f[f.length-1].pos),v=void 0,y=a;y>=s;y--){var b=G(y)(i.selection);if(b&&b.length){for(var k=m.length-1;k>=0;k--)if(m[k].pos===b[0].pos){v=b[0];break}if(v)break}}return{$anchor:g,$head:i.doc.resolve(v.pos),indexes:d}}};i.isNodeSelection=v,i.canInsert=C,i.convertTableNodeToArrayOfRows=E,i.convertArrayOfRowsToTableNode=T,i.findParentNode=N,i.findParentNodeClosestToPos=R,i.findParentDomRef=P,i.hasParentNode=L,i.findParentNodeOfType=F,i.findParentNodeOfTypeClosestToPos=function findParentNodeOfTypeClosestToPos(o,i){return R(o,(function(o){return y(i,o)}))},i.hasParentNodeOfType=function hasParentNodeOfType(o){return function(i){return L((function(i){return y(o,i)}))(i)}},i.findParentDomRefOfType=function findParentDomRefOfType(o,i){return function(s){return P((function(i){return y(o,i)}),i)(s)}},i.findSelectedNodeOfType=function findSelectedNodeOfType(o){return function(i){if(v(i)){var s=i.node,a=i.$from;if(y(o,s))return{node:s,pos:a.pos,depth:a.depth}}}},i.findPositionOfNodeBefore=B,i.findDomRefAtPos=z,i.flatten=j,i.findChildren=$,i.findTextNodes=function findTextNodes(o,i){return $(o,(function(o){return o.isText}),i)},i.findInlineNodes=function findInlineNodes(o,i){return $(o,(function(o){return o.isInline}),i)},i.findBlockNodes=function findBlockNodes(o,i){return $(o,(function(o){return o.isBlock}),i)},i.findChildrenByAttr=function findChildrenByAttr(o,i,s){return $(o,(function(o){return!!i(o.attrs)}),s)},i.findChildrenByType=q,i.findChildrenByMark=function findChildrenByMark(o,i,s){return $(o,(function(o){return i.isInSet(o.marks)}),s)},i.contains=function contains(o,i){return!!q(o,i).length},i.findTable=V,i.isCellSelection=U,i.getSelectionRect=function getSelectionRect(o){if(U(o)){var i=o.$anchorCell.start(-1);return c.TableMap.get(o.$anchorCell.node(-1)).rectBetween(o.$anchorCell.pos-i,o.$headCell.pos-i)}},i.isColumnSelected=function isColumnSelected(o){return function(i){if(U(i)){var s=c.TableMap.get(i.$anchorCell.node(-1));return M({left:o,right:o+1,top:0,bottom:s.height})(i)}return!1}},i.isRowSelected=function isRowSelected(o){return function(i){if(U(i)){var s=c.TableMap.get(i.$anchorCell.node(-1));return M({left:0,right:s.width,top:o,bottom:o+1})(i)}return!1}},i.isTableSelected=W,i.getCellsInColumn=H,i.getCellsInRow=G,i.getCellsInTable=function getCellsInTable(o){var i=V(o);if(i){var s=c.TableMap.get(i.node);return s.cellsInRect({left:0,right:s.width,top:0,bottom:s.height}).map((function(o){var s=i.node.nodeAt(o),a=o+i.start;return{pos:a,start:a+1,node:s}}))}},i.selectColumn=J,i.selectRow=Z,i.selectTable=function selectTable(o){var i=V(o.selection);if(i){var s=c.TableMap.get(i.node).map;if(s&&s.length){var a=i.start+s[0],l=i.start+s[s.length-1],u=o.doc.resolve(a),d=o.doc.resolve(l);return b(o.setSelection(new c.CellSelection(d,u)))}}return o},i.emptyCell=function emptyCell(o,i){return function(s){if(o){var a=x(i).cell.createAndFill().content;if(!o.node.content.eq(a))return s.replaceWith(o.pos+1,o.pos+o.node.nodeSize,a),b(s)}return s}},i.addColumnAt=function addColumnAt(o){return function(i){var s=V(i.selection);if(s){var a=c.TableMap.get(s.node);if(o>=0&&o<=a.width)return b(c.addColumn(i,{map:a,tableStart:s.start,table:s.node},o))}return i}},i.moveRow=function moveRow(o,i,s){return function(a){var l=Object.assign({tryToFit:!1,direction:0},s),c=V(a.selection);if(!c)return a;var u=ae(o)(a).indexes,d=ae(i)(a).indexes;if(u.indexOf(i)>-1)return a;!l.tryToFit&&d.length>1&&I(o,i,d,"row");var p=function moveTableRow(o,i,s,a){var l=E(o.node);return l=D(l,i,s,a),T(o.node,l)}(c,u,d,l.direction);return b(a).replaceWith(c.pos,c.pos+c.node.nodeSize,p)}},i.moveColumn=function moveColumn(o,i,s){return function(a){var l=Object.assign({tryToFit:!1,direction:0},s),c=V(a.selection);if(!c)return a;var u=se(o)(a).indexes,d=se(i)(a).indexes;if(u.indexOf(i)>-1)return a;!l.tryToFit&&d.length>1&&I(o,i,d,"column");var p=function moveTableColumn(o,i,s,a){var l=A(E(o.node));return l=D(l,i,s,a),l=A(l),T(o.node,l)}(c,u,d,l.direction);return b(a).replaceWith(c.pos,c.pos+c.node.nodeSize,p)}},i.addRowAt=function addRowAt(o,i){return function(s){var a=V(s.selection);if(a){var l=c.TableMap.get(a.node),u=o-1;if(i&&u>=0)return b(Y(u)(s));if(o>=0&&o<=l.height)return b(c.addRow(s,{map:l,tableStart:a.start,table:a.node},o))}return s}},i.cloneRowAt=Y,i.removeColumnAt=X,i.removeRowAt=Q,i.removeTable=ee,i.removeSelectedColumns=function removeSelectedColumns(o){var i=o.selection;if(W(i))return ee(o);if(U(i)){var s=V(i);if(s){var a=c.TableMap.get(s.node),l=a.rectBetween(i.$anchorCell.pos-s.start,i.$headCell.pos-s.start);if(0==l.left&&l.right==a.width)return!1;for(var u=Object.assign({},l,{map:a,table:s.node,tableStart:s.start}),d=u.right-1;c.removeColumn(o,u,d),d!==u.left;d--)u.table=u.tableStart?o.doc.nodeAt(u.tableStart-1):o.doc,u.map=c.TableMap.get(u.table);return b(o)}}return o},i.removeSelectedRows=function removeSelectedRows(o){var i=o.selection;if(W(i))return ee(o);if(U(i)){var s=V(i);if(s){var a=c.TableMap.get(s.node),l=a.rectBetween(i.$anchorCell.pos-s.start,i.$headCell.pos-s.start);if(0==l.top&&l.bottom==a.height)return!1;for(var u=Object.assign({},l,{map:a,table:s.node,tableStart:s.start}),d=u.bottom-1;c.removeRow(o,u,d),d!==u.top;d--)u.table=u.tableStart?o.doc.nodeAt(u.tableStart-1):o.doc,u.map=c.TableMap.get(u.table);return b(o)}}return o},i.removeColumnClosestToPos=function removeColumnClosestToPos(o){return function(i){var s=oe(o);return s?X(s.left)(p(o.pos)(i)):i}},i.removeRowClosestToPos=function removeRowClosestToPos(o){return function(i){var s=oe(o);return s?Q(s.top)(p(o.pos)(i)):i}},i.forEachCellInColumn=function forEachCellInColumn(o,i,s){return function(l){var c=H(o)(l.selection);if(c){for(var u=c.length-1;u>=0;u--)l=i(c[u],l);if(s){var d=l.doc.resolve(l.mapping.map(c[c.length-1].pos));l.setSelection(a.Selection.near(d))}return b(l)}return l}},i.forEachCellInRow=function forEachCellInRow(o,i,s){return function(l){var c=G(o)(l.selection);if(c){for(var u=c.length-1;u>=0;u--)l=i(c[u],l);if(s){var d=l.doc.resolve(l.mapping.map(c[c.length-1].pos));l.setSelection(a.Selection.near(d))}}return l}},i.setCellAttrs=te,i.createTable=function createTable(o){for(var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,c=x(o),u=c.cell,d=c.header_cell,p=c.row,f=c.table,m=[],g=[],v=0;v<s;v++)m.push(O(u,l)),a&&g.push(O(d,l));for(var y=[],b=0;b<i;b++)y.push(p.createChecked(null,a&&0===b?g:m));return f.createChecked(null,y)},i.findCellClosestToPos=ne,i.findCellRectClosestToPos=oe,i.getSelectionRangeInColumn=se,i.getSelectionRangeInRow=ae,i.removeParentNodeOfType=function removeParentNodeOfType(o){return function(i){var s=F(o)(i.selection);return s?S(s.pos)(i):i}},i.replaceParentNodeOfType=u,i.removeSelectedNode=function removeSelectedNode(o){if(v(o.selection)){var i=o.selection.$from.pos,s=o.selection.$to.pos;return b(o.delete(i,s))}return o},i.replaceSelectedNode=d,i.setTextSelection=p,i.safeInsert=g,i.setParentNodeMarkup=function setParentNodeMarkup(o,i,s,a){return function(l){var c=F(o)(l.selection);return c?b(l.setNodeMarkup(c.pos,i,Object.assign({},c.node.attrs,s),a)):l}},i.selectParentNodeOfType=function selectParentNodeOfType(o){return function(i){if(!v(i.selection)){var s=F(o)(i.selection);if(s)return b(i.setSelection(a.NodeSelection.create(i.doc,s.pos)))}return i}},i.removeNodeBefore=function removeNodeBefore(o){var i=B(o.selection);return"number"==typeof i?S(i)(o):o}},mRsi:function(o,i,s){var a=s("XGnz");o.exports=function flattenDeep(o){return(null==o?0:o.length)?a(o,Infinity):[]}},mSF0:function(o,i,s){"use strict";var a=s("AGgm").arrayReplaceAt;function isLinkClose(o){return/^<\/a\s*>/i.test(o)}o.exports=function linkify(o){var i,s,l,c,u,d,p,f,m,g,v,y,b,k,w,S,x,C,_=o.tokens;if(o.md.options.linkify)for(s=0,l=_.length;s<l;s++)if("inline"===_[s].type&&o.md.linkify.pretest(_[s].content))for(b=0,i=(c=_[s].children).length-1;i>=0;i--)if("link_close"!==(d=c[i]).type){if("html_inline"===d.type&&(C=d.content,/^<a[>\s]/i.test(C)&&b>0&&b--,isLinkClose(d.content)&&b++),!(b>0)&&"text"===d.type&&o.md.linkify.test(d.content)){for(m=d.content,x=o.md.linkify.match(m),p=[],y=d.level,v=0,f=0;f<x.length;f++)k=x[f].url,w=o.md.normalizeLink(k),o.md.validateLink(w)&&(S=x[f].text,S=x[f].schema?"mailto:"!==x[f].schema||/^mailto:/i.test(S)?o.md.normalizeLinkText(S):o.md.normalizeLinkText("mailto:"+S).replace(/^mailto:/,""):o.md.normalizeLinkText("http://"+S).replace(/^http:\/\//,""),(g=x[f].index)>v&&((u=new o.Token("text","",0)).content=m.slice(v,g),u.level=y,p.push(u)),(u=new o.Token("link_open","a",1)).attrs=[["href",w]],u.level=y++,u.markup="linkify",u.info="auto",p.push(u),(u=new o.Token("text","",0)).content=S,u.level=y,p.push(u),(u=new o.Token("link_close","a",-1)).level=--y,u.markup="linkify",u.info="auto",p.push(u),v=x[f].lastIndex);v<m.length&&((u=new o.Token("text","",0)).content=m.slice(v),u.level=y,p.push(u)),_[s].children=c=a(c,i,p)}}else for(i--;c[i].level!==d.level&&"link_open"!==c[i].type;)i--}},meX5:function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=a(s("bdgK")),c=s("q1tI");i.default=function useComponentSize(o){const[i,s]=c.useState({width:0,height:0});return c.useEffect((()=>{const a=new l.default((o=>{o.forEach((({target:o})=>{i.width===o.clientWidth&&i.height===o.clientHeight||s({width:o.clientWidth,height:o.clientHeight})}))}));return a.observe(o.current),()=>a.disconnect()}),[o]),i}},nBLk:function(o,i,s){"use strict";o.exports=function code(o,i,s){var a,l,c;if(o.sCount[i]-o.blkIndent<4)return!1;for(l=a=i+1;a<s;)if(o.isEmpty(a))a++;else{if(!(o.sCount[a]-o.blkIndent>=4))break;l=++a}return o.line=l,(c=o.push("code_block","code",0)).content=o.getLines(i,l,4+o.blkIndent,!0),c.map=[i,o.line],!0}},nBof:function(o,i,s){"use strict";var a=this&&this.__createBinding||(Object.create?function(o,i,s,a){void 0===a&&(a=s),Object.defineProperty(o,a,{enumerable:!0,get:function(){return i[s]}})}:function(o,i,s,a){void 0===a&&(a=s),o[a]=i[s]}),l=this&&this.__setModuleDefault||(Object.create?function(o,i){Object.defineProperty(o,"default",{enumerable:!0,value:i})}:function(o,i){o.default=i}),c=this&&this.__importStar||function(o){if(o&&o.__esModule)return o;var i={};if(null!=o)for(var s in o)"default"!==s&&Object.prototype.hasOwnProperty.call(o,s)&&a(i,o,s);return l(i,o),i},u=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const d=c(s("q1tI")),p=u(s("i8i4")),f=s("vOnD"),m=s("U/YG");i.default=class ComponentView{constructor(o,{editor:i,extension:s,node:a,view:l,getPos:c,decorations:u}){this.isSelected=!1,this.component=o,this.editor=i,this.extension=s,this.getPos=c,this.decorations=u,this.node=a,this.view=l,this.dom=a.type.spec.inline?document.createElement("span"):document.createElement("div"),this.renderElement()}renderElement(){const{dark:o}=this.editor.props,i=this.editor.props.theme||(o?m.dark:m.light),s=this.component({theme:i,node:this.node,isSelected:this.isSelected,isEditable:this.view.editable,getPos:this.getPos});p.default.render(d.createElement(f.ThemeProvider,{theme:i},s),this.dom)}update(o){return o.type===this.node.type&&(this.node=o,this.renderElement(),!0)}selectNode(){this.view.editable&&(this.isSelected=!0,this.renderElement())}deselectNode(){this.view.editable&&(this.isSelected=!1,this.renderElement())}stopEvent(){return!0}destroy(){this.dom&&p.default.unmountComponentAtNode(this.dom),this.dom=null}ignoreMutation(){return!0}}},nGLQ:function(o,i,s){"use strict";var a=this&&this.__createBinding||(Object.create?function(o,i,s,a){void 0===a&&(a=s),Object.defineProperty(o,a,{enumerable:!0,get:function(){return i[s]}})}:function(o,i,s,a){void 0===a&&(a=s),o[a]=i[s]}),l=this&&this.__setModuleDefault||(Object.create?function(o,i){Object.defineProperty(o,"default",{enumerable:!0,value:i})}:function(o,i){o.default=i}),c=this&&this.__importStar||function(o){if(o&&o.__esModule)return o;var i={};if(null!=o)for(var s in o)"default"!==s&&Object.prototype.hasOwnProperty.call(o,s)&&a(i,o,s);return l(i,o),i},u=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const d=c(s("q1tI")),p=c(s("vOnD")),f=u(s("eF4f")),m=u(s("FdrX")),g=p.default.div`
  display: flex;
`;class Menu extends d.Component{render(){const{view:o,items:i}=this.props,{state:s}=o,a=this.props.tooltip;return d.createElement(g,null,i.map(((o,i)=>{if("separator"===o.name&&!1!==o.visible)return d.createElement(m.default,{key:i});if(!1===o.visible||!o.icon)return null;const l=o.icon,c=!!o.active&&o.active(s);return d.createElement(f.default,{key:i,onClick:()=>o.name&&this.props.commands[o.name](o.attrs),active:c},d.createElement(a,{tooltip:o.tooltip,placement:"top"},d.createElement(l,{color:this.props.theme.toolbarItem})))})))}}i.default=p.withTheme(Menu)},nnNZ:function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=a(s("CWsV"));function isParagraph(o){return"paragraph_open"===o.type}function isLinkOpen(o){return"link_open"===o.type}function isLinkClose(o){return"link_close"===o.type}i.default=function default_1(o){function isEmbed(i,s){const a=s.attrs?s.attrs[0][1]:"";if(!(a===i.content))return!1;if(!o)return!1;for(const i of o){const o=i.matcher(a);if(o)return Object.assign(Object.assign({},i),{matches:o})}}return function markdownEmbeds(o){o.core.ruler.after("inline","embeds",(o=>{const i=o.tokens;let s;for(let o=0;o<i.length-1;o++)if("inline"===(a=i[o]).type&&1===a.level&&isParagraph(i[o-1])){const a=i[o].children||[];for(let c=0;c<a.length-1;c++){const u=a[c];if(u)if(isLinkOpen(u))s=u;else if(isLinkClose(u))s=null;else if(s){const a=isEmbed(u,s);if(a){const{content:s}=u,c=new l.default("embed","iframe",0);c.attrSet("href",s),c.attrSet("matches",a.matches),i.splice(o-1,3,c);break}}}}var a;return!1}))}}},nvsg:function(o,i,s){"use strict";function isHardbreak(o){return"hardbreak"===o.type||"text"===o.type&&"\\"===o.content}Object.defineProperty(i,"__esModule",{value:!0}),i.default=function markdownBreakToParagraphs(o){o.core.ruler.after("inline","breaks",(o=>{const{Token:i}=o,s=o.tokens;for(let o=s.length-1;o>0;o--){const a=s[o].children||[],l=a.filter(isHardbreak);if(l.length){let c;const u=[],d=a.filter((o=>!isHardbreak(o)));let p=l.length;d.length&&p++;for(let o=0;o<p;o++){const s=o===p-1;c=new i("paragraph_open","p",1),u.push(c);const a=new i("text","",0);a.content="",c=new i("inline","",0),c.level=1,c.children=s?[a,...d]:[a],c.content="",u.push(c),c=new i("paragraph_close","p",-1),u.push(c)}s.splice(o-1,3,...u)}}return!1}))}},oSSR:function(o,i,s){"use strict";o.exports=function inline(o){var i,s,a,l=o.tokens;for(s=0,a=l.length;s<a;s++)"inline"===(i=l[s]).type&&o.md.inline.parse(i.content,o.md,o.env,i.children)}},p7ys:function(o,i){o.exports=/[\0-\x1F\x7F-\x9F]/},pCDR:function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=a(s("1M3H")),c=a(s("eCQX")),u=a(s("fJ7p")),d=a(s("nnNZ")),p=a(s("nvsg")),f=a(s("qfr8")),m=a(s("GqIp")),g=a(s("J5CR"));i.default=function rules({embeds:o}){return l.default("default",{breaks:!1,html:!1,linkify:!0}).use(d.default(o)).use(p.default).use(u.default).use(c.default({delim:"==",mark:"highlight"})).use(c.default({delim:"!!",mark:"placeholder"})).use(g.default).use(f.default).use(m.default)}},piw0:function(o,i,s){"use strict";function python(o){o.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},"string-interpolation":{pattern:/(?:f|rf|fr)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:{{)*){(?!{)(?:[^{}]|{(?!{)(?:[^{}]|{(?!{)(?:[^{}])+})+})+}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|rb|br)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|rb|br)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^\s*)@\w+(?:\.\w+)*/im,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:and|as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:True|False|None)\b/,number:/(?:\b(?=\d)|\B(?=\.))(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?j?\b/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},o.languages.python["string-interpolation"].inside.interpolation.inside.rest=o.languages.python,o.languages.py=o.languages.python}o.exports=python,python.displayName="python",python.aliases=["py"]},qRUV:function(o,i,s){"use strict";var a=s("SINd"),l=[["normalize",s("TCYN")],["block",s("NAgD")],["inline",s("oSSR")],["linkify",s("mSF0")],["replacements",s("u0qK")],["smartquotes",s("rzDG")]];function Core(){this.ruler=new a;for(var o=0;o<l.length;o++)this.ruler.push(l[o][0],l[o][1])}Core.prototype.process=function(o){var i,s,a;for(i=0,s=(a=this.ruler.getRules("")).length;i<s;i++)a[i](o)},Core.prototype.State=s("cTMM"),o.exports=Core},qTn3:function(o,i,s){"use strict";var a=s("Ut8p"),l=s("FWC9");o.exports=DefinedInfo,DefinedInfo.prototype=new a,DefinedInfo.prototype.defined=!0;var c=["boolean","booleanish","overloadedBoolean","number","commaSeparated","spaceSeparated","commaOrSpaceSeparated"],u=c.length;function DefinedInfo(o,i,s,d){var p,f=-1;for(mark(this,"space",d),a.call(this,o,i);++f<u;)mark(this,p=c[f],(s&l[p])===l[p])}function mark(o,i,s){s&&(o[i]=s)}},qbOK:function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=a(s("S5OW"));class Doc extends l.default{get name(){return"doc"}get schema(){return{content:"block+"}}}i.default=Doc},qfr8:function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=a(s("CWsV")),c=/(?:^|[^\\])\\n/;i.default=function markdownTables(o){o.core.ruler.after("inline","tables-pm",(o=>{const i=o.tokens;let s=!1;for(let o=i.length-1;o>0;o--){if(s&&i[o].level--,"inline"===i[o].type&&i[o].content.match(c)){const s=i[o].children||[];i[o].children=[],s.forEach((s=>{var a;const u=s.content.split(c);u.length>1&&"code_inline"!==s.type?u.forEach(((s,a)=>{var c,d;const p=new l.default("text","",1);if(p.content=s.trim(),null===(c=i[o].children)||void 0===c||c.push(p),a<u.length-1){const s=new l.default("br","br",1);null===(d=i[o].children)||void 0===d||d.push(s)}})):null===(a=i[o].children)||void 0===a||a.push(s)}))}if(["thead_open","thead_close","tbody_open","tbody_close"].includes(i[o].type)&&(s=!s,i.splice(o,1)),["th_open","td_open"].includes(i[o].type)){i.splice(o+1,0,new l.default("paragraph_open","p",1));const s=i[o].attrs;if(s){const a=s[0][1];i[o].info=a.split(":")[1]}}["th_close","td_close"].includes(i[o].type)&&i.splice(o,0,new l.default("paragraph_close","p",-1))}return!1}))}},r3IV:function(o,i,s){"use strict";o.exports=function parse(o,i){var s,l,c,u=o||"",d=i||"div",p={},f=0;for(;f<u.length;)a.lastIndex=f,c=a.exec(u),(s=u.slice(f,c?c.index:u.length))&&(l?"#"===l?p.id=s:p.className?p.className.push(s):p.className=[s]:d=s,f+=s.length),c&&(l=c[0],f++);return{type:"element",tagName:d,properties:p,children:[]}};var a=/[#.]/g},rO12:function(o){o.exports=JSON.parse('{"Aacute":"Á","aacute":"á","Abreve":"Ă","abreve":"ă","ac":"∾","acd":"∿","acE":"∾̳","Acirc":"Â","acirc":"â","acute":"´","Acy":"А","acy":"а","AElig":"Æ","aelig":"æ","af":"⁡","Afr":"𝔄","afr":"𝔞","Agrave":"À","agrave":"à","alefsym":"ℵ","aleph":"ℵ","Alpha":"Α","alpha":"α","Amacr":"Ā","amacr":"ā","amalg":"⨿","amp":"&","AMP":"&","andand":"⩕","And":"⩓","and":"∧","andd":"⩜","andslope":"⩘","andv":"⩚","ang":"∠","ange":"⦤","angle":"∠","angmsdaa":"⦨","angmsdab":"⦩","angmsdac":"⦪","angmsdad":"⦫","angmsdae":"⦬","angmsdaf":"⦭","angmsdag":"⦮","angmsdah":"⦯","angmsd":"∡","angrt":"∟","angrtvb":"⊾","angrtvbd":"⦝","angsph":"∢","angst":"Å","angzarr":"⍼","Aogon":"Ą","aogon":"ą","Aopf":"𝔸","aopf":"𝕒","apacir":"⩯","ap":"≈","apE":"⩰","ape":"≊","apid":"≋","apos":"\'","ApplyFunction":"⁡","approx":"≈","approxeq":"≊","Aring":"Å","aring":"å","Ascr":"𝒜","ascr":"𝒶","Assign":"≔","ast":"*","asymp":"≈","asympeq":"≍","Atilde":"Ã","atilde":"ã","Auml":"Ä","auml":"ä","awconint":"∳","awint":"⨑","backcong":"≌","backepsilon":"϶","backprime":"‵","backsim":"∽","backsimeq":"⋍","Backslash":"∖","Barv":"⫧","barvee":"⊽","barwed":"⌅","Barwed":"⌆","barwedge":"⌅","bbrk":"⎵","bbrktbrk":"⎶","bcong":"≌","Bcy":"Б","bcy":"б","bdquo":"„","becaus":"∵","because":"∵","Because":"∵","bemptyv":"⦰","bepsi":"϶","bernou":"ℬ","Bernoullis":"ℬ","Beta":"Β","beta":"β","beth":"ℶ","between":"≬","Bfr":"𝔅","bfr":"𝔟","bigcap":"⋂","bigcirc":"◯","bigcup":"⋃","bigodot":"⨀","bigoplus":"⨁","bigotimes":"⨂","bigsqcup":"⨆","bigstar":"★","bigtriangledown":"▽","bigtriangleup":"△","biguplus":"⨄","bigvee":"⋁","bigwedge":"⋀","bkarow":"⤍","blacklozenge":"⧫","blacksquare":"▪","blacktriangle":"▴","blacktriangledown":"▾","blacktriangleleft":"◂","blacktriangleright":"▸","blank":"␣","blk12":"▒","blk14":"░","blk34":"▓","block":"█","bne":"=⃥","bnequiv":"≡⃥","bNot":"⫭","bnot":"⌐","Bopf":"𝔹","bopf":"𝕓","bot":"⊥","bottom":"⊥","bowtie":"⋈","boxbox":"⧉","boxdl":"┐","boxdL":"╕","boxDl":"╖","boxDL":"╗","boxdr":"┌","boxdR":"╒","boxDr":"╓","boxDR":"╔","boxh":"─","boxH":"═","boxhd":"┬","boxHd":"╤","boxhD":"╥","boxHD":"╦","boxhu":"┴","boxHu":"╧","boxhU":"╨","boxHU":"╩","boxminus":"⊟","boxplus":"⊞","boxtimes":"⊠","boxul":"┘","boxuL":"╛","boxUl":"╜","boxUL":"╝","boxur":"└","boxuR":"╘","boxUr":"╙","boxUR":"╚","boxv":"│","boxV":"║","boxvh":"┼","boxvH":"╪","boxVh":"╫","boxVH":"╬","boxvl":"┤","boxvL":"╡","boxVl":"╢","boxVL":"╣","boxvr":"├","boxvR":"╞","boxVr":"╟","boxVR":"╠","bprime":"‵","breve":"˘","Breve":"˘","brvbar":"¦","bscr":"𝒷","Bscr":"ℬ","bsemi":"⁏","bsim":"∽","bsime":"⋍","bsolb":"⧅","bsol":"\\\\","bsolhsub":"⟈","bull":"•","bullet":"•","bump":"≎","bumpE":"⪮","bumpe":"≏","Bumpeq":"≎","bumpeq":"≏","Cacute":"Ć","cacute":"ć","capand":"⩄","capbrcup":"⩉","capcap":"⩋","cap":"∩","Cap":"⋒","capcup":"⩇","capdot":"⩀","CapitalDifferentialD":"ⅅ","caps":"∩︀","caret":"⁁","caron":"ˇ","Cayleys":"ℭ","ccaps":"⩍","Ccaron":"Č","ccaron":"č","Ccedil":"Ç","ccedil":"ç","Ccirc":"Ĉ","ccirc":"ĉ","Cconint":"∰","ccups":"⩌","ccupssm":"⩐","Cdot":"Ċ","cdot":"ċ","cedil":"¸","Cedilla":"¸","cemptyv":"⦲","cent":"¢","centerdot":"·","CenterDot":"·","cfr":"𝔠","Cfr":"ℭ","CHcy":"Ч","chcy":"ч","check":"✓","checkmark":"✓","Chi":"Χ","chi":"χ","circ":"ˆ","circeq":"≗","circlearrowleft":"↺","circlearrowright":"↻","circledast":"⊛","circledcirc":"⊚","circleddash":"⊝","CircleDot":"⊙","circledR":"®","circledS":"Ⓢ","CircleMinus":"⊖","CirclePlus":"⊕","CircleTimes":"⊗","cir":"○","cirE":"⧃","cire":"≗","cirfnint":"⨐","cirmid":"⫯","cirscir":"⧂","ClockwiseContourIntegral":"∲","CloseCurlyDoubleQuote":"”","CloseCurlyQuote":"’","clubs":"♣","clubsuit":"♣","colon":":","Colon":"∷","Colone":"⩴","colone":"≔","coloneq":"≔","comma":",","commat":"@","comp":"∁","compfn":"∘","complement":"∁","complexes":"ℂ","cong":"≅","congdot":"⩭","Congruent":"≡","conint":"∮","Conint":"∯","ContourIntegral":"∮","copf":"𝕔","Copf":"ℂ","coprod":"∐","Coproduct":"∐","copy":"©","COPY":"©","copysr":"℗","CounterClockwiseContourIntegral":"∳","crarr":"↵","cross":"✗","Cross":"⨯","Cscr":"𝒞","cscr":"𝒸","csub":"⫏","csube":"⫑","csup":"⫐","csupe":"⫒","ctdot":"⋯","cudarrl":"⤸","cudarrr":"⤵","cuepr":"⋞","cuesc":"⋟","cularr":"↶","cularrp":"⤽","cupbrcap":"⩈","cupcap":"⩆","CupCap":"≍","cup":"∪","Cup":"⋓","cupcup":"⩊","cupdot":"⊍","cupor":"⩅","cups":"∪︀","curarr":"↷","curarrm":"⤼","curlyeqprec":"⋞","curlyeqsucc":"⋟","curlyvee":"⋎","curlywedge":"⋏","curren":"¤","curvearrowleft":"↶","curvearrowright":"↷","cuvee":"⋎","cuwed":"⋏","cwconint":"∲","cwint":"∱","cylcty":"⌭","dagger":"†","Dagger":"‡","daleth":"ℸ","darr":"↓","Darr":"↡","dArr":"⇓","dash":"‐","Dashv":"⫤","dashv":"⊣","dbkarow":"⤏","dblac":"˝","Dcaron":"Ď","dcaron":"ď","Dcy":"Д","dcy":"д","ddagger":"‡","ddarr":"⇊","DD":"ⅅ","dd":"ⅆ","DDotrahd":"⤑","ddotseq":"⩷","deg":"°","Del":"∇","Delta":"Δ","delta":"δ","demptyv":"⦱","dfisht":"⥿","Dfr":"𝔇","dfr":"𝔡","dHar":"⥥","dharl":"⇃","dharr":"⇂","DiacriticalAcute":"´","DiacriticalDot":"˙","DiacriticalDoubleAcute":"˝","DiacriticalGrave":"`","DiacriticalTilde":"˜","diam":"⋄","diamond":"⋄","Diamond":"⋄","diamondsuit":"♦","diams":"♦","die":"¨","DifferentialD":"ⅆ","digamma":"ϝ","disin":"⋲","div":"÷","divide":"÷","divideontimes":"⋇","divonx":"⋇","DJcy":"Ђ","djcy":"ђ","dlcorn":"⌞","dlcrop":"⌍","dollar":"$","Dopf":"𝔻","dopf":"𝕕","Dot":"¨","dot":"˙","DotDot":"⃜","doteq":"≐","doteqdot":"≑","DotEqual":"≐","dotminus":"∸","dotplus":"∔","dotsquare":"⊡","doublebarwedge":"⌆","DoubleContourIntegral":"∯","DoubleDot":"¨","DoubleDownArrow":"⇓","DoubleLeftArrow":"⇐","DoubleLeftRightArrow":"⇔","DoubleLeftTee":"⫤","DoubleLongLeftArrow":"⟸","DoubleLongLeftRightArrow":"⟺","DoubleLongRightArrow":"⟹","DoubleRightArrow":"⇒","DoubleRightTee":"⊨","DoubleUpArrow":"⇑","DoubleUpDownArrow":"⇕","DoubleVerticalBar":"∥","DownArrowBar":"⤓","downarrow":"↓","DownArrow":"↓","Downarrow":"⇓","DownArrowUpArrow":"⇵","DownBreve":"̑","downdownarrows":"⇊","downharpoonleft":"⇃","downharpoonright":"⇂","DownLeftRightVector":"⥐","DownLeftTeeVector":"⥞","DownLeftVectorBar":"⥖","DownLeftVector":"↽","DownRightTeeVector":"⥟","DownRightVectorBar":"⥗","DownRightVector":"⇁","DownTeeArrow":"↧","DownTee":"⊤","drbkarow":"⤐","drcorn":"⌟","drcrop":"⌌","Dscr":"𝒟","dscr":"𝒹","DScy":"Ѕ","dscy":"ѕ","dsol":"⧶","Dstrok":"Đ","dstrok":"đ","dtdot":"⋱","dtri":"▿","dtrif":"▾","duarr":"⇵","duhar":"⥯","dwangle":"⦦","DZcy":"Џ","dzcy":"џ","dzigrarr":"⟿","Eacute":"É","eacute":"é","easter":"⩮","Ecaron":"Ě","ecaron":"ě","Ecirc":"Ê","ecirc":"ê","ecir":"≖","ecolon":"≕","Ecy":"Э","ecy":"э","eDDot":"⩷","Edot":"Ė","edot":"ė","eDot":"≑","ee":"ⅇ","efDot":"≒","Efr":"𝔈","efr":"𝔢","eg":"⪚","Egrave":"È","egrave":"è","egs":"⪖","egsdot":"⪘","el":"⪙","Element":"∈","elinters":"⏧","ell":"ℓ","els":"⪕","elsdot":"⪗","Emacr":"Ē","emacr":"ē","empty":"∅","emptyset":"∅","EmptySmallSquare":"◻","emptyv":"∅","EmptyVerySmallSquare":"▫","emsp13":" ","emsp14":" ","emsp":" ","ENG":"Ŋ","eng":"ŋ","ensp":" ","Eogon":"Ę","eogon":"ę","Eopf":"𝔼","eopf":"𝕖","epar":"⋕","eparsl":"⧣","eplus":"⩱","epsi":"ε","Epsilon":"Ε","epsilon":"ε","epsiv":"ϵ","eqcirc":"≖","eqcolon":"≕","eqsim":"≂","eqslantgtr":"⪖","eqslantless":"⪕","Equal":"⩵","equals":"=","EqualTilde":"≂","equest":"≟","Equilibrium":"⇌","equiv":"≡","equivDD":"⩸","eqvparsl":"⧥","erarr":"⥱","erDot":"≓","escr":"ℯ","Escr":"ℰ","esdot":"≐","Esim":"⩳","esim":"≂","Eta":"Η","eta":"η","ETH":"Ð","eth":"ð","Euml":"Ë","euml":"ë","euro":"€","excl":"!","exist":"∃","Exists":"∃","expectation":"ℰ","exponentiale":"ⅇ","ExponentialE":"ⅇ","fallingdotseq":"≒","Fcy":"Ф","fcy":"ф","female":"♀","ffilig":"ﬃ","fflig":"ﬀ","ffllig":"ﬄ","Ffr":"𝔉","ffr":"𝔣","filig":"ﬁ","FilledSmallSquare":"◼","FilledVerySmallSquare":"▪","fjlig":"fj","flat":"♭","fllig":"ﬂ","fltns":"▱","fnof":"ƒ","Fopf":"𝔽","fopf":"𝕗","forall":"∀","ForAll":"∀","fork":"⋔","forkv":"⫙","Fouriertrf":"ℱ","fpartint":"⨍","frac12":"½","frac13":"⅓","frac14":"¼","frac15":"⅕","frac16":"⅙","frac18":"⅛","frac23":"⅔","frac25":"⅖","frac34":"¾","frac35":"⅗","frac38":"⅜","frac45":"⅘","frac56":"⅚","frac58":"⅝","frac78":"⅞","frasl":"⁄","frown":"⌢","fscr":"𝒻","Fscr":"ℱ","gacute":"ǵ","Gamma":"Γ","gamma":"γ","Gammad":"Ϝ","gammad":"ϝ","gap":"⪆","Gbreve":"Ğ","gbreve":"ğ","Gcedil":"Ģ","Gcirc":"Ĝ","gcirc":"ĝ","Gcy":"Г","gcy":"г","Gdot":"Ġ","gdot":"ġ","ge":"≥","gE":"≧","gEl":"⪌","gel":"⋛","geq":"≥","geqq":"≧","geqslant":"⩾","gescc":"⪩","ges":"⩾","gesdot":"⪀","gesdoto":"⪂","gesdotol":"⪄","gesl":"⋛︀","gesles":"⪔","Gfr":"𝔊","gfr":"𝔤","gg":"≫","Gg":"⋙","ggg":"⋙","gimel":"ℷ","GJcy":"Ѓ","gjcy":"ѓ","gla":"⪥","gl":"≷","glE":"⪒","glj":"⪤","gnap":"⪊","gnapprox":"⪊","gne":"⪈","gnE":"≩","gneq":"⪈","gneqq":"≩","gnsim":"⋧","Gopf":"𝔾","gopf":"𝕘","grave":"`","GreaterEqual":"≥","GreaterEqualLess":"⋛","GreaterFullEqual":"≧","GreaterGreater":"⪢","GreaterLess":"≷","GreaterSlantEqual":"⩾","GreaterTilde":"≳","Gscr":"𝒢","gscr":"ℊ","gsim":"≳","gsime":"⪎","gsiml":"⪐","gtcc":"⪧","gtcir":"⩺","gt":">","GT":">","Gt":"≫","gtdot":"⋗","gtlPar":"⦕","gtquest":"⩼","gtrapprox":"⪆","gtrarr":"⥸","gtrdot":"⋗","gtreqless":"⋛","gtreqqless":"⪌","gtrless":"≷","gtrsim":"≳","gvertneqq":"≩︀","gvnE":"≩︀","Hacek":"ˇ","hairsp":" ","half":"½","hamilt":"ℋ","HARDcy":"Ъ","hardcy":"ъ","harrcir":"⥈","harr":"↔","hArr":"⇔","harrw":"↭","Hat":"^","hbar":"ℏ","Hcirc":"Ĥ","hcirc":"ĥ","hearts":"♥","heartsuit":"♥","hellip":"…","hercon":"⊹","hfr":"𝔥","Hfr":"ℌ","HilbertSpace":"ℋ","hksearow":"⤥","hkswarow":"⤦","hoarr":"⇿","homtht":"∻","hookleftarrow":"↩","hookrightarrow":"↪","hopf":"𝕙","Hopf":"ℍ","horbar":"―","HorizontalLine":"─","hscr":"𝒽","Hscr":"ℋ","hslash":"ℏ","Hstrok":"Ħ","hstrok":"ħ","HumpDownHump":"≎","HumpEqual":"≏","hybull":"⁃","hyphen":"‐","Iacute":"Í","iacute":"í","ic":"⁣","Icirc":"Î","icirc":"î","Icy":"И","icy":"и","Idot":"İ","IEcy":"Е","iecy":"е","iexcl":"¡","iff":"⇔","ifr":"𝔦","Ifr":"ℑ","Igrave":"Ì","igrave":"ì","ii":"ⅈ","iiiint":"⨌","iiint":"∭","iinfin":"⧜","iiota":"℩","IJlig":"Ĳ","ijlig":"ĳ","Imacr":"Ī","imacr":"ī","image":"ℑ","ImaginaryI":"ⅈ","imagline":"ℐ","imagpart":"ℑ","imath":"ı","Im":"ℑ","imof":"⊷","imped":"Ƶ","Implies":"⇒","incare":"℅","in":"∈","infin":"∞","infintie":"⧝","inodot":"ı","intcal":"⊺","int":"∫","Int":"∬","integers":"ℤ","Integral":"∫","intercal":"⊺","Intersection":"⋂","intlarhk":"⨗","intprod":"⨼","InvisibleComma":"⁣","InvisibleTimes":"⁢","IOcy":"Ё","iocy":"ё","Iogon":"Į","iogon":"į","Iopf":"𝕀","iopf":"𝕚","Iota":"Ι","iota":"ι","iprod":"⨼","iquest":"¿","iscr":"𝒾","Iscr":"ℐ","isin":"∈","isindot":"⋵","isinE":"⋹","isins":"⋴","isinsv":"⋳","isinv":"∈","it":"⁢","Itilde":"Ĩ","itilde":"ĩ","Iukcy":"І","iukcy":"і","Iuml":"Ï","iuml":"ï","Jcirc":"Ĵ","jcirc":"ĵ","Jcy":"Й","jcy":"й","Jfr":"𝔍","jfr":"𝔧","jmath":"ȷ","Jopf":"𝕁","jopf":"𝕛","Jscr":"𝒥","jscr":"𝒿","Jsercy":"Ј","jsercy":"ј","Jukcy":"Є","jukcy":"є","Kappa":"Κ","kappa":"κ","kappav":"ϰ","Kcedil":"Ķ","kcedil":"ķ","Kcy":"К","kcy":"к","Kfr":"𝔎","kfr":"𝔨","kgreen":"ĸ","KHcy":"Х","khcy":"х","KJcy":"Ќ","kjcy":"ќ","Kopf":"𝕂","kopf":"𝕜","Kscr":"𝒦","kscr":"𝓀","lAarr":"⇚","Lacute":"Ĺ","lacute":"ĺ","laemptyv":"⦴","lagran":"ℒ","Lambda":"Λ","lambda":"λ","lang":"⟨","Lang":"⟪","langd":"⦑","langle":"⟨","lap":"⪅","Laplacetrf":"ℒ","laquo":"«","larrb":"⇤","larrbfs":"⤟","larr":"←","Larr":"↞","lArr":"⇐","larrfs":"⤝","larrhk":"↩","larrlp":"↫","larrpl":"⤹","larrsim":"⥳","larrtl":"↢","latail":"⤙","lAtail":"⤛","lat":"⪫","late":"⪭","lates":"⪭︀","lbarr":"⤌","lBarr":"⤎","lbbrk":"❲","lbrace":"{","lbrack":"[","lbrke":"⦋","lbrksld":"⦏","lbrkslu":"⦍","Lcaron":"Ľ","lcaron":"ľ","Lcedil":"Ļ","lcedil":"ļ","lceil":"⌈","lcub":"{","Lcy":"Л","lcy":"л","ldca":"⤶","ldquo":"“","ldquor":"„","ldrdhar":"⥧","ldrushar":"⥋","ldsh":"↲","le":"≤","lE":"≦","LeftAngleBracket":"⟨","LeftArrowBar":"⇤","leftarrow":"←","LeftArrow":"←","Leftarrow":"⇐","LeftArrowRightArrow":"⇆","leftarrowtail":"↢","LeftCeiling":"⌈","LeftDoubleBracket":"⟦","LeftDownTeeVector":"⥡","LeftDownVectorBar":"⥙","LeftDownVector":"⇃","LeftFloor":"⌊","leftharpoondown":"↽","leftharpoonup":"↼","leftleftarrows":"⇇","leftrightarrow":"↔","LeftRightArrow":"↔","Leftrightarrow":"⇔","leftrightarrows":"⇆","leftrightharpoons":"⇋","leftrightsquigarrow":"↭","LeftRightVector":"⥎","LeftTeeArrow":"↤","LeftTee":"⊣","LeftTeeVector":"⥚","leftthreetimes":"⋋","LeftTriangleBar":"⧏","LeftTriangle":"⊲","LeftTriangleEqual":"⊴","LeftUpDownVector":"⥑","LeftUpTeeVector":"⥠","LeftUpVectorBar":"⥘","LeftUpVector":"↿","LeftVectorBar":"⥒","LeftVector":"↼","lEg":"⪋","leg":"⋚","leq":"≤","leqq":"≦","leqslant":"⩽","lescc":"⪨","les":"⩽","lesdot":"⩿","lesdoto":"⪁","lesdotor":"⪃","lesg":"⋚︀","lesges":"⪓","lessapprox":"⪅","lessdot":"⋖","lesseqgtr":"⋚","lesseqqgtr":"⪋","LessEqualGreater":"⋚","LessFullEqual":"≦","LessGreater":"≶","lessgtr":"≶","LessLess":"⪡","lesssim":"≲","LessSlantEqual":"⩽","LessTilde":"≲","lfisht":"⥼","lfloor":"⌊","Lfr":"𝔏","lfr":"𝔩","lg":"≶","lgE":"⪑","lHar":"⥢","lhard":"↽","lharu":"↼","lharul":"⥪","lhblk":"▄","LJcy":"Љ","ljcy":"љ","llarr":"⇇","ll":"≪","Ll":"⋘","llcorner":"⌞","Lleftarrow":"⇚","llhard":"⥫","lltri":"◺","Lmidot":"Ŀ","lmidot":"ŀ","lmoustache":"⎰","lmoust":"⎰","lnap":"⪉","lnapprox":"⪉","lne":"⪇","lnE":"≨","lneq":"⪇","lneqq":"≨","lnsim":"⋦","loang":"⟬","loarr":"⇽","lobrk":"⟦","longleftarrow":"⟵","LongLeftArrow":"⟵","Longleftarrow":"⟸","longleftrightarrow":"⟷","LongLeftRightArrow":"⟷","Longleftrightarrow":"⟺","longmapsto":"⟼","longrightarrow":"⟶","LongRightArrow":"⟶","Longrightarrow":"⟹","looparrowleft":"↫","looparrowright":"↬","lopar":"⦅","Lopf":"𝕃","lopf":"𝕝","loplus":"⨭","lotimes":"⨴","lowast":"∗","lowbar":"_","LowerLeftArrow":"↙","LowerRightArrow":"↘","loz":"◊","lozenge":"◊","lozf":"⧫","lpar":"(","lparlt":"⦓","lrarr":"⇆","lrcorner":"⌟","lrhar":"⇋","lrhard":"⥭","lrm":"‎","lrtri":"⊿","lsaquo":"‹","lscr":"𝓁","Lscr":"ℒ","lsh":"↰","Lsh":"↰","lsim":"≲","lsime":"⪍","lsimg":"⪏","lsqb":"[","lsquo":"‘","lsquor":"‚","Lstrok":"Ł","lstrok":"ł","ltcc":"⪦","ltcir":"⩹","lt":"<","LT":"<","Lt":"≪","ltdot":"⋖","lthree":"⋋","ltimes":"⋉","ltlarr":"⥶","ltquest":"⩻","ltri":"◃","ltrie":"⊴","ltrif":"◂","ltrPar":"⦖","lurdshar":"⥊","luruhar":"⥦","lvertneqq":"≨︀","lvnE":"≨︀","macr":"¯","male":"♂","malt":"✠","maltese":"✠","Map":"⤅","map":"↦","mapsto":"↦","mapstodown":"↧","mapstoleft":"↤","mapstoup":"↥","marker":"▮","mcomma":"⨩","Mcy":"М","mcy":"м","mdash":"—","mDDot":"∺","measuredangle":"∡","MediumSpace":" ","Mellintrf":"ℳ","Mfr":"𝔐","mfr":"𝔪","mho":"℧","micro":"µ","midast":"*","midcir":"⫰","mid":"∣","middot":"·","minusb":"⊟","minus":"−","minusd":"∸","minusdu":"⨪","MinusPlus":"∓","mlcp":"⫛","mldr":"…","mnplus":"∓","models":"⊧","Mopf":"𝕄","mopf":"𝕞","mp":"∓","mscr":"𝓂","Mscr":"ℳ","mstpos":"∾","Mu":"Μ","mu":"μ","multimap":"⊸","mumap":"⊸","nabla":"∇","Nacute":"Ń","nacute":"ń","nang":"∠⃒","nap":"≉","napE":"⩰̸","napid":"≋̸","napos":"ŉ","napprox":"≉","natural":"♮","naturals":"ℕ","natur":"♮","nbsp":" ","nbump":"≎̸","nbumpe":"≏̸","ncap":"⩃","Ncaron":"Ň","ncaron":"ň","Ncedil":"Ņ","ncedil":"ņ","ncong":"≇","ncongdot":"⩭̸","ncup":"⩂","Ncy":"Н","ncy":"н","ndash":"–","nearhk":"⤤","nearr":"↗","neArr":"⇗","nearrow":"↗","ne":"≠","nedot":"≐̸","NegativeMediumSpace":"​","NegativeThickSpace":"​","NegativeThinSpace":"​","NegativeVeryThinSpace":"​","nequiv":"≢","nesear":"⤨","nesim":"≂̸","NestedGreaterGreater":"≫","NestedLessLess":"≪","NewLine":"\\n","nexist":"∄","nexists":"∄","Nfr":"𝔑","nfr":"𝔫","ngE":"≧̸","nge":"≱","ngeq":"≱","ngeqq":"≧̸","ngeqslant":"⩾̸","nges":"⩾̸","nGg":"⋙̸","ngsim":"≵","nGt":"≫⃒","ngt":"≯","ngtr":"≯","nGtv":"≫̸","nharr":"↮","nhArr":"⇎","nhpar":"⫲","ni":"∋","nis":"⋼","nisd":"⋺","niv":"∋","NJcy":"Њ","njcy":"њ","nlarr":"↚","nlArr":"⇍","nldr":"‥","nlE":"≦̸","nle":"≰","nleftarrow":"↚","nLeftarrow":"⇍","nleftrightarrow":"↮","nLeftrightarrow":"⇎","nleq":"≰","nleqq":"≦̸","nleqslant":"⩽̸","nles":"⩽̸","nless":"≮","nLl":"⋘̸","nlsim":"≴","nLt":"≪⃒","nlt":"≮","nltri":"⋪","nltrie":"⋬","nLtv":"≪̸","nmid":"∤","NoBreak":"⁠","NonBreakingSpace":" ","nopf":"𝕟","Nopf":"ℕ","Not":"⫬","not":"¬","NotCongruent":"≢","NotCupCap":"≭","NotDoubleVerticalBar":"∦","NotElement":"∉","NotEqual":"≠","NotEqualTilde":"≂̸","NotExists":"∄","NotGreater":"≯","NotGreaterEqual":"≱","NotGreaterFullEqual":"≧̸","NotGreaterGreater":"≫̸","NotGreaterLess":"≹","NotGreaterSlantEqual":"⩾̸","NotGreaterTilde":"≵","NotHumpDownHump":"≎̸","NotHumpEqual":"≏̸","notin":"∉","notindot":"⋵̸","notinE":"⋹̸","notinva":"∉","notinvb":"⋷","notinvc":"⋶","NotLeftTriangleBar":"⧏̸","NotLeftTriangle":"⋪","NotLeftTriangleEqual":"⋬","NotLess":"≮","NotLessEqual":"≰","NotLessGreater":"≸","NotLessLess":"≪̸","NotLessSlantEqual":"⩽̸","NotLessTilde":"≴","NotNestedGreaterGreater":"⪢̸","NotNestedLessLess":"⪡̸","notni":"∌","notniva":"∌","notnivb":"⋾","notnivc":"⋽","NotPrecedes":"⊀","NotPrecedesEqual":"⪯̸","NotPrecedesSlantEqual":"⋠","NotReverseElement":"∌","NotRightTriangleBar":"⧐̸","NotRightTriangle":"⋫","NotRightTriangleEqual":"⋭","NotSquareSubset":"⊏̸","NotSquareSubsetEqual":"⋢","NotSquareSuperset":"⊐̸","NotSquareSupersetEqual":"⋣","NotSubset":"⊂⃒","NotSubsetEqual":"⊈","NotSucceeds":"⊁","NotSucceedsEqual":"⪰̸","NotSucceedsSlantEqual":"⋡","NotSucceedsTilde":"≿̸","NotSuperset":"⊃⃒","NotSupersetEqual":"⊉","NotTilde":"≁","NotTildeEqual":"≄","NotTildeFullEqual":"≇","NotTildeTilde":"≉","NotVerticalBar":"∤","nparallel":"∦","npar":"∦","nparsl":"⫽⃥","npart":"∂̸","npolint":"⨔","npr":"⊀","nprcue":"⋠","nprec":"⊀","npreceq":"⪯̸","npre":"⪯̸","nrarrc":"⤳̸","nrarr":"↛","nrArr":"⇏","nrarrw":"↝̸","nrightarrow":"↛","nRightarrow":"⇏","nrtri":"⋫","nrtrie":"⋭","nsc":"⊁","nsccue":"⋡","nsce":"⪰̸","Nscr":"𝒩","nscr":"𝓃","nshortmid":"∤","nshortparallel":"∦","nsim":"≁","nsime":"≄","nsimeq":"≄","nsmid":"∤","nspar":"∦","nsqsube":"⋢","nsqsupe":"⋣","nsub":"⊄","nsubE":"⫅̸","nsube":"⊈","nsubset":"⊂⃒","nsubseteq":"⊈","nsubseteqq":"⫅̸","nsucc":"⊁","nsucceq":"⪰̸","nsup":"⊅","nsupE":"⫆̸","nsupe":"⊉","nsupset":"⊃⃒","nsupseteq":"⊉","nsupseteqq":"⫆̸","ntgl":"≹","Ntilde":"Ñ","ntilde":"ñ","ntlg":"≸","ntriangleleft":"⋪","ntrianglelefteq":"⋬","ntriangleright":"⋫","ntrianglerighteq":"⋭","Nu":"Ν","nu":"ν","num":"#","numero":"№","numsp":" ","nvap":"≍⃒","nvdash":"⊬","nvDash":"⊭","nVdash":"⊮","nVDash":"⊯","nvge":"≥⃒","nvgt":">⃒","nvHarr":"⤄","nvinfin":"⧞","nvlArr":"⤂","nvle":"≤⃒","nvlt":"<⃒","nvltrie":"⊴⃒","nvrArr":"⤃","nvrtrie":"⊵⃒","nvsim":"∼⃒","nwarhk":"⤣","nwarr":"↖","nwArr":"⇖","nwarrow":"↖","nwnear":"⤧","Oacute":"Ó","oacute":"ó","oast":"⊛","Ocirc":"Ô","ocirc":"ô","ocir":"⊚","Ocy":"О","ocy":"о","odash":"⊝","Odblac":"Ő","odblac":"ő","odiv":"⨸","odot":"⊙","odsold":"⦼","OElig":"Œ","oelig":"œ","ofcir":"⦿","Ofr":"𝔒","ofr":"𝔬","ogon":"˛","Ograve":"Ò","ograve":"ò","ogt":"⧁","ohbar":"⦵","ohm":"Ω","oint":"∮","olarr":"↺","olcir":"⦾","olcross":"⦻","oline":"‾","olt":"⧀","Omacr":"Ō","omacr":"ō","Omega":"Ω","omega":"ω","Omicron":"Ο","omicron":"ο","omid":"⦶","ominus":"⊖","Oopf":"𝕆","oopf":"𝕠","opar":"⦷","OpenCurlyDoubleQuote":"“","OpenCurlyQuote":"‘","operp":"⦹","oplus":"⊕","orarr":"↻","Or":"⩔","or":"∨","ord":"⩝","order":"ℴ","orderof":"ℴ","ordf":"ª","ordm":"º","origof":"⊶","oror":"⩖","orslope":"⩗","orv":"⩛","oS":"Ⓢ","Oscr":"𝒪","oscr":"ℴ","Oslash":"Ø","oslash":"ø","osol":"⊘","Otilde":"Õ","otilde":"õ","otimesas":"⨶","Otimes":"⨷","otimes":"⊗","Ouml":"Ö","ouml":"ö","ovbar":"⌽","OverBar":"‾","OverBrace":"⏞","OverBracket":"⎴","OverParenthesis":"⏜","para":"¶","parallel":"∥","par":"∥","parsim":"⫳","parsl":"⫽","part":"∂","PartialD":"∂","Pcy":"П","pcy":"п","percnt":"%","period":".","permil":"‰","perp":"⊥","pertenk":"‱","Pfr":"𝔓","pfr":"𝔭","Phi":"Φ","phi":"φ","phiv":"ϕ","phmmat":"ℳ","phone":"☎","Pi":"Π","pi":"π","pitchfork":"⋔","piv":"ϖ","planck":"ℏ","planckh":"ℎ","plankv":"ℏ","plusacir":"⨣","plusb":"⊞","pluscir":"⨢","plus":"+","plusdo":"∔","plusdu":"⨥","pluse":"⩲","PlusMinus":"±","plusmn":"±","plussim":"⨦","plustwo":"⨧","pm":"±","Poincareplane":"ℌ","pointint":"⨕","popf":"𝕡","Popf":"ℙ","pound":"£","prap":"⪷","Pr":"⪻","pr":"≺","prcue":"≼","precapprox":"⪷","prec":"≺","preccurlyeq":"≼","Precedes":"≺","PrecedesEqual":"⪯","PrecedesSlantEqual":"≼","PrecedesTilde":"≾","preceq":"⪯","precnapprox":"⪹","precneqq":"⪵","precnsim":"⋨","pre":"⪯","prE":"⪳","precsim":"≾","prime":"′","Prime":"″","primes":"ℙ","prnap":"⪹","prnE":"⪵","prnsim":"⋨","prod":"∏","Product":"∏","profalar":"⌮","profline":"⌒","profsurf":"⌓","prop":"∝","Proportional":"∝","Proportion":"∷","propto":"∝","prsim":"≾","prurel":"⊰","Pscr":"𝒫","pscr":"𝓅","Psi":"Ψ","psi":"ψ","puncsp":" ","Qfr":"𝔔","qfr":"𝔮","qint":"⨌","qopf":"𝕢","Qopf":"ℚ","qprime":"⁗","Qscr":"𝒬","qscr":"𝓆","quaternions":"ℍ","quatint":"⨖","quest":"?","questeq":"≟","quot":"\\"","QUOT":"\\"","rAarr":"⇛","race":"∽̱","Racute":"Ŕ","racute":"ŕ","radic":"√","raemptyv":"⦳","rang":"⟩","Rang":"⟫","rangd":"⦒","range":"⦥","rangle":"⟩","raquo":"»","rarrap":"⥵","rarrb":"⇥","rarrbfs":"⤠","rarrc":"⤳","rarr":"→","Rarr":"↠","rArr":"⇒","rarrfs":"⤞","rarrhk":"↪","rarrlp":"↬","rarrpl":"⥅","rarrsim":"⥴","Rarrtl":"⤖","rarrtl":"↣","rarrw":"↝","ratail":"⤚","rAtail":"⤜","ratio":"∶","rationals":"ℚ","rbarr":"⤍","rBarr":"⤏","RBarr":"⤐","rbbrk":"❳","rbrace":"}","rbrack":"]","rbrke":"⦌","rbrksld":"⦎","rbrkslu":"⦐","Rcaron":"Ř","rcaron":"ř","Rcedil":"Ŗ","rcedil":"ŗ","rceil":"⌉","rcub":"}","Rcy":"Р","rcy":"р","rdca":"⤷","rdldhar":"⥩","rdquo":"”","rdquor":"”","rdsh":"↳","real":"ℜ","realine":"ℛ","realpart":"ℜ","reals":"ℝ","Re":"ℜ","rect":"▭","reg":"®","REG":"®","ReverseElement":"∋","ReverseEquilibrium":"⇋","ReverseUpEquilibrium":"⥯","rfisht":"⥽","rfloor":"⌋","rfr":"𝔯","Rfr":"ℜ","rHar":"⥤","rhard":"⇁","rharu":"⇀","rharul":"⥬","Rho":"Ρ","rho":"ρ","rhov":"ϱ","RightAngleBracket":"⟩","RightArrowBar":"⇥","rightarrow":"→","RightArrow":"→","Rightarrow":"⇒","RightArrowLeftArrow":"⇄","rightarrowtail":"↣","RightCeiling":"⌉","RightDoubleBracket":"⟧","RightDownTeeVector":"⥝","RightDownVectorBar":"⥕","RightDownVector":"⇂","RightFloor":"⌋","rightharpoondown":"⇁","rightharpoonup":"⇀","rightleftarrows":"⇄","rightleftharpoons":"⇌","rightrightarrows":"⇉","rightsquigarrow":"↝","RightTeeArrow":"↦","RightTee":"⊢","RightTeeVector":"⥛","rightthreetimes":"⋌","RightTriangleBar":"⧐","RightTriangle":"⊳","RightTriangleEqual":"⊵","RightUpDownVector":"⥏","RightUpTeeVector":"⥜","RightUpVectorBar":"⥔","RightUpVector":"↾","RightVectorBar":"⥓","RightVector":"⇀","ring":"˚","risingdotseq":"≓","rlarr":"⇄","rlhar":"⇌","rlm":"‏","rmoustache":"⎱","rmoust":"⎱","rnmid":"⫮","roang":"⟭","roarr":"⇾","robrk":"⟧","ropar":"⦆","ropf":"𝕣","Ropf":"ℝ","roplus":"⨮","rotimes":"⨵","RoundImplies":"⥰","rpar":")","rpargt":"⦔","rppolint":"⨒","rrarr":"⇉","Rrightarrow":"⇛","rsaquo":"›","rscr":"𝓇","Rscr":"ℛ","rsh":"↱","Rsh":"↱","rsqb":"]","rsquo":"’","rsquor":"’","rthree":"⋌","rtimes":"⋊","rtri":"▹","rtrie":"⊵","rtrif":"▸","rtriltri":"⧎","RuleDelayed":"⧴","ruluhar":"⥨","rx":"℞","Sacute":"Ś","sacute":"ś","sbquo":"‚","scap":"⪸","Scaron":"Š","scaron":"š","Sc":"⪼","sc":"≻","sccue":"≽","sce":"⪰","scE":"⪴","Scedil":"Ş","scedil":"ş","Scirc":"Ŝ","scirc":"ŝ","scnap":"⪺","scnE":"⪶","scnsim":"⋩","scpolint":"⨓","scsim":"≿","Scy":"С","scy":"с","sdotb":"⊡","sdot":"⋅","sdote":"⩦","searhk":"⤥","searr":"↘","seArr":"⇘","searrow":"↘","sect":"§","semi":";","seswar":"⤩","setminus":"∖","setmn":"∖","sext":"✶","Sfr":"𝔖","sfr":"𝔰","sfrown":"⌢","sharp":"♯","SHCHcy":"Щ","shchcy":"щ","SHcy":"Ш","shcy":"ш","ShortDownArrow":"↓","ShortLeftArrow":"←","shortmid":"∣","shortparallel":"∥","ShortRightArrow":"→","ShortUpArrow":"↑","shy":"­","Sigma":"Σ","sigma":"σ","sigmaf":"ς","sigmav":"ς","sim":"∼","simdot":"⩪","sime":"≃","simeq":"≃","simg":"⪞","simgE":"⪠","siml":"⪝","simlE":"⪟","simne":"≆","simplus":"⨤","simrarr":"⥲","slarr":"←","SmallCircle":"∘","smallsetminus":"∖","smashp":"⨳","smeparsl":"⧤","smid":"∣","smile":"⌣","smt":"⪪","smte":"⪬","smtes":"⪬︀","SOFTcy":"Ь","softcy":"ь","solbar":"⌿","solb":"⧄","sol":"/","Sopf":"𝕊","sopf":"𝕤","spades":"♠","spadesuit":"♠","spar":"∥","sqcap":"⊓","sqcaps":"⊓︀","sqcup":"⊔","sqcups":"⊔︀","Sqrt":"√","sqsub":"⊏","sqsube":"⊑","sqsubset":"⊏","sqsubseteq":"⊑","sqsup":"⊐","sqsupe":"⊒","sqsupset":"⊐","sqsupseteq":"⊒","square":"□","Square":"□","SquareIntersection":"⊓","SquareSubset":"⊏","SquareSubsetEqual":"⊑","SquareSuperset":"⊐","SquareSupersetEqual":"⊒","SquareUnion":"⊔","squarf":"▪","squ":"□","squf":"▪","srarr":"→","Sscr":"𝒮","sscr":"𝓈","ssetmn":"∖","ssmile":"⌣","sstarf":"⋆","Star":"⋆","star":"☆","starf":"★","straightepsilon":"ϵ","straightphi":"ϕ","strns":"¯","sub":"⊂","Sub":"⋐","subdot":"⪽","subE":"⫅","sube":"⊆","subedot":"⫃","submult":"⫁","subnE":"⫋","subne":"⊊","subplus":"⪿","subrarr":"⥹","subset":"⊂","Subset":"⋐","subseteq":"⊆","subseteqq":"⫅","SubsetEqual":"⊆","subsetneq":"⊊","subsetneqq":"⫋","subsim":"⫇","subsub":"⫕","subsup":"⫓","succapprox":"⪸","succ":"≻","succcurlyeq":"≽","Succeeds":"≻","SucceedsEqual":"⪰","SucceedsSlantEqual":"≽","SucceedsTilde":"≿","succeq":"⪰","succnapprox":"⪺","succneqq":"⪶","succnsim":"⋩","succsim":"≿","SuchThat":"∋","sum":"∑","Sum":"∑","sung":"♪","sup1":"¹","sup2":"²","sup3":"³","sup":"⊃","Sup":"⋑","supdot":"⪾","supdsub":"⫘","supE":"⫆","supe":"⊇","supedot":"⫄","Superset":"⊃","SupersetEqual":"⊇","suphsol":"⟉","suphsub":"⫗","suplarr":"⥻","supmult":"⫂","supnE":"⫌","supne":"⊋","supplus":"⫀","supset":"⊃","Supset":"⋑","supseteq":"⊇","supseteqq":"⫆","supsetneq":"⊋","supsetneqq":"⫌","supsim":"⫈","supsub":"⫔","supsup":"⫖","swarhk":"⤦","swarr":"↙","swArr":"⇙","swarrow":"↙","swnwar":"⤪","szlig":"ß","Tab":"\\t","target":"⌖","Tau":"Τ","tau":"τ","tbrk":"⎴","Tcaron":"Ť","tcaron":"ť","Tcedil":"Ţ","tcedil":"ţ","Tcy":"Т","tcy":"т","tdot":"⃛","telrec":"⌕","Tfr":"𝔗","tfr":"𝔱","there4":"∴","therefore":"∴","Therefore":"∴","Theta":"Θ","theta":"θ","thetasym":"ϑ","thetav":"ϑ","thickapprox":"≈","thicksim":"∼","ThickSpace":"  ","ThinSpace":" ","thinsp":" ","thkap":"≈","thksim":"∼","THORN":"Þ","thorn":"þ","tilde":"˜","Tilde":"∼","TildeEqual":"≃","TildeFullEqual":"≅","TildeTilde":"≈","timesbar":"⨱","timesb":"⊠","times":"×","timesd":"⨰","tint":"∭","toea":"⤨","topbot":"⌶","topcir":"⫱","top":"⊤","Topf":"𝕋","topf":"𝕥","topfork":"⫚","tosa":"⤩","tprime":"‴","trade":"™","TRADE":"™","triangle":"▵","triangledown":"▿","triangleleft":"◃","trianglelefteq":"⊴","triangleq":"≜","triangleright":"▹","trianglerighteq":"⊵","tridot":"◬","trie":"≜","triminus":"⨺","TripleDot":"⃛","triplus":"⨹","trisb":"⧍","tritime":"⨻","trpezium":"⏢","Tscr":"𝒯","tscr":"𝓉","TScy":"Ц","tscy":"ц","TSHcy":"Ћ","tshcy":"ћ","Tstrok":"Ŧ","tstrok":"ŧ","twixt":"≬","twoheadleftarrow":"↞","twoheadrightarrow":"↠","Uacute":"Ú","uacute":"ú","uarr":"↑","Uarr":"↟","uArr":"⇑","Uarrocir":"⥉","Ubrcy":"Ў","ubrcy":"ў","Ubreve":"Ŭ","ubreve":"ŭ","Ucirc":"Û","ucirc":"û","Ucy":"У","ucy":"у","udarr":"⇅","Udblac":"Ű","udblac":"ű","udhar":"⥮","ufisht":"⥾","Ufr":"𝔘","ufr":"𝔲","Ugrave":"Ù","ugrave":"ù","uHar":"⥣","uharl":"↿","uharr":"↾","uhblk":"▀","ulcorn":"⌜","ulcorner":"⌜","ulcrop":"⌏","ultri":"◸","Umacr":"Ū","umacr":"ū","uml":"¨","UnderBar":"_","UnderBrace":"⏟","UnderBracket":"⎵","UnderParenthesis":"⏝","Union":"⋃","UnionPlus":"⊎","Uogon":"Ų","uogon":"ų","Uopf":"𝕌","uopf":"𝕦","UpArrowBar":"⤒","uparrow":"↑","UpArrow":"↑","Uparrow":"⇑","UpArrowDownArrow":"⇅","updownarrow":"↕","UpDownArrow":"↕","Updownarrow":"⇕","UpEquilibrium":"⥮","upharpoonleft":"↿","upharpoonright":"↾","uplus":"⊎","UpperLeftArrow":"↖","UpperRightArrow":"↗","upsi":"υ","Upsi":"ϒ","upsih":"ϒ","Upsilon":"Υ","upsilon":"υ","UpTeeArrow":"↥","UpTee":"⊥","upuparrows":"⇈","urcorn":"⌝","urcorner":"⌝","urcrop":"⌎","Uring":"Ů","uring":"ů","urtri":"◹","Uscr":"𝒰","uscr":"𝓊","utdot":"⋰","Utilde":"Ũ","utilde":"ũ","utri":"▵","utrif":"▴","uuarr":"⇈","Uuml":"Ü","uuml":"ü","uwangle":"⦧","vangrt":"⦜","varepsilon":"ϵ","varkappa":"ϰ","varnothing":"∅","varphi":"ϕ","varpi":"ϖ","varpropto":"∝","varr":"↕","vArr":"⇕","varrho":"ϱ","varsigma":"ς","varsubsetneq":"⊊︀","varsubsetneqq":"⫋︀","varsupsetneq":"⊋︀","varsupsetneqq":"⫌︀","vartheta":"ϑ","vartriangleleft":"⊲","vartriangleright":"⊳","vBar":"⫨","Vbar":"⫫","vBarv":"⫩","Vcy":"В","vcy":"в","vdash":"⊢","vDash":"⊨","Vdash":"⊩","VDash":"⊫","Vdashl":"⫦","veebar":"⊻","vee":"∨","Vee":"⋁","veeeq":"≚","vellip":"⋮","verbar":"|","Verbar":"‖","vert":"|","Vert":"‖","VerticalBar":"∣","VerticalLine":"|","VerticalSeparator":"❘","VerticalTilde":"≀","VeryThinSpace":" ","Vfr":"𝔙","vfr":"𝔳","vltri":"⊲","vnsub":"⊂⃒","vnsup":"⊃⃒","Vopf":"𝕍","vopf":"𝕧","vprop":"∝","vrtri":"⊳","Vscr":"𝒱","vscr":"𝓋","vsubnE":"⫋︀","vsubne":"⊊︀","vsupnE":"⫌︀","vsupne":"⊋︀","Vvdash":"⊪","vzigzag":"⦚","Wcirc":"Ŵ","wcirc":"ŵ","wedbar":"⩟","wedge":"∧","Wedge":"⋀","wedgeq":"≙","weierp":"℘","Wfr":"𝔚","wfr":"𝔴","Wopf":"𝕎","wopf":"𝕨","wp":"℘","wr":"≀","wreath":"≀","Wscr":"𝒲","wscr":"𝓌","xcap":"⋂","xcirc":"◯","xcup":"⋃","xdtri":"▽","Xfr":"𝔛","xfr":"𝔵","xharr":"⟷","xhArr":"⟺","Xi":"Ξ","xi":"ξ","xlarr":"⟵","xlArr":"⟸","xmap":"⟼","xnis":"⋻","xodot":"⨀","Xopf":"𝕏","xopf":"𝕩","xoplus":"⨁","xotime":"⨂","xrarr":"⟶","xrArr":"⟹","Xscr":"𝒳","xscr":"𝓍","xsqcup":"⨆","xuplus":"⨄","xutri":"△","xvee":"⋁","xwedge":"⋀","Yacute":"Ý","yacute":"ý","YAcy":"Я","yacy":"я","Ycirc":"Ŷ","ycirc":"ŷ","Ycy":"Ы","ycy":"ы","yen":"¥","Yfr":"𝔜","yfr":"𝔶","YIcy":"Ї","yicy":"ї","Yopf":"𝕐","yopf":"𝕪","Yscr":"𝒴","yscr":"𝓎","YUcy":"Ю","yucy":"ю","yuml":"ÿ","Yuml":"Ÿ","Zacute":"Ź","zacute":"ź","Zcaron":"Ž","zcaron":"ž","Zcy":"З","zcy":"з","Zdot":"Ż","zdot":"ż","zeetrf":"ℨ","ZeroWidthSpace":"​","Zeta":"Ζ","zeta":"ζ","zfr":"𝔷","Zfr":"ℨ","ZHcy":"Ж","zhcy":"ж","zigrarr":"⇝","zopf":"𝕫","Zopf":"ℤ","Zscr":"𝒵","zscr":"𝓏","zwj":"‍","zwnj":"‌"}')},rQ0s:function(o,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.ToastType=void 0,function(o){o.Error="error",o.Info="info"}(i.ToastType||(i.ToastType={}))},rS7C:function(o,i,s){"use strict";var a=s("F6fn"),l=s("bAF5"),c=s("r3IV"),u=s("TTG4").parse,d=s("vfP8").parse;o.exports=function factory(o,i,s){var l=s?function createAdjustMap(o){var i,s=o.length,a=-1,l={};for(;++a<s;)l[(i=o[a]).toLowerCase()]=i;return l}(s):null;return function h(o,s){var a,u=c(o,i),d=Array.prototype.slice.call(arguments,2),f=u.tagName.toLowerCase();u.tagName=l&&p.call(l,f)?l[f]:f,s&&isChildren(s,u)&&(d.unshift(s),s=null);if(s)for(a in s)addProperty(u.properties,a,s[a]);addChild(u.children,d),"template"===u.tagName&&(u.content={type:"root",children:u.children},u.children=[]);return u};function addProperty(i,s,l){var c,p,f;null!=l&&l==l&&(p=(c=a(o,s)).property,"string"==typeof(f=l)&&(c.spaceSeparated?f=u(f):c.commaSeparated?f=d(f):c.commaOrSpaceSeparated&&(f=u(d(f).join(" ")))),"style"===p&&"string"!=typeof l&&(f=function style(o){var i,s=[];for(i in o)s.push([i,o[i]].join(": "));return s.join("; ")}(f)),"className"===p&&i.className&&(f=i.className.concat(f)),i[p]=function parsePrimitives(o,i,s){var a,l,c;if("object"!=typeof s||!("length"in s))return parsePrimitive(o,i,s);l=s.length,a=-1,c=[];for(;++a<l;)c[a]=parsePrimitive(o,i,s[a]);return c}(c,p,f))}};var p={}.hasOwnProperty;function isChildren(o,i){return"string"==typeof o||"length"in o||function isNode(o,i){var s=i.type;if("input"===o||!s||"string"!=typeof s)return!1;if("object"==typeof i.children&&"length"in i.children)return!0;if(s=s.toLowerCase(),"button"===o)return"menu"!==s&&"submit"!==s&&"reset"!==s&&"button"!==s;return"value"in i}(i.tagName,o)}function addChild(o,i){var s,a;if("string"!=typeof i&&"number"!=typeof i)if("object"==typeof i&&"length"in i)for(s=-1,a=i.length;++s<a;)addChild(o,i[s]);else{if("object"!=typeof i||!("type"in i))throw new Error("Expected node, nodes, or string, got `"+i+"`");o.push(i)}else o.push({type:"text",value:String(i)})}function parsePrimitive(o,i,s){var a=s;return o.number||o.positiveNumber?isNaN(a)||""===a||(a=Number(a)):(o.boolean||o.overloadedBoolean)&&("string"!=typeof a||""!==a&&l(s)!==l(i)||(a=!0)),a}},rbca:function(o,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function getMarkRange(o,i){if(!o||!i)return!1;const s=o.parent.childAfter(o.parentOffset);if(!s.node)return!1;const a=s.node.marks.find((o=>o.type===i));if(!a)return!1;let l=o.index(),c=o.start()+s.offset,u=l+1,d=c+s.node.nodeSize;for(;l>0&&a.isInSet(o.parent.child(l-1).marks);)l-=1,c-=o.parent.child(l).nodeSize;for(;u<o.parent.childCount&&a.isInSet(o.parent.child(u).marks);)d+=o.parent.child(u).nodeSize,u+=1;return{from:c,to:d,mark:a}}},rqsu:function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=s("UxO+"),c=s("GhYw"),u=a(s("xqCI")),d=a(s("/Bf7"));class Keys extends u.default{get name(){return"keys"}get plugins(){return[new l.Plugin({props:{handleDOMEvents:{blur:this.options.onBlur,focus:this.options.onFocus},handleKeyDown:(o,i)=>{if(o.state.selection instanceof l.AllSelection){if("ArrowUp"===i.key){const i=l.Selection.atStart(o.state.doc);return o.dispatch(o.state.tr.setSelection(i)),!0}if("ArrowDown"===i.key){const i=l.Selection.atEnd(o.state.doc);return o.dispatch(o.state.tr.setSelection(i)),!0}}return o.state.selection instanceof c.GapCursor&&"Enter"===i.key?(o.dispatch(o.state.tr.insert(o.state.selection.from,o.state.schema.nodes.paragraph.create({}))),o.dispatch(o.state.tr.setSelection(l.TextSelection.near(o.state.doc.resolve(o.state.selection.from),-1))),!0):!!d.default(i)&&("s"===i.key?(i.preventDefault(),this.options.onSave(),!0):"Enter"===i.key?(i.preventDefault(),this.options.onSaveAndExit(),!0):"Escape"===i.key&&(i.preventDefault(),this.options.onCancel(),!0))}}})]}}i.default=Keys},rzDG:function(o,i,s){"use strict";var a=s("AGgm").isWhiteSpace,l=s("AGgm").isPunctChar,c=s("AGgm").isMdAsciiPunct,u=/['"]/,d=/['"]/g;function replaceAt(o,i,s){return o.substr(0,i)+s+o.substr(i+1)}function process_inlines(o,i){var s,u,p,f,m,g,v,y,b,k,w,S,x,C,_,O,M,A,E,T,D;for(E=[],s=0;s<o.length;s++){for(u=o[s],v=o[s].level,M=E.length-1;M>=0&&!(E[M].level<=v);M--);if(E.length=M+1,"text"===u.type){m=0,g=(p=u.content).length;e:for(;m<g&&(d.lastIndex=m,f=d.exec(p));){if(_=O=!0,m=f.index+1,A="'"===f[0],b=32,f.index-1>=0)b=p.charCodeAt(f.index-1);else for(M=s-1;M>=0&&("softbreak"!==o[M].type&&"hardbreak"!==o[M].type);M--)if("text"===o[M].type){b=o[M].content.charCodeAt(o[M].content.length-1);break}if(k=32,m<g)k=p.charCodeAt(m);else for(M=s+1;M<o.length&&("softbreak"!==o[M].type&&"hardbreak"!==o[M].type);M++)if("text"===o[M].type){k=o[M].content.charCodeAt(0);break}if(w=c(b)||l(String.fromCharCode(b)),S=c(k)||l(String.fromCharCode(k)),x=a(b),(C=a(k))?_=!1:S&&(x||w||(_=!1)),x?O=!1:w&&(C||S||(O=!1)),34===k&&'"'===f[0]&&b>=48&&b<=57&&(O=_=!1),_&&O&&(_=!1,O=S),_||O){if(O)for(M=E.length-1;M>=0&&(y=E[M],!(E[M].level<v));M--)if(y.single===A&&E[M].level===v){y=E[M],A?(T=i.md.options.quotes[2],D=i.md.options.quotes[3]):(T=i.md.options.quotes[0],D=i.md.options.quotes[1]),u.content=replaceAt(u.content,f.index,D),o[y.token].content=replaceAt(o[y.token].content,y.pos,T),m+=D.length-1,y.token===s&&(m+=T.length-1),g=(p=u.content).length,E.length=M;continue e}_?E.push({token:s,pos:f.index,single:A,level:v}):O&&A&&(u.content=replaceAt(u.content,f.index,"’"))}else A&&(u.content=replaceAt(u.content,f.index,"’"))}}}}o.exports=function smartquotes(o){var i;if(o.md.options.typographer)for(i=o.tokens.length-1;i>=0;i--)"inline"===o.tokens[i].type&&u.test(o.tokens[i].content)&&process_inlines(o.tokens[i].children,o)}},rzgJ:function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=s("+V57"),c=a(s("8CBE")),u=a(s("S5OW"));class CheckboxList extends u.default{get name(){return"checkbox_list"}get schema(){return{group:"block",content:"checkbox_item+",toDOM:()=>["ul",{class:this.name},0],parseDOM:[{tag:`[class="${this.name}"]`}]}}keys({type:o,schema:i}){return{"Shift-Ctrl-7":c.default(o,i.nodes.checkbox_item)}}commands({type:o,schema:i}){return()=>c.default(o,i.nodes.checkbox_item)}inputRules({type:o}){return[l.wrappingInputRule(/^-?\s*(\[ \])\s$/i,o)]}toMarkdown(o,i){o.renderList(i,"  ",(()=>"- "))}parseMarkdown(){return{block:"checkbox_list"}}}i.default=CheckboxList},sRdV:function(o,i,s){"use strict";o.exports=function(o){var i={};i.src_Any=s("y8fO").source,i.src_Cc=s("p7ys").source,i.src_Z=s("T8I8").source,i.src_P=s("fKCf").source,i.src_ZPCc=[i.src_Z,i.src_P,i.src_Cc].join("|"),i.src_ZCc=[i.src_Z,i.src_Cc].join("|");return i.src_pseudo_letter="(?:(?![><｜]|"+i.src_ZPCc+")"+i.src_Any+")",i.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",i.src_auth="(?:(?:(?!"+i.src_ZCc+"|[@/\\[\\]()]).)+@)?",i.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",i.src_host_terminator="(?=$|[><｜]|"+i.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+i.src_ZPCc+"))",i.src_path="(?:[/?#](?:(?!"+i.src_ZCc+"|"+"[><｜]|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+i.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+i.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+i.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+i.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+i.src_ZCc+"|[']).)+\\'|\\'(?="+i.src_pseudo_letter+"|[-]).|\\.{2,4}[a-zA-Z0-9%/]|\\.(?!"+i.src_ZCc+"|[.]).|"+(o&&o["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+i.src_ZCc+").|\\!(?!"+i.src_ZCc+"|[!]).|\\?(?!"+i.src_ZCc+"|[?]).)+|\\/)?",i.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',i.src_xn="xn--[a-z0-9\\-]{1,59}",i.src_domain_root="(?:"+i.src_xn+"|"+i.src_pseudo_letter+"{1,63})",i.src_domain="(?:"+i.src_xn+"|(?:"+i.src_pseudo_letter+")|(?:"+i.src_pseudo_letter+"(?:-|"+i.src_pseudo_letter+"){0,61}"+i.src_pseudo_letter+"))",i.src_host="(?:(?:(?:(?:"+i.src_domain+")\\.)*"+i.src_domain+"))",i.tpl_host_fuzzy="(?:"+i.src_ip4+"|(?:(?:(?:"+i.src_domain+")\\.)+(?:%TLDS%)))",i.tpl_host_no_ip_fuzzy="(?:(?:(?:"+i.src_domain+")\\.)+(?:%TLDS%))",i.src_host_strict=i.src_host+i.src_host_terminator,i.tpl_host_fuzzy_strict=i.tpl_host_fuzzy+i.src_host_terminator,i.src_host_port_strict=i.src_host+i.src_port+i.src_host_terminator,i.tpl_host_port_fuzzy_strict=i.tpl_host_fuzzy+i.src_port+i.src_host_terminator,i.tpl_host_port_no_ip_fuzzy_strict=i.tpl_host_no_ip_fuzzy+i.src_port+i.src_host_terminator,i.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+i.src_ZPCc+"|>|$))",i.tpl_email_fuzzy='(^|[><｜]|"|\\(|'+i.src_ZCc+")("+i.src_email_name+"@"+i.tpl_host_fuzzy_strict+")",i.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+i.src_ZPCc+"))((?![$+<=>^`|｜])"+i.tpl_host_port_fuzzy_strict+i.src_path+")",i.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+i.src_ZPCc+"))((?![$+<=>^`|｜])"+i.tpl_host_port_no_ip_fuzzy_strict+i.src_path+")",i}},sh5M:function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=a(s("vOnD")).default.input`
  font-size: 15px;
  background: ${o=>o.theme.toolbarInput};
  color: ${o=>o.theme.toolbarItem};
  border-radius: 2px;
  padding: 3px 8px;
  border: 0;
  margin: 0;
  outline: none;
  flex-grow: 1;

  @media (hover: none) and (pointer: coarse) {
    font-size: 16px;
  }
`;i.default=l},tZow:function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=s("UxO+"),c=s("V2qZ"),u=a(s("xqCI")),d=s("mG1W"),p=s("S+IR");class Folding extends u.default{get name(){return"folding"}get plugins(){let o=!1;return[new l.Plugin({view:i=>(o=!1,i.dispatch(i.state.tr.setMeta("folding",{loaded:!0})),{}),appendTransaction:(i,s,a)=>{if(o)return;if(!i.some((o=>o.getMeta("folding"))))return;let l=!1;const c=a.tr,u=d.findBlockNodes(a.doc);for(const o of u)if("heading"===o.node.type.name){const i=p.headingToPersistenceKey(o.node,this.editor.props.id);"collapsed"===(null===localStorage||void 0===localStorage?void 0:localStorage.getItem(i))&&(c.setNodeMarkup(o.pos,void 0,Object.assign(Object.assign({},o.node.attrs),{collapsed:!0})),l=!0)}return o=!0,l?c:null},props:{decorations:o=>{const{doc:i}=o,s=[],a=d.findBlockNodes(i);let l;for(const o of a)"heading"!==o.node.type.name||l&&!(o.node.attrs.level<=l)?l&&s.push(c.Decoration.node(o.pos,o.pos+o.node.nodeSize,{class:"folded-content"})):o.node.attrs.collapsed?l||(l=o.node.attrs.level):l=void 0;return c.DecorationSet.create(i,s)}}})]}}i.default=Folding},u0qK:function(o,i,s){"use strict";var a=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,l=/\((c|tm|r|p)\)/i,c=/\((c|tm|r|p)\)/gi,u={c:"©",r:"®",p:"§",tm:"™"};function replaceFn(o,i){return u[i.toLowerCase()]}function replace_scoped(o){var i,s,a=0;for(i=o.length-1;i>=0;i--)"text"!==(s=o[i]).type||a||(s.content=s.content.replace(c,replaceFn)),"link_open"===s.type&&"auto"===s.info&&a--,"link_close"===s.type&&"auto"===s.info&&a++}function replace_rare(o){var i,s,l=0;for(i=o.length-1;i>=0;i--)"text"!==(s=o[i]).type||l||a.test(s.content)&&(s.content=s.content.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/gm,"$1—$2").replace(/(^|\s)--(\s|$)/gm,"$1–$2").replace(/(^|[^-\s])--([^-\s]|$)/gm,"$1–$2")),"link_open"===s.type&&"auto"===s.info&&l--,"link_close"===s.type&&"auto"===s.info&&l++}o.exports=function replace(o){var i;if(o.md.options.typographer)for(i=o.tokens.length-1;i>=0;i--)"inline"===o.tokens[i].type&&(l.test(o.tokens[i].content)&&replace_scoped(o.tokens[i].children),a.test(o.tokens[i].content)&&replace_rare(o.tokens[i].children))}},uBZG:function(o,i,s){"use strict";function yaml(o){!function(o){var i=/[*&][^\s[\]{},]+/,s=/!(?:<[\w\-%#;/?:@&=+$,.!~*'()[\]]+>|(?:[a-zA-Z\d-]*!)?[\w\-%#;/?:@&=+$.~*'()]+)?/,a="(?:"+s.source+"(?:[ \t]+"+i.source+")?|"+i.source+"(?:[ \t]+"+s.source+")?)",l=/(?:[^\s\x00-\x08\x0e-\x1f!"#%&'*,\-:>?@[\]`{|}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]|[?:-]<PLAIN>)(?:[ \t]*(?:(?![#:])<PLAIN>|:<PLAIN>))*/.source.replace(/<PLAIN>/g,(function(){return/[^\s\x00-\x08\x0e-\x1f,[\]{}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]/.source})),c=/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'/.source;function createValuePattern(o,i){i=(i||"").replace(/m/g,"")+"m";var s=/([:\-,[{]\s*(?:\s<<prop>>[ \t]+)?)(?:<<value>>)(?=[ \t]*(?:$|,|]|}|(?:[\r\n]\s*)?#))/.source.replace(/<<prop>>/g,(function(){return a})).replace(/<<value>>/g,(function(){return o}));return RegExp(s,i)}o.languages.yaml={scalar:{pattern:RegExp(/([\-:]\s*(?:\s<<prop>>[ \t]+)?[|>])[ \t]*(?:((?:\r?\n|\r)[ \t]+)\S[^\r\n]*(?:\2[^\r\n]+)*)/.source.replace(/<<prop>>/g,(function(){return a}))),lookbehind:!0,alias:"string"},comment:/#.*/,key:{pattern:RegExp(/((?:^|[:\-,[{\r\n?])[ \t]*(?:<<prop>>[ \t]+)?)<<key>>(?=\s*:\s)/.source.replace(/<<prop>>/g,(function(){return a})).replace(/<<key>>/g,(function(){return"(?:"+l+"|"+c+")"}))),lookbehind:!0,greedy:!0,alias:"atrule"},directive:{pattern:/(^[ \t]*)%.+/m,lookbehind:!0,alias:"important"},datetime:{pattern:createValuePattern(/\d{4}-\d\d?-\d\d?(?:[tT]|[ \t]+)\d\d?:\d{2}:\d{2}(?:\.\d*)?(?:[ \t]*(?:Z|[-+]\d\d?(?::\d{2})?))?|\d{4}-\d{2}-\d{2}|\d\d?:\d{2}(?::\d{2}(?:\.\d*)?)?/.source),lookbehind:!0,alias:"number"},boolean:{pattern:createValuePattern(/true|false/.source,"i"),lookbehind:!0,alias:"important"},null:{pattern:createValuePattern(/null|~/.source,"i"),lookbehind:!0,alias:"important"},string:{pattern:createValuePattern(c),lookbehind:!0,greedy:!0},number:{pattern:createValuePattern(/[+-]?(?:0x[\da-f]+|0o[0-7]+|(?:\d+(?:\.\d*)?|\.?\d+)(?:e[+-]?\d+)?|\.inf|\.nan)/.source,"i"),lookbehind:!0},tag:s,important:i,punctuation:/---|[:[\]{}\-,|>?]|\.\.\./},o.languages.yml=o.languages.yaml}(o)}o.exports=yaml,yaml.displayName="yaml",yaml.aliases=["yml"]},uFsh:function(o,i,s){"use strict";function sql(o){o.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:_INSERT|COL)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:S|ING)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:TRUE|FALSE|NULL)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|IN|LIKE|NOT|OR|IS|DIV|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/}}o.exports=sql,sql.displayName="sql",sql.aliases=[]},uM3r:function(o,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const a=s("tsqv"),l=!("undefined"==typeof window)&&"MacIntel"===window.navigator.platform?"⌘":"ctrl";i.default=function blockMenuItems(o){return[{name:"heading",title:o.h1,keywords:"h1 heading1 title",icon:a.Heading1Icon,shortcut:"^ ⇧ 1",attrs:{level:1}},{name:"heading",title:o.h2,keywords:"h2 heading2",icon:a.Heading2Icon,shortcut:"^ ⇧ 2",attrs:{level:2}},{name:"heading",title:o.h3,keywords:"h3 heading3",icon:a.Heading3Icon,shortcut:"^ ⇧ 3",attrs:{level:3}},{name:"separator"},{name:"checkbox_list",title:o.checkboxList,icon:a.TodoListIcon,keywords:"checklist checkbox task",shortcut:"^ ⇧ 7"},{name:"bullet_list",title:o.bulletList,icon:a.BulletedListIcon,shortcut:"^ ⇧ 8"},{name:"ordered_list",title:o.orderedList,icon:a.OrderedListIcon,shortcut:"^ ⇧ 9"},{name:"separator"},{name:"table",title:o.table,icon:a.TableIcon,attrs:{rowsCount:3,colsCount:3}},{name:"blockquote",title:o.quote,icon:a.BlockQuoteIcon,shortcut:`${l} ]`},{name:"code_block",title:o.codeBlock,icon:a.CodeIcon,shortcut:"^ ⇧ \\",keywords:"script"},{name:"hr",title:o.hr,icon:a.HorizontalRuleIcon,shortcut:`${l} _`,keywords:"horizontal rule break line"},{name:"hr",title:o.pageBreak,icon:a.PageBreakIcon,keywords:"page print break line",attrs:{markup:"***"}},{name:"image",title:o.image,icon:a.ImageIcon,keywords:"picture photo"},{name:"link",title:o.link,icon:a.LinkIcon,shortcut:`${l} k`,keywords:"link url uri href"},{name:"separator"},{name:"container_notice",title:o.infoNotice,icon:a.InfoIcon,keywords:"container_notice card information",attrs:{style:"info"}},{name:"container_notice",title:o.warningNotice,icon:a.WarningIcon,keywords:"container_notice card error",attrs:{style:"warning"}},{name:"container_notice",title:o.tipNotice,icon:a.StarredIcon,keywords:"container_notice card suggestion",attrs:{style:"tip"}}]}},usqY:function(o,i,s){"use strict";function isTerminatorChar(o){switch(o){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}o.exports=function text(o,i){for(var s=o.pos;s<o.posMax&&!isTerminatorChar(o.src.charCodeAt(s));)s++;return s!==o.pos&&(i||(o.pending+=o.src.slice(o.pos,s)),o.pos=s,!0)}},vGni:function(o,i,s){"use strict";o.exports=function caseSensitiveTransform(o,i){return i in o?o[i]:i}},vWgF:function(o,i,s){"use strict";o.exports=s("rO12")},vfP8:function(o,i,s){"use strict";i.parse=function parse(o){var i,s=[],a=String(o||""),l=a.indexOf(","),c=0,u=!1;for(;!u;)-1===l&&(l=a.length,u=!0),!(i=a.slice(c,l).trim())&&u||s.push(i),c=l+1,l=a.indexOf(",",c);return s},i.stringify=function stringify(o,i){var s=i||{},a=!1===s.padLeft?"":" ",l=s.padRight?" ":"";""===o[o.length-1]&&(o=o.concat(""));return o.join(l+","+a).trim()}},"vys+":function(o,i,s){"use strict";o.exports=function fence(o,i,s,a){var l,c,u,d,p,f,m,g=!1,v=o.bMarks[i]+o.tShift[i],y=o.eMarks[i];if(o.sCount[i]-o.blkIndent>=4)return!1;if(v+3>y)return!1;if(126!==(l=o.src.charCodeAt(v))&&96!==l)return!1;if(p=v,(c=(v=o.skipChars(v,l))-p)<3)return!1;if(m=o.src.slice(p,v),u=o.src.slice(v,y),96===l&&u.indexOf(String.fromCharCode(l))>=0)return!1;if(a)return!0;for(d=i;!(++d>=s)&&!((v=p=o.bMarks[d]+o.tShift[d])<(y=o.eMarks[d])&&o.sCount[d]<o.blkIndent);)if(o.src.charCodeAt(v)===l&&!(o.sCount[d]-o.blkIndent>=4||(v=o.skipChars(v,l))-p<c||(v=o.skipSpaces(v))<y)){g=!0;break}return c=o.sCount[i],o.line=d+(g?1:0),(f=o.push("fence","code",0)).info=u,f.content=o.getLines(i+1,d,c,!0),f.markup=m,f.map=[i,o.line],!0}},w4kd:function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=s("V2qZ"),c=s("UxO+"),u=s("mG1W"),d=a(s("S5OW"));class TableHeadCell extends d.default{get name(){return"th"}get schema(){return{content:"paragraph+",tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th"}],toDOM:o=>["th",o.attrs.alignment?{style:`text-align: ${o.attrs.alignment}`}:{},0],attrs:{colspan:{default:1},rowspan:{default:1},alignment:{default:null}}}}toMarkdown(){}parseMarkdown(){return{block:"th",getAttrs:o=>({alignment:o.info})}}get plugins(){return[new c.Plugin({props:{decorations:o=>{const{doc:i,selection:s}=o,a=[],c=u.getCellsInRow(0)(s);return c&&c.forEach((({pos:i},d)=>{a.push(l.Decoration.widget(i+1,(()=>{let i="grip-column";u.isColumnSelected(d)(s)&&(i+=" selected"),0===d?i+=" first":d===c.length-1&&(i+=" last");const a=document.createElement("a");return a.className=i,a.addEventListener("mousedown",(i=>{i.preventDefault(),this.options.onSelectColumn(d,o)})),a})))})),l.DecorationSet.create(i,a)}}})]}}i.default=TableHeadCell},wq5p:function(o,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});i.default=o=>i=>{if(!o)return!1;const{from:s,$from:a,to:l,empty:c}=i.selection;return c?o.isInSet(i.storedMarks||a.marks()):i.doc.rangeHasMark(s,l,o)}},wtjL:function(o,i,s){"use strict";var a=s("Vwaf").HTML_TAG_RE;o.exports=function html_inline(o,i){var s,l,c,u=o.pos;return!!o.md.options.html&&(c=o.posMax,!(60!==o.src.charCodeAt(u)||u+2>=c)&&(!(33!==(s=o.src.charCodeAt(u+1))&&63!==s&&47!==s&&!function isLetter(o){var i=32|o;return i>=97&&i<=122}(s))&&(!!(l=o.src.slice(u).match(a))&&(i||(o.push("html_inline","",0).content=o.src.slice(u,u+l[0].length)),o.pos+=l[0].length,!0))))}},xGQ6:function(o,i,s){"use strict";var a={};function encode(o,i,s){var l,c,u,d,p,f="";for("string"!=typeof i&&(s=i,i=encode.defaultChars),void 0===s&&(s=!0),p=function getEncodeCache(o){var i,s,l=a[o];if(l)return l;for(l=a[o]=[],i=0;i<128;i++)s=String.fromCharCode(i),/^[0-9a-z]$/i.test(s)?l.push(s):l.push("%"+("0"+i.toString(16).toUpperCase()).slice(-2));for(i=0;i<o.length;i++)l[o.charCodeAt(i)]=o[i];return l}(i),l=0,c=o.length;l<c;l++)if(u=o.charCodeAt(l),s&&37===u&&l+2<c&&/^[0-9a-f]{2}$/i.test(o.slice(l+1,l+3)))f+=o.slice(l,l+3),l+=2;else if(u<128)f+=p[u];else if(u>=55296&&u<=57343){if(u>=55296&&u<=56319&&l+1<c&&(d=o.charCodeAt(l+1))>=56320&&d<=57343){f+=encodeURIComponent(o[l]+o[l+1]),l++;continue}f+="%EF%BF%BD"}else f+=encodeURIComponent(o[l]);return f}encode.defaultChars=";/?:@&=+$,-_.!~*'()#",encode.componentChars="-_.!~*'()",o.exports=encode},xUGs:function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=s("ABBN"),c=a(s("cohp")),u=a(s("KvXG"));class Strikethrough extends u.default{get name(){return"strikethrough"}get schema(){return{parseDOM:[{tag:"s"},{tag:"del"},{tag:"strike"}],toDOM:()=>["del",0]}}keys({type:o}){return{"Mod-d":l.toggleMark(o)}}inputRules({type:o}){return[c.default(/~([^~]+)~$/,o)]}get toMarkdown(){return{open:"~~",close:"~~",mixable:!0,expelEnclosingWhitespace:!0}}get markdownToken(){return"s"}parseMarkdown(){return{mark:"strikethrough"}}}i.default=Strikethrough},xd2f:function(o,i,s){"use strict";var a=this&&this.__createBinding||(Object.create?function(o,i,s,a){void 0===a&&(a=s),Object.defineProperty(o,a,{enumerable:!0,get:function(){return i[s]}})}:function(o,i,s,a){void 0===a&&(a=s),o[a]=i[s]}),l=this&&this.__setModuleDefault||(Object.create?function(o,i){Object.defineProperty(o,"default",{enumerable:!0,value:i})}:function(o,i){o.default=i}),c=this&&this.__importStar||function(o){if(o&&o.__esModule)return o;var i={};if(null!=o)for(var s in o)"default"!==s&&Object.prototype.hasOwnProperty.call(o,s)&&a(i,o,s);return l(i,o),i},u=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const d=c(s("q1tI")),p=s("mG1W"),f=s("tsqv"),m=c(s("vOnD")),g=u(s("jQOk")),v=u(s("HUrV")),y=u(s("sh5M")),b=u(s("eF4f")),k=u(s("Yosg"));class LinkEditor extends d.Component{constructor(){super(...arguments),this.discardInputValue=!1,this.initialValue=this.href,this.initialSelectionLength=this.props.to-this.props.from,this.state={selectedIndex:-1,value:this.href,previousValue:"",results:{}},this.componentWillUnmount=()=>{if(this.discardInputValue)return;if(this.state.value===this.initialValue)return;const o=(this.state.value||"").trim();if(!o)return this.handleRemoveLink();this.save(o,o)},this.save=(o,i)=>{if(0===(o=o.trim()).length)return;this.discardInputValue=!0;const{from:s,to:a}=this.props;g.default(o)||o.startsWith("/")||(o=`https://${o}`),this.props.onSelectLink({href:o,title:i,from:s,to:a})},this.handleKeyDown=o=>{switch(o.key){case"Enter":{o.preventDefault();const{selectedIndex:i,value:s}=this.state,a=this.state.results[s]||[],{onCreateLink:l}=this.props;if(i>=0){const o=a[i];o?this.save(o.url,o.title):l&&i===a.length&&this.handleCreateLink(this.suggestedLinkTitle)}else this.save(s,s);return void(this.initialSelectionLength&&this.moveSelectionToEnd())}case"Escape":return o.preventDefault(),void(this.initialValue?this.setState({value:this.initialValue},this.moveSelectionToEnd):this.handleRemoveLink());case"ArrowUp":{if(o.shiftKey)return;o.preventDefault(),o.stopPropagation();const i=this.state.selectedIndex-1;return void this.setState({selectedIndex:Math.max(-1,i)})}case"ArrowDown":if(o.shiftKey)return;case"Tab":{o.preventDefault(),o.stopPropagation();const{selectedIndex:i,value:s}=this.state,a=(this.state.results[s]||[]).length,l=i+1;return void this.setState({selectedIndex:Math.min(l,a)})}}},this.handleFocusLink=o=>{this.setState({selectedIndex:o})},this.handleChange=async o=>{const i=o.target.value;this.setState({value:i,selectedIndex:-1});const s=i.trim();if(s&&this.props.onSearchLink)try{const o=await this.props.onSearchLink(s);this.setState((i=>({results:Object.assign(Object.assign({},i.results),{[s]:o}),previousValue:s})))}catch(o){console.error(o)}},this.handleOpenLink=o=>{o.preventDefault(),this.props.onClickLink(this.href,o)},this.handleCreateLink=o=>{this.discardInputValue=!0;const{onCreateLink:i}=this.props;if(0!==(o=o.trim()).length)return i?i(o):void 0},this.handleRemoveLink=()=>{this.discardInputValue=!0;const{from:o,to:i,mark:s,view:a,onRemoveLink:l}=this.props,{state:c,dispatch:u}=this.props.view;s&&u(c.tr.removeMark(o,i,s)),l&&l(),a.focus()},this.handleSelectLink=(o,i)=>s=>{s.preventDefault(),this.save(o,i),this.initialSelectionLength&&this.moveSelectionToEnd()},this.moveSelectionToEnd=()=>{const{to:o,view:i}=this.props,{state:s,dispatch:a}=i;a(p.setTextSelection(o)(s.tr)),i.focus()}}get href(){return this.props.mark?this.props.mark.attrs.href:""}get suggestedLinkTitle(){const{state:o}=this.props.view,{value:i}=this.state,s=o.doc.cut(o.selection.from,o.selection.to).textContent;return i.trim()||s.trim()}render(){const{dictionary:o,theme:i}=this.props,{value:s,selectedIndex:a}=this.state,l=this.state.results[s.trim()]||this.state.results[this.state.previousValue]||[],c=this.props.tooltip,u=s.match(/^https?:\/\//i),p=this.suggestedLinkTitle,m=!!this.props.onCreateLink&&!(p===this.initialValue)&&p.length>0&&!u,g=!!p&&(m||l.length>0);return d.createElement(w,null,d.createElement(y.default,{value:s,placeholder:m?o.findOrCreateDoc:o.searchOrPasteLink,onKeyDown:this.handleKeyDown,onChange:this.handleChange,autoFocus:""===this.href}),d.createElement(b.default,{onClick:this.handleOpenLink,disabled:!s},d.createElement(c,{tooltip:o.openLink,placement:"top"},d.createElement(f.OpenIcon,{color:i.toolbarItem}))),d.createElement(b.default,{onClick:this.handleRemoveLink},d.createElement(c,{tooltip:o.removeLink,placement:"top"},this.initialValue?d.createElement(f.TrashIcon,{color:i.toolbarItem}):d.createElement(f.CloseIcon,{color:i.toolbarItem}))),g&&d.createElement(S,{id:"link-search-results"},l.map(((o,s)=>d.createElement(k.default,{key:o.url,title:o.title,subtitle:o.subtitle,icon:d.createElement(f.DocumentIcon,{color:i.toolbarItem}),onMouseOver:()=>this.handleFocusLink(s),onClick:this.handleSelectLink(o.url,o.title),selected:s===a}))),m&&d.createElement(k.default,{key:"create",title:p,subtitle:o.createNewDoc,icon:d.createElement(f.PlusIcon,{color:i.toolbarItem}),onMouseOver:()=>this.handleFocusLink(l.length),onClick:()=>{this.handleCreateLink(p),this.initialSelectionLength&&this.moveSelectionToEnd()},selected:l.length===a})))}}const w=m.default(v.default)`
  margin-left: -8px;
  margin-right: -8px;
  min-width: 336px;
`,S=m.default.ol`
  background: ${o=>o.theme.toolbarBackground};
  position: absolute;
  top: 100%;
  width: 100%;
  height: auto;
  left: 0;
  padding: 4px 8px 8px;
  margin: 0;
  margin-top: -3px;
  margin-bottom: 0;
  border-radius: 0 0 4px 4px;
  overflow-y: auto;
  max-height: 25vh;

  @media (hover: none) and (pointer: coarse) {
    position: fixed;
    top: auto;
    bottom: 40px;
    border-radius: 0;
    max-height: 50vh;
    padding: 8px 8px 4px;
  }
`;i.default=m.withTheme(LinkEditor)},xnS6:function(o,i,s){"use strict";var a=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0});const l=a(s("S5OW")),c=s("Vb5C");class HardBreak extends l.default{get name(){return"br"}get schema(){return{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:()=>["br"]}}commands({type:o}){return()=>(i,s)=>(s(i.tr.replaceSelectionWith(o.create()).scrollIntoView()),!0)}keys({type:o}){return{"Shift-Enter":(i,s)=>!!c.isInTable(i)&&(s(i.tr.replaceSelectionWith(o.create()).scrollIntoView()),!0)}}toMarkdown(o){o.write(" \\n ")}parseMarkdown(){return{node:"br"}}}i.default=HardBreak},xqCI:function(o,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});i.default=class Extension{constructor(o={}){this.options=Object.assign(Object.assign({},this.defaultOptions),o)}bindEditor(o){this.editor=o}get type(){return"extension"}get name(){return""}get plugins(){return[]}keys(o){return{}}inputRules(o){return[]}commands(o){return o=>()=>!1}get defaultOptions(){return{}}}},y3WP:function(o,i,s){"use strict";var a=s("vGni");o.exports=function caseInsensitiveTransform(o,i){return a(o,i.toLowerCase())}},y8fO:function(o,i){o.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},yKnv:function(o,i,s){"use strict";function postProcess(o,i){var s,a,l,c,u,d;for(s=i.length-1;s>=0;s--)95!==(a=i[s]).marker&&42!==a.marker||-1!==a.end&&(l=i[a.end],d=s>0&&i[s-1].end===a.end+1&&i[s-1].token===a.token-1&&i[a.end+1].token===l.token+1&&i[s-1].marker===a.marker,u=String.fromCharCode(a.marker),(c=o.tokens[a.token]).type=d?"strong_open":"em_open",c.tag=d?"strong":"em",c.nesting=1,c.markup=d?u+u:u,c.content="",(c=o.tokens[l.token]).type=d?"strong_close":"em_close",c.tag=d?"strong":"em",c.nesting=-1,c.markup=d?u+u:u,c.content="",d&&(o.tokens[i[s-1].token].content="",o.tokens[i[a.end+1].token].content="",s--))}o.exports.tokenize=function emphasis(o,i){var s,a,l=o.pos,c=o.src.charCodeAt(l);if(i)return!1;if(95!==c&&42!==c)return!1;for(a=o.scanDelims(o.pos,42===c),s=0;s<a.length;s++)o.push("text","",0).content=String.fromCharCode(c),o.delimiters.push({marker:c,length:a.length,jump:s,token:o.tokens.length-1,end:-1,open:a.can_open,close:a.can_close});return o.pos+=a.length,!0},o.exports.postProcess=function emphasis(o){var i,s=o.tokens_meta,a=o.tokens_meta.length;for(postProcess(o,o.delimiters),i=0;i<a;i++)s[i]&&s[i].delimiters&&postProcess(o,s[i].delimiters)}},z2ZG:function(o,i,s){"use strict";var a=s("U6jy"),l=s("dKIx");o.exports=function merge(o){var i,s,c=o.length,u=[],d=[],p=-1;for(;++p<c;)i=o[p],u.push(i.property),d.push(i.normal),s=i.space;return new l(a.apply(null,u),a.apply(null,d),s)}},"zQ/W":function(o,i,s){"use strict";var a=s("AGgm").normalizeReference,l=s("AGgm").isSpace;o.exports=function link(o,i){var s,c,u,d,p,f,m,g,v,y="",b=o.pos,k=o.posMax,w=o.pos,S=!0;if(91!==o.src.charCodeAt(o.pos))return!1;if(p=o.pos+1,(d=o.md.helpers.parseLinkLabel(o,o.pos,!0))<0)return!1;if((f=d+1)<k&&40===o.src.charCodeAt(f)){for(S=!1,f++;f<k&&(c=o.src.charCodeAt(f),l(c)||10===c);f++);if(f>=k)return!1;for(w=f,(m=o.md.helpers.parseLinkDestination(o.src,f,o.posMax)).ok&&(y=o.md.normalizeLink(m.str),o.md.validateLink(y)?f=m.pos:y=""),w=f;f<k&&(c=o.src.charCodeAt(f),l(c)||10===c);f++);if(m=o.md.helpers.parseLinkTitle(o.src,f,o.posMax),f<k&&w!==f&&m.ok)for(v=m.str,f=m.pos;f<k&&(c=o.src.charCodeAt(f),l(c)||10===c);f++);else v="";(f>=k||41!==o.src.charCodeAt(f))&&(S=!0),f++}if(S){if(void 0===o.env.references)return!1;if(f<k&&91===o.src.charCodeAt(f)?(w=f+1,(f=o.md.helpers.parseLinkLabel(o,f))>=0?u=o.src.slice(w,f++):f=d+1):f=d+1,u||(u=o.src.slice(p,d)),!(g=o.env.references[a(u)]))return o.pos=b,!1;y=g.href,v=g.title}return i||(o.pos=p,o.posMax=d,o.push("link_open","a",1).attrs=s=[["href",y]],v&&s.push(["title",v]),o.md.inline.tokenize(o),o.push("link_close","a",-1)),o.pos=f,o.posMax=k,!0}}}]);
//# sourceMappingURL=vendors~rich-markdown-editor.5e6a9ccce5fd4f371e2d.js.map